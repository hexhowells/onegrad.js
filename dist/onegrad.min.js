!function(r){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=r();else if("function"==typeof define&&define.amd)define([],r);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).onegrad=r()}}(function(){return function(){return function r(t,n,e){function i(o,s){if(!n[o]){if(!t[o]){var u="function"==typeof require&&require;if(!s&&u)return u(o,!0);if(a)return a(o,!0);var l=new Error("Cannot find module '"+o+"'");throw l.code="MODULE_NOT_FOUND",l}var c=n[o]={exports:{}};t[o][0].call(c.exports,function(r){return i(t[o][1][r]||r)},c,c.exports,r,t,n,e)}return n[o].exports}for(var a="function"==typeof require&&require,o=0;o<e.length;o++)i(e[o]);return i}}()({1:[function(r,t,n){"use strict";n.byteLength=function(r){var t=l(r),n=t[0],e=t[1];return 3*(n+e)/4-e},n.toByteArray=function(r){var t,n,e=l(r),o=e[0],s=e[1],u=new a(function(r,t,n){return 3*(t+n)/4-n}(0,o,s)),c=0,f=s>0?o-4:o;for(n=0;n<f;n+=4)t=i[r.charCodeAt(n)]<<18|i[r.charCodeAt(n+1)]<<12|i[r.charCodeAt(n+2)]<<6|i[r.charCodeAt(n+3)],u[c++]=t>>16&255,u[c++]=t>>8&255,u[c++]=255&t;2===s&&(t=i[r.charCodeAt(n)]<<2|i[r.charCodeAt(n+1)]>>4,u[c++]=255&t);1===s&&(t=i[r.charCodeAt(n)]<<10|i[r.charCodeAt(n+1)]<<4|i[r.charCodeAt(n+2)]>>2,u[c++]=t>>8&255,u[c++]=255&t);return u},n.fromByteArray=function(r){for(var t,n=r.length,i=n%3,a=[],o=0,s=n-i;o<s;o+=16383)a.push(c(r,o,o+16383>s?s:o+16383));1===i?(t=r[n-1],a.push(e[t>>2]+e[t<<4&63]+"==")):2===i&&(t=(r[n-2]<<8)+r[n-1],a.push(e[t>>10]+e[t>>4&63]+e[t<<2&63]+"="));return a.join("")};for(var e=[],i=[],a="undefined"!=typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,u=o.length;s<u;++s)e[s]=o[s],i[o.charCodeAt(s)]=s;function l(r){var t=r.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=r.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function c(r,t,n){for(var i,a,o=[],s=t;s<n;s+=3)i=(r[s]<<16&16711680)+(r[s+1]<<8&65280)+(255&r[s+2]),o.push(e[(a=i)>>18&63]+e[a>>12&63]+e[a>>6&63]+e[63&a]);return o.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},{}],2:[function(r,t,n){"use strict";function e(r){var t=32;return(r&=-r)&&t--,65535&r&&(t-=16),16711935&r&&(t-=8),252645135&r&&(t-=4),858993459&r&&(t-=2),1431655765&r&&(t-=1),t}n.INT_BITS=32,n.INT_MAX=2147483647,n.INT_MIN=-1<<31,n.sign=function(r){return(r>0)-(r<0)},n.abs=function(r){var t=r>>31;return(r^t)-t},n.min=function(r,t){return t^(r^t)&-(r<t)},n.max=function(r,t){return r^(r^t)&-(r<t)},n.isPow2=function(r){return!(r&r-1||!r)},n.log2=function(r){var t,n;return t=(r>65535)<<4,t|=n=((r>>>=t)>255)<<3,t|=n=((r>>>=n)>15)<<2,(t|=n=((r>>>=n)>3)<<1)|(r>>>=n)>>1},n.log10=function(r){return r>=1e9?9:r>=1e8?8:r>=1e7?7:r>=1e6?6:r>=1e5?5:r>=1e4?4:r>=1e3?3:r>=100?2:r>=10?1:0},n.popCount=function(r){return 16843009*((r=(858993459&(r-=r>>>1&1431655765))+(r>>>2&858993459))+(r>>>4)&252645135)>>>24},n.countTrailingZeros=e,n.nextPow2=function(r){return r+=0===r,--r,r|=r>>>1,r|=r>>>2,r|=r>>>4,r|=r>>>8,(r|=r>>>16)+1},n.prevPow2=function(r){return r|=r>>>1,r|=r>>>2,r|=r>>>4,r|=r>>>8,(r|=r>>>16)-(r>>>1)},n.parity=function(r){return r^=r>>>16,r^=r>>>8,r^=r>>>4,27030>>>(r&=15)&1};var i=new Array(256);!function(r){for(var t=0;t<256;++t){var n=t,e=t,i=7;for(n>>>=1;n;n>>>=1)e<<=1,e|=1&n,--i;r[t]=e<<i&255}}(i),n.reverse=function(r){return i[255&r]<<24|i[r>>>8&255]<<16|i[r>>>16&255]<<8|i[r>>>24&255]},n.interleave2=function(r,t){return(r=1431655765&((r=858993459&((r=252645135&((r=16711935&((r&=65535)|r<<8))|r<<4))|r<<2))|r<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t&=65535)|t<<8))|t<<4))|t<<2))|t<<1))<<1},n.deinterleave2=function(r,t){return(r=65535&((r=16711935&((r=252645135&((r=858993459&((r=r>>>t&1431655765)|r>>>1))|r>>>2))|r>>>4))|r>>>16))<<16>>16},n.interleave3=function(r,t,n){return r=1227133513&((r=3272356035&((r=251719695&((r=4278190335&((r&=1023)|r<<16))|r<<8))|r<<4))|r<<2),(r|=(t=1227133513&((t=3272356035&((t=251719695&((t=4278190335&((t&=1023)|t<<16))|t<<8))|t<<4))|t<<2))<<1)|(n=1227133513&((n=3272356035&((n=251719695&((n=4278190335&((n&=1023)|n<<16))|n<<8))|n<<4))|n<<2))<<2},n.deinterleave3=function(r,t){return(r=1023&((r=4278190335&((r=251719695&((r=3272356035&((r=r>>>t&1227133513)|r>>>2))|r>>>4))|r>>>8))|r>>>16))<<22>>22},n.nextCombination=function(r){var t=r|r-1;return t+1|(~t&-~t)-1>>>e(r)+1}},{}],3:[function(r,t,n){},{}],4:[function(r,t,n){(function(t){(function(){"use strict";var t=r("base64-js"),e=r("ieee754");n.Buffer=o,n.SlowBuffer=function(r){+r!=r&&(r=0);return o.alloc(+r)},n.INSPECT_MAX_BYTES=50;var i=2147483647;function a(r){if(r>i)throw new RangeError('The value "'+r+'" is invalid for option "size"');var t=new Uint8Array(r);return t.__proto__=o.prototype,t}function o(r,t,n){if("number"==typeof r){if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return l(r)}return s(r,t,n)}function s(r,t,n){if("string"==typeof r)return function(r,t){"string"==typeof t&&""!==t||(t="utf8");if(!o.isEncoding(t))throw new TypeError("Unknown encoding: "+t);var n=0|h(r,t),e=a(n),i=e.write(r,t);i!==n&&(e=e.slice(0,i));return e}(r,t);if(ArrayBuffer.isView(r))return c(r);if(null==r)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof r);if(q(r,ArrayBuffer)||r&&q(r.buffer,ArrayBuffer))return function(r,t,n){if(t<0||r.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(r.byteLength<t+(n||0))throw new RangeError('"length" is outside of buffer bounds');var e;e=void 0===t&&void 0===n?new Uint8Array(r):void 0===n?new Uint8Array(r,t):new Uint8Array(r,t,n);return e.__proto__=o.prototype,e}(r,t,n);if("number"==typeof r)throw new TypeError('The "value" argument must not be of type number. Received type number');var e=r.valueOf&&r.valueOf();if(null!=e&&e!==r)return o.from(e,t,n);var i=function(r){if(o.isBuffer(r)){var t=0|f(r.length),n=a(t);return 0===n.length?n:(r.copy(n,0,0,t),n)}if(void 0!==r.length)return"number"!=typeof r.length||L(r.length)?a(0):c(r);if("Buffer"===r.type&&Array.isArray(r.data))return c(r.data)}(r);if(i)return i;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof r[Symbol.toPrimitive])return o.from(r[Symbol.toPrimitive]("string"),t,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof r)}function u(r){if("number"!=typeof r)throw new TypeError('"size" argument must be of type number');if(r<0)throw new RangeError('The value "'+r+'" is invalid for option "size"')}function l(r){return u(r),a(r<0?0:0|f(r))}function c(r){for(var t=r.length<0?0:0|f(r.length),n=a(t),e=0;e<t;e+=1)n[e]=255&r[e];return n}function f(r){if(r>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return 0|r}function h(r,t){if(o.isBuffer(r))return r.length;if(ArrayBuffer.isView(r)||q(r,ArrayBuffer))return r.byteLength;if("string"!=typeof r)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof r);var n=r.length,e=arguments.length>2&&!0===arguments[2];if(!e&&0===n)return 0;for(var i=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return O(r).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return C(r).length;default:if(i)return e?-1:O(r).length;t=(""+t).toLowerCase(),i=!0}}function p(r,t,n){var e=r[t];r[t]=r[n],r[n]=e}function _(r,t,n,e,i){if(0===r.length)return-1;if("string"==typeof n?(e=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),L(n=+n)&&(n=i?0:r.length-1),n<0&&(n=r.length+n),n>=r.length){if(i)return-1;n=r.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof t&&(t=o.from(t,e)),o.isBuffer(t))return 0===t.length?-1:g(r,t,n,e,i);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(r,t,n):Uint8Array.prototype.lastIndexOf.call(r,t,n):g(r,[t],n,e,i);throw new TypeError("val must be string, number or Buffer")}function g(r,t,n,e,i){var a,o=1,s=r.length,u=t.length;if(void 0!==e&&("ucs2"===(e=String(e).toLowerCase())||"ucs-2"===e||"utf16le"===e||"utf-16le"===e)){if(r.length<2||t.length<2)return-1;o=2,s/=2,u/=2,n/=2}function l(r,t){return 1===o?r[t]:r.readUInt16BE(t*o)}if(i){var c=-1;for(a=n;a<s;a++)if(l(r,a)===l(t,-1===c?0:a-c)){if(-1===c&&(c=a),a-c+1===u)return c*o}else-1!==c&&(a-=a-c),c=-1}else for(n+u>s&&(n=s-u),a=n;a>=0;a--){for(var f=!0,h=0;h<u;h++)if(l(r,a+h)!==l(t,h)){f=!1;break}if(f)return a}return-1}function v(r,t,n,e){n=Number(n)||0;var i=r.length-n;e?(e=Number(e))>i&&(e=i):e=i;var a=t.length;e>a/2&&(e=a/2);for(var o=0;o<e;++o){var s=parseInt(t.substr(2*o,2),16);if(L(s))return o;r[n+o]=s}return o}function d(r,t,n,e){return M(O(t,r.length-n),r,n,e)}function y(r,t,n,e){return M(function(r){for(var t=[],n=0;n<r.length;++n)t.push(255&r.charCodeAt(n));return t}(t),r,n,e)}function m(r,t,n,e){return y(r,t,n,e)}function w(r,t,n,e){return M(C(t),r,n,e)}function b(r,t,n,e){return M(function(r,t){for(var n,e,i,a=[],o=0;o<r.length&&!((t-=2)<0);++o)n=r.charCodeAt(o),e=n>>8,i=n%256,a.push(i),a.push(e);return a}(t,r.length-n),r,n,e)}function A(r,n,e){return 0===n&&e===r.length?t.fromByteArray(r):t.fromByteArray(r.slice(n,e))}function j(r,t,n){n=Math.min(r.length,n);for(var e=[],i=t;i<n;){var a,o,s,u,l=r[i],c=null,f=l>239?4:l>223?3:l>191?2:1;if(i+f<=n)switch(f){case 1:l<128&&(c=l);break;case 2:128==(192&(a=r[i+1]))&&(u=(31&l)<<6|63&a)>127&&(c=u);break;case 3:a=r[i+1],o=r[i+2],128==(192&a)&&128==(192&o)&&(u=(15&l)<<12|(63&a)<<6|63&o)>2047&&(u<55296||u>57343)&&(c=u);break;case 4:a=r[i+1],o=r[i+2],s=r[i+3],128==(192&a)&&128==(192&o)&&128==(192&s)&&(u=(15&l)<<18|(63&a)<<12|(63&o)<<6|63&s)>65535&&u<1114112&&(c=u)}null===c?(c=65533,f=1):c>65535&&(c-=65536,e.push(c>>>10&1023|55296),c=56320|1023&c),e.push(c),i+=f}return function(r){var t=r.length;if(t<=x)return String.fromCharCode.apply(String,r);var n="",e=0;for(;e<t;)n+=String.fromCharCode.apply(String,r.slice(e,e+=x));return n}(e)}n.kMaxLength=i,o.TYPED_ARRAY_SUPPORT=function(){try{var r=new Uint8Array(1);return r.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===r.foo()}catch(r){return!1}}(),o.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(o.prototype,"parent",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.buffer}}),Object.defineProperty(o.prototype,"offset",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.byteOffset}}),"undefined"!=typeof Symbol&&null!=Symbol.species&&o[Symbol.species]===o&&Object.defineProperty(o,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),o.poolSize=8192,o.from=function(r,t,n){return s(r,t,n)},o.prototype.__proto__=Uint8Array.prototype,o.__proto__=Uint8Array,o.alloc=function(r,t,n){return function(r,t,n){return u(r),r<=0?a(r):void 0!==t?"string"==typeof n?a(r).fill(t,n):a(r).fill(t):a(r)}(r,t,n)},o.allocUnsafe=function(r){return l(r)},o.allocUnsafeSlow=function(r){return l(r)},o.isBuffer=function(r){return null!=r&&!0===r._isBuffer&&r!==o.prototype},o.compare=function(r,t){if(q(r,Uint8Array)&&(r=o.from(r,r.offset,r.byteLength)),q(t,Uint8Array)&&(t=o.from(t,t.offset,t.byteLength)),!o.isBuffer(r)||!o.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(r===t)return 0;for(var n=r.length,e=t.length,i=0,a=Math.min(n,e);i<a;++i)if(r[i]!==t[i]){n=r[i],e=t[i];break}return n<e?-1:e<n?1:0},o.isEncoding=function(r){switch(String(r).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(r,t){if(!Array.isArray(r))throw new TypeError('"list" argument must be an Array of Buffers');if(0===r.length)return o.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<r.length;++n)t+=r[n].length;var e=o.allocUnsafe(t),i=0;for(n=0;n<r.length;++n){var a=r[n];if(q(a,Uint8Array)&&(a=o.from(a)),!o.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(e,i),i+=a.length}return e},o.byteLength=h,o.prototype._isBuffer=!0,o.prototype.swap16=function(){var r=this.length;if(r%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<r;t+=2)p(this,t,t+1);return this},o.prototype.swap32=function(){var r=this.length;if(r%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<r;t+=4)p(this,t,t+3),p(this,t+1,t+2);return this},o.prototype.swap64=function(){var r=this.length;if(r%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<r;t+=8)p(this,t,t+7),p(this,t+1,t+6),p(this,t+2,t+5),p(this,t+3,t+4);return this},o.prototype.toString=function(){var r=this.length;return 0===r?"":0===arguments.length?j(this,0,r):function(r,t,n){var e=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(r||(r="utf8");;)switch(r){case"hex":return V(this,t,n);case"utf8":case"utf-8":return j(this,t,n);case"ascii":return k(this,t,n);case"latin1":case"binary":return E(this,t,n);case"base64":return A(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return I(this,t,n);default:if(e)throw new TypeError("Unknown encoding: "+r);r=(r+"").toLowerCase(),e=!0}}.apply(this,arguments)},o.prototype.toLocaleString=o.prototype.toString,o.prototype.equals=function(r){if(!o.isBuffer(r))throw new TypeError("Argument must be a Buffer");return this===r||0===o.compare(this,r)},o.prototype.inspect=function(){var r="",t=n.INSPECT_MAX_BYTES;return r=this.toString("hex",0,t).replace(/(.{2})/g,"$1 ").trim(),this.length>t&&(r+=" ... "),"<Buffer "+r+">"},o.prototype.compare=function(r,t,n,e,i){if(q(r,Uint8Array)&&(r=o.from(r,r.offset,r.byteLength)),!o.isBuffer(r))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof r);if(void 0===t&&(t=0),void 0===n&&(n=r?r.length:0),void 0===e&&(e=0),void 0===i&&(i=this.length),t<0||n>r.length||e<0||i>this.length)throw new RangeError("out of range index");if(e>=i&&t>=n)return 0;if(e>=i)return-1;if(t>=n)return 1;if(this===r)return 0;for(var a=(i>>>=0)-(e>>>=0),s=(n>>>=0)-(t>>>=0),u=Math.min(a,s),l=this.slice(e,i),c=r.slice(t,n),f=0;f<u;++f)if(l[f]!==c[f]){a=l[f],s=c[f];break}return a<s?-1:s<a?1:0},o.prototype.includes=function(r,t,n){return-1!==this.indexOf(r,t,n)},o.prototype.indexOf=function(r,t,n){return _(this,r,t,n,!0)},o.prototype.lastIndexOf=function(r,t,n){return _(this,r,t,n,!1)},o.prototype.write=function(r,t,n,e){if(void 0===t)e="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)e=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(n)?(n>>>=0,void 0===e&&(e="utf8")):(e=n,n=void 0)}var i=this.length-t;if((void 0===n||n>i)&&(n=i),r.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");e||(e="utf8");for(var a=!1;;)switch(e){case"hex":return v(this,r,t,n);case"utf8":case"utf-8":return d(this,r,t,n);case"ascii":return y(this,r,t,n);case"latin1":case"binary":return m(this,r,t,n);case"base64":return w(this,r,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return b(this,r,t,n);default:if(a)throw new TypeError("Unknown encoding: "+e);e=(""+e).toLowerCase(),a=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var x=4096;function k(r,t,n){var e="";n=Math.min(r.length,n);for(var i=t;i<n;++i)e+=String.fromCharCode(127&r[i]);return e}function E(r,t,n){var e="";n=Math.min(r.length,n);for(var i=t;i<n;++i)e+=String.fromCharCode(r[i]);return e}function V(r,t,n){var e=r.length;(!t||t<0)&&(t=0),(!n||n<0||n>e)&&(n=e);for(var i="",a=t;a<n;++a)i+=R(r[a]);return i}function I(r,t,n){for(var e=r.slice(t,n),i="",a=0;a<e.length;a+=2)i+=String.fromCharCode(e[a]+256*e[a+1]);return i}function B(r,t,n){if(r%1!=0||r<0)throw new RangeError("offset is not uint");if(r+t>n)throw new RangeError("Trying to access beyond buffer length")}function S(r,t,n,e,i,a){if(!o.isBuffer(r))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<a)throw new RangeError('"value" argument is out of bounds');if(n+e>r.length)throw new RangeError("Index out of range")}function T(r,t,n,e,i,a){if(n+e>r.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function N(r,t,n,i,a){return t=+t,n>>>=0,a||T(r,0,n,4),e.write(r,t,n,i,23,4),n+4}function z(r,t,n,i,a){return t=+t,n>>>=0,a||T(r,0,n,8),e.write(r,t,n,i,52,8),n+8}o.prototype.slice=function(r,t){var n=this.length;(r=~~r)<0?(r+=n)<0&&(r=0):r>n&&(r=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<r&&(t=r);var e=this.subarray(r,t);return e.__proto__=o.prototype,e},o.prototype.readUIntLE=function(r,t,n){r>>>=0,t>>>=0,n||B(r,t,this.length);for(var e=this[r],i=1,a=0;++a<t&&(i*=256);)e+=this[r+a]*i;return e},o.prototype.readUIntBE=function(r,t,n){r>>>=0,t>>>=0,n||B(r,t,this.length);for(var e=this[r+--t],i=1;t>0&&(i*=256);)e+=this[r+--t]*i;return e},o.prototype.readUInt8=function(r,t){return r>>>=0,t||B(r,1,this.length),this[r]},o.prototype.readUInt16LE=function(r,t){return r>>>=0,t||B(r,2,this.length),this[r]|this[r+1]<<8},o.prototype.readUInt16BE=function(r,t){return r>>>=0,t||B(r,2,this.length),this[r]<<8|this[r+1]},o.prototype.readUInt32LE=function(r,t){return r>>>=0,t||B(r,4,this.length),(this[r]|this[r+1]<<8|this[r+2]<<16)+16777216*this[r+3]},o.prototype.readUInt32BE=function(r,t){return r>>>=0,t||B(r,4,this.length),16777216*this[r]+(this[r+1]<<16|this[r+2]<<8|this[r+3])},o.prototype.readIntLE=function(r,t,n){r>>>=0,t>>>=0,n||B(r,t,this.length);for(var e=this[r],i=1,a=0;++a<t&&(i*=256);)e+=this[r+a]*i;return e>=(i*=128)&&(e-=Math.pow(2,8*t)),e},o.prototype.readIntBE=function(r,t,n){r>>>=0,t>>>=0,n||B(r,t,this.length);for(var e=t,i=1,a=this[r+--e];e>0&&(i*=256);)a+=this[r+--e]*i;return a>=(i*=128)&&(a-=Math.pow(2,8*t)),a},o.prototype.readInt8=function(r,t){return r>>>=0,t||B(r,1,this.length),128&this[r]?-1*(255-this[r]+1):this[r]},o.prototype.readInt16LE=function(r,t){r>>>=0,t||B(r,2,this.length);var n=this[r]|this[r+1]<<8;return 32768&n?4294901760|n:n},o.prototype.readInt16BE=function(r,t){r>>>=0,t||B(r,2,this.length);var n=this[r+1]|this[r]<<8;return 32768&n?4294901760|n:n},o.prototype.readInt32LE=function(r,t){return r>>>=0,t||B(r,4,this.length),this[r]|this[r+1]<<8|this[r+2]<<16|this[r+3]<<24},o.prototype.readInt32BE=function(r,t){return r>>>=0,t||B(r,4,this.length),this[r]<<24|this[r+1]<<16|this[r+2]<<8|this[r+3]},o.prototype.readFloatLE=function(r,t){return r>>>=0,t||B(r,4,this.length),e.read(this,r,!0,23,4)},o.prototype.readFloatBE=function(r,t){return r>>>=0,t||B(r,4,this.length),e.read(this,r,!1,23,4)},o.prototype.readDoubleLE=function(r,t){return r>>>=0,t||B(r,8,this.length),e.read(this,r,!0,52,8)},o.prototype.readDoubleBE=function(r,t){return r>>>=0,t||B(r,8,this.length),e.read(this,r,!1,52,8)},o.prototype.writeUIntLE=function(r,t,n,e){(r=+r,t>>>=0,n>>>=0,e)||S(this,r,t,n,Math.pow(2,8*n)-1,0);var i=1,a=0;for(this[t]=255&r;++a<n&&(i*=256);)this[t+a]=r/i&255;return t+n},o.prototype.writeUIntBE=function(r,t,n,e){(r=+r,t>>>=0,n>>>=0,e)||S(this,r,t,n,Math.pow(2,8*n)-1,0);var i=n-1,a=1;for(this[t+i]=255&r;--i>=0&&(a*=256);)this[t+i]=r/a&255;return t+n},o.prototype.writeUInt8=function(r,t,n){return r=+r,t>>>=0,n||S(this,r,t,1,255,0),this[t]=255&r,t+1},o.prototype.writeUInt16LE=function(r,t,n){return r=+r,t>>>=0,n||S(this,r,t,2,65535,0),this[t]=255&r,this[t+1]=r>>>8,t+2},o.prototype.writeUInt16BE=function(r,t,n){return r=+r,t>>>=0,n||S(this,r,t,2,65535,0),this[t]=r>>>8,this[t+1]=255&r,t+2},o.prototype.writeUInt32LE=function(r,t,n){return r=+r,t>>>=0,n||S(this,r,t,4,4294967295,0),this[t+3]=r>>>24,this[t+2]=r>>>16,this[t+1]=r>>>8,this[t]=255&r,t+4},o.prototype.writeUInt32BE=function(r,t,n){return r=+r,t>>>=0,n||S(this,r,t,4,4294967295,0),this[t]=r>>>24,this[t+1]=r>>>16,this[t+2]=r>>>8,this[t+3]=255&r,t+4},o.prototype.writeIntLE=function(r,t,n,e){if(r=+r,t>>>=0,!e){var i=Math.pow(2,8*n-1);S(this,r,t,n,i-1,-i)}var a=0,o=1,s=0;for(this[t]=255&r;++a<n&&(o*=256);)r<0&&0===s&&0!==this[t+a-1]&&(s=1),this[t+a]=(r/o>>0)-s&255;return t+n},o.prototype.writeIntBE=function(r,t,n,e){if(r=+r,t>>>=0,!e){var i=Math.pow(2,8*n-1);S(this,r,t,n,i-1,-i)}var a=n-1,o=1,s=0;for(this[t+a]=255&r;--a>=0&&(o*=256);)r<0&&0===s&&0!==this[t+a+1]&&(s=1),this[t+a]=(r/o>>0)-s&255;return t+n},o.prototype.writeInt8=function(r,t,n){return r=+r,t>>>=0,n||S(this,r,t,1,127,-128),r<0&&(r=255+r+1),this[t]=255&r,t+1},o.prototype.writeInt16LE=function(r,t,n){return r=+r,t>>>=0,n||S(this,r,t,2,32767,-32768),this[t]=255&r,this[t+1]=r>>>8,t+2},o.prototype.writeInt16BE=function(r,t,n){return r=+r,t>>>=0,n||S(this,r,t,2,32767,-32768),this[t]=r>>>8,this[t+1]=255&r,t+2},o.prototype.writeInt32LE=function(r,t,n){return r=+r,t>>>=0,n||S(this,r,t,4,2147483647,-2147483648),this[t]=255&r,this[t+1]=r>>>8,this[t+2]=r>>>16,this[t+3]=r>>>24,t+4},o.prototype.writeInt32BE=function(r,t,n){return r=+r,t>>>=0,n||S(this,r,t,4,2147483647,-2147483648),r<0&&(r=4294967295+r+1),this[t]=r>>>24,this[t+1]=r>>>16,this[t+2]=r>>>8,this[t+3]=255&r,t+4},o.prototype.writeFloatLE=function(r,t,n){return N(this,r,t,!0,n)},o.prototype.writeFloatBE=function(r,t,n){return N(this,r,t,!1,n)},o.prototype.writeDoubleLE=function(r,t,n){return z(this,r,t,!0,n)},o.prototype.writeDoubleBE=function(r,t,n){return z(this,r,t,!1,n)},o.prototype.copy=function(r,t,n,e){if(!o.isBuffer(r))throw new TypeError("argument should be a Buffer");if(n||(n=0),e||0===e||(e=this.length),t>=r.length&&(t=r.length),t||(t=0),e>0&&e<n&&(e=n),e===n)return 0;if(0===r.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(e<0)throw new RangeError("sourceEnd out of bounds");e>this.length&&(e=this.length),r.length-t<e-n&&(e=r.length-t+n);var i=e-n;if(this===r&&"function"==typeof Uint8Array.prototype.copyWithin)this.copyWithin(t,n,e);else if(this===r&&n<t&&t<e)for(var a=i-1;a>=0;--a)r[a+t]=this[a+n];else Uint8Array.prototype.set.call(r,this.subarray(n,e),t);return i},o.prototype.fill=function(r,t,n,e){if("string"==typeof r){if("string"==typeof t?(e=t,t=0,n=this.length):"string"==typeof n&&(e=n,n=this.length),void 0!==e&&"string"!=typeof e)throw new TypeError("encoding must be a string");if("string"==typeof e&&!o.isEncoding(e))throw new TypeError("Unknown encoding: "+e);if(1===r.length){var i=r.charCodeAt(0);("utf8"===e&&i<128||"latin1"===e)&&(r=i)}}else"number"==typeof r&&(r&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var a;if(t>>>=0,n=void 0===n?this.length:n>>>0,r||(r=0),"number"==typeof r)for(a=t;a<n;++a)this[a]=r;else{var s=o.isBuffer(r)?r:o.from(r,e),u=s.length;if(0===u)throw new TypeError('The value "'+r+'" is invalid for argument "value"');for(a=0;a<n-t;++a)this[a+t]=s[a%u]}return this};var U=/[^+/0-9A-Za-z-_]/g;function R(r){return r<16?"0"+r.toString(16):r.toString(16)}function O(r,t){var n;t=t||1/0;for(var e=r.length,i=null,a=[],o=0;o<e;++o){if((n=r.charCodeAt(o))>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&a.push(239,191,189);continue}if(o+1===e){(t-=3)>-1&&a.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&a.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&a.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;a.push(n)}else if(n<2048){if((t-=2)<0)break;a.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;a.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;a.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return a}function C(r){return t.toByteArray(function(r){if((r=(r=r.split("=")[0]).trim().replace(U,"")).length<2)return"";for(;r.length%4!=0;)r+="=";return r}(r))}function M(r,t,n,e){for(var i=0;i<e&&!(i+n>=t.length||i>=r.length);++i)t[i+n]=r[i];return i}function q(r,t){return r instanceof t||null!=r&&null!=r.constructor&&null!=r.constructor.name&&r.constructor.name===t.name}function L(r){return r!=r}}).call(this)}).call(this,r("buffer").Buffer)},{"base64-js":1,buffer:4,ieee754:10}],5:[function(r,t,n){"use strict";var e=r("./lib/thunk.js");function i(){this.argTypes=[],this.shimArgs=[],this.arrayArgs=[],this.arrayBlockIndices=[],this.scalarArgs=[],this.offsetArgs=[],this.offsetArgIndex=[],this.indexArgs=[],this.shapeArgs=[],this.funcName="",this.pre=null,this.body=null,this.post=null,this.debug=!1}t.exports=function(r){var t=new i;t.pre=r.pre,t.body=r.body,t.post=r.post;var n=r.args.slice(0);t.argTypes=n;for(var a=0;a<n.length;++a){var o=n[a];if("array"===o||"object"==typeof o&&o.blockIndices){if(t.argTypes[a]="array",t.arrayArgs.push(a),t.arrayBlockIndices.push(o.blockIndices?o.blockIndices:0),t.shimArgs.push("array"+a),a<t.pre.args.length&&t.pre.args[a].count>0)throw new Error("cwise: pre() block may not reference array args");if(a<t.post.args.length&&t.post.args[a].count>0)throw new Error("cwise: post() block may not reference array args")}else if("scalar"===o)t.scalarArgs.push(a),t.shimArgs.push("scalar"+a);else if("index"===o){if(t.indexArgs.push(a),a<t.pre.args.length&&t.pre.args[a].count>0)throw new Error("cwise: pre() block may not reference array index");if(a<t.body.args.length&&t.body.args[a].lvalue)throw new Error("cwise: body() block may not write to array index");if(a<t.post.args.length&&t.post.args[a].count>0)throw new Error("cwise: post() block may not reference array index")}else if("shape"===o){if(t.shapeArgs.push(a),a<t.pre.args.length&&t.pre.args[a].lvalue)throw new Error("cwise: pre() block may not write to array shape");if(a<t.body.args.length&&t.body.args[a].lvalue)throw new Error("cwise: body() block may not write to array shape");if(a<t.post.args.length&&t.post.args[a].lvalue)throw new Error("cwise: post() block may not write to array shape")}else{if("object"!=typeof o||!o.offset)throw new Error("cwise: Unknown argument type "+n[a]);t.argTypes[a]="offset",t.offsetArgs.push({array:o.array,offset:o.offset}),t.offsetArgIndex.push(a)}}if(t.arrayArgs.length<=0)throw new Error("cwise: No array arguments specified");if(t.pre.args.length>n.length)throw new Error("cwise: Too many arguments in pre() block");if(t.body.args.length>n.length)throw new Error("cwise: Too many arguments in body() block");if(t.post.args.length>n.length)throw new Error("cwise: Too many arguments in post() block");return t.debug=!!r.printCode||!!r.debug,t.funcName=r.funcName||"cwise",t.blockSize=r.blockSize||64,e(t)}},{"./lib/thunk.js":7}],6:[function(r,t,n){"use strict";var e=r("uniq");function i(r,t,n){var e,i,a=r.length,o=t.arrayArgs.length,s=t.indexArgs.length>0,u=[],l=[],c=0,f=0;for(e=0;e<a;++e)l.push(["i",e,"=0"].join(""));for(i=0;i<o;++i)for(e=0;e<a;++e)f=c,c=r[e],0===e?l.push(["d",i,"s",e,"=t",i,"p",c].join("")):l.push(["d",i,"s",e,"=(t",i,"p",c,"-s",f,"*t",i,"p",f,")"].join(""));for(l.length>0&&u.push("var "+l.join(",")),e=a-1;e>=0;--e)c=r[e],u.push(["for(i",e,"=0;i",e,"<s",c,";++i",e,"){"].join(""));for(u.push(n),e=0;e<a;++e){for(f=c,c=r[e],i=0;i<o;++i)u.push(["p",i,"+=d",i,"s",e].join(""));s&&(e>0&&u.push(["index[",f,"]-=s",f].join("")),u.push(["++index[",c,"]"].join(""))),u.push("}")}return u.join("\n")}function a(r,t,n){for(var e=r.body,i=[],a=[],o=0;o<r.args.length;++o){var s=r.args[o];if(!(s.count<=0)){var u=new RegExp(s.name,"g"),l="",c=t.arrayArgs.indexOf(o);switch(t.argTypes[o]){case"offset":var f=t.offsetArgIndex.indexOf(o);c=t.offsetArgs[f].array,l="+q"+f;case"array":l="p"+c+l;var h="l"+o,p="a"+c;if(0===t.arrayBlockIndices[c])1===s.count?"generic"===n[c]?s.lvalue?(i.push(["var ",h,"=",p,".get(",l,")"].join("")),e=e.replace(u,h),a.push([p,".set(",l,",",h,")"].join(""))):e=e.replace(u,[p,".get(",l,")"].join("")):e=e.replace(u,[p,"[",l,"]"].join("")):"generic"===n[c]?(i.push(["var ",h,"=",p,".get(",l,")"].join("")),e=e.replace(u,h),s.lvalue&&a.push([p,".set(",l,",",h,")"].join(""))):(i.push(["var ",h,"=",p,"[",l,"]"].join("")),e=e.replace(u,h),s.lvalue&&a.push([p,"[",l,"]=",h].join("")));else{for(var _=[s.name],g=[l],v=0;v<Math.abs(t.arrayBlockIndices[c]);v++)_.push("\\s*\\[([^\\]]+)\\]"),g.push("$"+(v+1)+"*t"+c+"b"+v);if(u=new RegExp(_.join(""),"g"),l=g.join("+"),"generic"===n[c])throw new Error("cwise: Generic arrays not supported in combination with blocks!");e=e.replace(u,[p,"[",l,"]"].join(""))}break;case"scalar":e=e.replace(u,"Y"+t.scalarArgs.indexOf(o));break;case"index":e=e.replace(u,"index");break;case"shape":e=e.replace(u,"shape")}}}return[i.join("\n"),e,a.join("\n")].join("\n").trim()}function o(r){for(var t=new Array(r.length),n=!0,e=0;e<r.length;++e){var i=r[e],a=i.match(/\d+/);a=a?a[0]:"",0===i.charAt(0)?t[e]="u"+i.charAt(1)+a:t[e]=i.charAt(0)+a,e>0&&(n=n&&t[e]===t[e-1])}return n?t[0]:t.join("")}t.exports=function(r,t){for(var n=t[1].length-Math.abs(r.arrayBlockIndices[0])|0,s=new Array(r.arrayArgs.length),u=new Array(r.arrayArgs.length),l=0;l<r.arrayArgs.length;++l)u[l]=t[2*l],s[l]=t[2*l+1];var c=[],f=[],h=[],p=[],_=[];for(l=0;l<r.arrayArgs.length;++l){r.arrayBlockIndices[l]<0?(h.push(0),p.push(n),c.push(n),f.push(n+r.arrayBlockIndices[l])):(h.push(r.arrayBlockIndices[l]),p.push(r.arrayBlockIndices[l]+n),c.push(0),f.push(r.arrayBlockIndices[l]));for(var g=[],v=0;v<s[l].length;v++)h[l]<=s[l][v]&&s[l][v]<p[l]&&g.push(s[l][v]-h[l]);_.push(g)}var d=["SS"],y=["'use strict'"],m=[];for(v=0;v<n;++v)m.push(["s",v,"=SS[",v,"]"].join(""));for(l=0;l<r.arrayArgs.length;++l){for(d.push("a"+l),d.push("t"+l),d.push("p"+l),v=0;v<n;++v)m.push(["t",l,"p",v,"=t",l,"[",h[l]+v,"]"].join(""));for(v=0;v<Math.abs(r.arrayBlockIndices[l]);++v)m.push(["t",l,"b",v,"=t",l,"[",c[l]+v,"]"].join(""))}for(l=0;l<r.scalarArgs.length;++l)d.push("Y"+l);if(r.shapeArgs.length>0&&m.push("shape=SS.slice(0)"),r.indexArgs.length>0){var w=new Array(n);for(l=0;l<n;++l)w[l]="0";m.push(["index=[",w.join(","),"]"].join(""))}for(l=0;l<r.offsetArgs.length;++l){var b=r.offsetArgs[l],A=[];for(v=0;v<b.offset.length;++v)0!==b.offset[v]&&(1===b.offset[v]?A.push(["t",b.array,"p",v].join("")):A.push([b.offset[v],"*t",b.array,"p",v].join("")));0===A.length?m.push("q"+l+"=0"):m.push(["q",l,"=",A.join("+")].join(""))}var j=e([].concat(r.pre.thisVars).concat(r.body.thisVars).concat(r.post.thisVars));for((m=m.concat(j)).length>0&&y.push("var "+m.join(",")),l=0;l<r.arrayArgs.length;++l)y.push("p"+l+"|=0");r.pre.body.length>3&&y.push(a(r.pre,r,u));var x=a(r.body,r,u),k=function(r){for(var t=0,n=r[0].length;t<n;){for(var e=1;e<r.length;++e)if(r[e][t]!==r[0][t])return t;++t}return t}(_);k<n?y.push(function(r,t,n,e){for(var a=t.length,o=n.arrayArgs.length,s=n.blockSize,u=n.indexArgs.length>0,l=[],c=0;c<o;++c)l.push(["var offset",c,"=p",c].join(""));for(c=r;c<a;++c)l.push(["for(var j"+c+"=SS[",t[c],"]|0;j",c,">0;){"].join("")),l.push(["if(j",c,"<",s,"){"].join("")),l.push(["s",t[c],"=j",c].join("")),l.push(["j",c,"=0"].join("")),l.push(["}else{s",t[c],"=",s].join("")),l.push(["j",c,"-=",s,"}"].join("")),u&&l.push(["index[",t[c],"]=j",c].join(""));for(c=0;c<o;++c){for(var f=["offset"+c],h=r;h<a;++h)f.push(["j",h,"*t",c,"p",t[h]].join(""));l.push(["p",c,"=(",f.join("+"),")"].join(""))}for(l.push(i(t,n,e)),c=r;c<a;++c)l.push("}");return l.join("\n")}(k,_[0],r,x)):y.push(i(_[0],r,x)),r.post.body.length>3&&y.push(a(r.post,r,u)),r.debug&&console.log("-----Generated cwise routine for ",t,":\n"+y.join("\n")+"\n----------");var E=[r.funcName||"unnamed","_cwise_loop_",s[0].join("s"),"m",k,o(u)].join("");return new Function(["function ",E,"(",d.join(","),"){",y.join("\n"),"} return ",E].join(""))()}},{uniq:44}],7:[function(r,t,n){"use strict";var e=r("./compile.js");t.exports=function(r){var t=["'use strict'","var CACHED={}"],n=[],i=r.funcName+"_cwise_thunk";t.push(["return function ",i,"(",r.shimArgs.join(","),"){"].join(""));for(var a=[],o=[],s=[["array",r.arrayArgs[0],".shape.slice(",Math.max(0,r.arrayBlockIndices[0]),r.arrayBlockIndices[0]<0?","+r.arrayBlockIndices[0]+")":")"].join("")],u=[],l=[],c=0;c<r.arrayArgs.length;++c){var f=r.arrayArgs[c];n.push(["t",f,"=array",f,".dtype,","r",f,"=array",f,".order"].join("")),a.push("t"+f),a.push("r"+f),o.push("t"+f),o.push("r"+f+".join()"),s.push("array"+f+".data"),s.push("array"+f+".stride"),s.push("array"+f+".offset|0"),c>0&&(u.push("array"+r.arrayArgs[0]+".shape.length===array"+f+".shape.length+"+(Math.abs(r.arrayBlockIndices[0])-Math.abs(r.arrayBlockIndices[c]))),l.push("array"+r.arrayArgs[0]+".shape[shapeIndex+"+Math.max(0,r.arrayBlockIndices[0])+"]===array"+f+".shape[shapeIndex+"+Math.max(0,r.arrayBlockIndices[c])+"]"))}for(r.arrayArgs.length>1&&(t.push("if (!("+u.join(" && ")+")) throw new Error('cwise: Arrays do not all have the same dimensionality!')"),t.push("for(var shapeIndex=array"+r.arrayArgs[0]+".shape.length-"+Math.abs(r.arrayBlockIndices[0])+"; shapeIndex--\x3e0;) {"),t.push("if (!("+l.join(" && ")+")) throw new Error('cwise: Arrays do not all have the same shape!')"),t.push("}")),c=0;c<r.scalarArgs.length;++c)s.push("scalar"+r.scalarArgs[c]);return n.push(["type=[",o.join(","),"].join()"].join("")),n.push("proc=CACHED[type]"),t.push("var "+n.join(",")),t.push(["if(!proc){","CACHED[type]=proc=compile([",a.join(","),"])}","return proc(",s.join(","),")}"].join("")),r.debug&&console.log("-----Generated thunk:\n"+t.join("\n")+"\n----------"),new Function("compile",t.join("\n"))(e.bind(void 0,r))}},{"./compile.js":6}],8:[function(r,t,n){t.exports=r("cwise-compiler")},{"cwise-compiler":5}],9:[function(r,t,n){"use strict";t.exports=function(r,t){switch(void 0===t&&(t=0),typeof r){case"number":if(r>0)return function(r,t){var n,e;for(n=new Array(r),e=0;e<r;++e)n[e]=t;return n}(0|r,t);break;case"object":if("number"==typeof r.length)return function r(t,n,e){var i=0|t[e];if(i<=0)return[];var a,o=new Array(i);if(e===t.length-1)for(a=0;a<i;++a)o[a]=n;else for(a=0;a<i;++a)o[a]=r(t,n,e+1);return o}(r,t,0)}return[]}},{}],10:[function(r,t,n){n.read=function(r,t,n,e,i){var a,o,s=8*i-e-1,u=(1<<s)-1,l=u>>1,c=-7,f=n?i-1:0,h=n?-1:1,p=r[t+f];for(f+=h,a=p&(1<<-c)-1,p>>=-c,c+=s;c>0;a=256*a+r[t+f],f+=h,c-=8);for(o=a&(1<<-c)-1,a>>=-c,c+=e;c>0;o=256*o+r[t+f],f+=h,c-=8);if(0===a)a=1-l;else{if(a===u)return o?NaN:1/0*(p?-1:1);o+=Math.pow(2,e),a-=l}return(p?-1:1)*o*Math.pow(2,a-e)},n.write=function(r,t,n,e,i,a){var o,s,u,l=8*a-i-1,c=(1<<l)-1,f=c>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=e?0:a-1,_=e?1:-1,g=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,o=c):(o=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-o))<1&&(o--,u*=2),(t+=o+f>=1?h/u:h*Math.pow(2,1-f))*u>=2&&(o++,u/=2),o+f>=c?(s=0,o=c):o+f>=1?(s=(t*u-1)*Math.pow(2,i),o+=f):(s=t*Math.pow(2,f-1)*Math.pow(2,i),o=0));i>=8;r[n+p]=255&s,p+=_,s/=256,i-=8);for(o=o<<i|s,l+=i;l>0;r[n+p]=255&o,p+=_,o/=256,l-=8);r[n+p-_]|=128*g}},{}],11:[function(r,t,n){"use strict";t.exports=function(r){for(var t=new Array(r),n=0;n<r;++n)t[n]=n;return t}},{}],12:[function(r,t,n){function e(r){return!!r.constructor&&"function"==typeof r.constructor.isBuffer&&r.constructor.isBuffer(r)}t.exports=function(r){return null!=r&&(e(r)||function(r){return"function"==typeof r.readFloatLE&&"function"==typeof r.slice&&e(r.slice(0,0))}(r)||!!r._isBuffer)}},{}],13:[function(r,t,n){(function(r){(function(){(function(){var e,i=200,a="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",o="Expected a function",s="Invalid `variable` option passed into `_.template`",u="__lodash_hash_undefined__",l=500,c="__lodash_placeholder__",f=1,h=2,p=4,_=1,g=2,v=1,d=2,y=4,m=8,w=16,b=32,A=64,j=128,x=256,k=512,E=30,V="...",I=800,B=16,S=1,T=2,N=1/0,z=9007199254740991,U=1.7976931348623157e308,R=NaN,O=4294967295,C=O-1,M=O>>>1,q=[["ary",j],["bind",v],["bindKey",d],["curry",m],["curryRight",w],["flip",k],["partial",b],["partialRight",A],["rearg",x]],L="[object Arguments]",D="[object Array]",F="[object AsyncFunction]",P="[object Boolean]",G="[object Date]",W="[object DOMException]",$="[object Error]",Y="[object Function]",J="[object GeneratorFunction]",Z="[object Map]",H="[object Number]",K="[object Null]",X="[object Object]",Q="[object Proxy]",rr="[object RegExp]",tr="[object Set]",nr="[object String]",er="[object Symbol]",ir="[object Undefined]",ar="[object WeakMap]",or="[object WeakSet]",sr="[object ArrayBuffer]",ur="[object DataView]",lr="[object Float32Array]",cr="[object Float64Array]",fr="[object Int8Array]",hr="[object Int16Array]",pr="[object Int32Array]",_r="[object Uint8Array]",gr="[object Uint8ClampedArray]",vr="[object Uint16Array]",dr="[object Uint32Array]",yr=/\b__p \+= '';/g,mr=/\b(__p \+=) '' \+/g,wr=/(__e\(.*?\)|\b__t\)) \+\n'';/g,br=/&(?:amp|lt|gt|quot|#39);/g,Ar=/[&<>"']/g,jr=RegExp(br.source),xr=RegExp(Ar.source),kr=/<%-([\s\S]+?)%>/g,Er=/<%([\s\S]+?)%>/g,Vr=/<%=([\s\S]+?)%>/g,Ir=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Br=/^\w*$/,Sr=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Tr=/[\\^$.*+?()[\]{}|]/g,Nr=RegExp(Tr.source),zr=/^\s+/,Ur=/\s/,Rr=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Or=/\{\n\/\* \[wrapped with (.+)\] \*/,Cr=/,? & /,Mr=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,qr=/[()=,{}\[\]\/\s]/,Lr=/\\(\\)?/g,Dr=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Fr=/\w*$/,Pr=/^[-+]0x[0-9a-f]+$/i,Gr=/^0b[01]+$/i,Wr=/^\[object .+?Constructor\]$/,$r=/^0o[0-7]+$/i,Yr=/^(?:0|[1-9]\d*)$/,Jr=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Zr=/($^)/,Hr=/['\n\r\u2028\u2029\\]/g,Kr="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Xr="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Qr="[\\ud800-\\udfff]",rt="["+Xr+"]",tt="["+Kr+"]",nt="\\d+",et="[\\u2700-\\u27bf]",it="[a-z\\xdf-\\xf6\\xf8-\\xff]",at="[^\\ud800-\\udfff"+Xr+nt+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",ot="\\ud83c[\\udffb-\\udfff]",st="[^\\ud800-\\udfff]",ut="(?:\\ud83c[\\udde6-\\uddff]){2}",lt="[\\ud800-\\udbff][\\udc00-\\udfff]",ct="[A-Z\\xc0-\\xd6\\xd8-\\xde]",ft="(?:"+it+"|"+at+")",ht="(?:"+ct+"|"+at+")",pt="(?:"+tt+"|"+ot+")"+"?",_t="[\\ufe0e\\ufe0f]?"+pt+("(?:\\u200d(?:"+[st,ut,lt].join("|")+")[\\ufe0e\\ufe0f]?"+pt+")*"),gt="(?:"+[et,ut,lt].join("|")+")"+_t,vt="(?:"+[st+tt+"?",tt,ut,lt,Qr].join("|")+")",dt=RegExp("['’]","g"),yt=RegExp(tt,"g"),mt=RegExp(ot+"(?="+ot+")|"+vt+_t,"g"),wt=RegExp([ct+"?"+it+"+(?:['’](?:d|ll|m|re|s|t|ve))?(?="+[rt,ct,"$"].join("|")+")",ht+"+(?:['’](?:D|LL|M|RE|S|T|VE))?(?="+[rt,ct+ft,"$"].join("|")+")",ct+"?"+ft+"+(?:['’](?:d|ll|m|re|s|t|ve))?",ct+"+(?:['’](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",nt,gt].join("|"),"g"),bt=RegExp("[\\u200d\\ud800-\\udfff"+Kr+"\\ufe0e\\ufe0f]"),At=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,jt=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],xt=-1,kt={};kt[lr]=kt[cr]=kt[fr]=kt[hr]=kt[pr]=kt[_r]=kt[gr]=kt[vr]=kt[dr]=!0,kt[L]=kt[D]=kt[sr]=kt[P]=kt[ur]=kt[G]=kt[$]=kt[Y]=kt[Z]=kt[H]=kt[X]=kt[rr]=kt[tr]=kt[nr]=kt[ar]=!1;var Et={};Et[L]=Et[D]=Et[sr]=Et[ur]=Et[P]=Et[G]=Et[lr]=Et[cr]=Et[fr]=Et[hr]=Et[pr]=Et[Z]=Et[H]=Et[X]=Et[rr]=Et[tr]=Et[nr]=Et[er]=Et[_r]=Et[gr]=Et[vr]=Et[dr]=!0,Et[$]=Et[Y]=Et[ar]=!1;var Vt={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},It=parseFloat,Bt=parseInt,St="object"==typeof r&&r&&r.Object===Object&&r,Tt="object"==typeof self&&self&&self.Object===Object&&self,Nt=St||Tt||Function("return this")(),zt="object"==typeof n&&n&&!n.nodeType&&n,Ut=zt&&"object"==typeof t&&t&&!t.nodeType&&t,Rt=Ut&&Ut.exports===zt,Ot=Rt&&St.process,Ct=function(){try{var r=Ut&&Ut.require&&Ut.require("util").types;return r||Ot&&Ot.binding&&Ot.binding("util")}catch(r){}}(),Mt=Ct&&Ct.isArrayBuffer,qt=Ct&&Ct.isDate,Lt=Ct&&Ct.isMap,Dt=Ct&&Ct.isRegExp,Ft=Ct&&Ct.isSet,Pt=Ct&&Ct.isTypedArray;function Gt(r,t,n){switch(n.length){case 0:return r.call(t);case 1:return r.call(t,n[0]);case 2:return r.call(t,n[0],n[1]);case 3:return r.call(t,n[0],n[1],n[2])}return r.apply(t,n)}function Wt(r,t,n,e){for(var i=-1,a=null==r?0:r.length;++i<a;){var o=r[i];t(e,o,n(o),r)}return e}function $t(r,t){for(var n=-1,e=null==r?0:r.length;++n<e&&!1!==t(r[n],n,r););return r}function Yt(r,t){for(var n=null==r?0:r.length;n--&&!1!==t(r[n],n,r););return r}function Jt(r,t){for(var n=-1,e=null==r?0:r.length;++n<e;)if(!t(r[n],n,r))return!1;return!0}function Zt(r,t){for(var n=-1,e=null==r?0:r.length,i=0,a=[];++n<e;){var o=r[n];t(o,n,r)&&(a[i++]=o)}return a}function Ht(r,t){return!!(null==r?0:r.length)&&sn(r,t,0)>-1}function Kt(r,t,n){for(var e=-1,i=null==r?0:r.length;++e<i;)if(n(t,r[e]))return!0;return!1}function Xt(r,t){for(var n=-1,e=null==r?0:r.length,i=Array(e);++n<e;)i[n]=t(r[n],n,r);return i}function Qt(r,t){for(var n=-1,e=t.length,i=r.length;++n<e;)r[i+n]=t[n];return r}function rn(r,t,n,e){var i=-1,a=null==r?0:r.length;for(e&&a&&(n=r[++i]);++i<a;)n=t(n,r[i],i,r);return n}function tn(r,t,n,e){var i=null==r?0:r.length;for(e&&i&&(n=r[--i]);i--;)n=t(n,r[i],i,r);return n}function nn(r,t){for(var n=-1,e=null==r?0:r.length;++n<e;)if(t(r[n],n,r))return!0;return!1}var en=fn("length");function an(r,t,n){var e;return n(r,function(r,n,i){if(t(r,n,i))return e=n,!1}),e}function on(r,t,n,e){for(var i=r.length,a=n+(e?1:-1);e?a--:++a<i;)if(t(r[a],a,r))return a;return-1}function sn(r,t,n){return t==t?function(r,t,n){var e=n-1,i=r.length;for(;++e<i;)if(r[e]===t)return e;return-1}(r,t,n):on(r,ln,n)}function un(r,t,n,e){for(var i=n-1,a=r.length;++i<a;)if(e(r[i],t))return i;return-1}function ln(r){return r!=r}function cn(r,t){var n=null==r?0:r.length;return n?_n(r,t)/n:R}function fn(r){return function(t){return null==t?e:t[r]}}function hn(r){return function(t){return null==r?e:r[t]}}function pn(r,t,n,e,i){return i(r,function(r,i,a){n=e?(e=!1,r):t(n,r,i,a)}),n}function _n(r,t){for(var n,i=-1,a=r.length;++i<a;){var o=t(r[i]);o!==e&&(n=n===e?o:n+o)}return n}function gn(r,t){for(var n=-1,e=Array(r);++n<r;)e[n]=t(n);return e}function vn(r){return r?r.slice(0,zn(r)+1).replace(zr,""):r}function dn(r){return function(t){return r(t)}}function yn(r,t){return Xt(t,function(t){return r[t]})}function mn(r,t){return r.has(t)}function wn(r,t){for(var n=-1,e=r.length;++n<e&&sn(t,r[n],0)>-1;);return n}function bn(r,t){for(var n=r.length;n--&&sn(t,r[n],0)>-1;);return n}var An=hn({"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"}),jn=hn({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function xn(r){return"\\"+Vt[r]}function kn(r){return bt.test(r)}function En(r){var t=-1,n=Array(r.size);return r.forEach(function(r,e){n[++t]=[e,r]}),n}function Vn(r,t){return function(n){return r(t(n))}}function In(r,t){for(var n=-1,e=r.length,i=0,a=[];++n<e;){var o=r[n];o!==t&&o!==c||(r[n]=c,a[i++]=n)}return a}function Bn(r){var t=-1,n=Array(r.size);return r.forEach(function(r){n[++t]=r}),n}function Sn(r){var t=-1,n=Array(r.size);return r.forEach(function(r){n[++t]=[r,r]}),n}function Tn(r){return kn(r)?function(r){var t=mt.lastIndex=0;for(;mt.test(r);)++t;return t}(r):en(r)}function Nn(r){return kn(r)?function(r){return r.match(mt)||[]}(r):function(r){return r.split("")}(r)}function zn(r){for(var t=r.length;t--&&Ur.test(r.charAt(t)););return t}var Un=hn({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var Rn=function r(t){var n,Ur=(t=null==t?Nt:Rn.defaults(Nt.Object(),t,Rn.pick(Nt,jt))).Array,Kr=t.Date,Xr=t.Error,Qr=t.Function,rt=t.Math,tt=t.Object,nt=t.RegExp,et=t.String,it=t.TypeError,at=Ur.prototype,ot=Qr.prototype,st=tt.prototype,ut=t["__core-js_shared__"],lt=ot.toString,ct=st.hasOwnProperty,ft=0,ht=(n=/[^.]+$/.exec(ut&&ut.keys&&ut.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",pt=st.toString,_t=lt.call(tt),gt=Nt._,vt=nt("^"+lt.call(ct).replace(Tr,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),mt=Rt?t.Buffer:e,bt=t.Symbol,Vt=t.Uint8Array,St=mt?mt.allocUnsafe:e,Tt=Vn(tt.getPrototypeOf,tt),zt=tt.create,Ut=st.propertyIsEnumerable,Ot=at.splice,Ct=bt?bt.isConcatSpreadable:e,en=bt?bt.iterator:e,hn=bt?bt.toStringTag:e,On=function(){try{var r=La(tt,"defineProperty");return r({},"",{}),r}catch(r){}}(),Cn=t.clearTimeout!==Nt.clearTimeout&&t.clearTimeout,Mn=Kr&&Kr.now!==Nt.Date.now&&Kr.now,qn=t.setTimeout!==Nt.setTimeout&&t.setTimeout,Ln=rt.ceil,Dn=rt.floor,Fn=tt.getOwnPropertySymbols,Pn=mt?mt.isBuffer:e,Gn=t.isFinite,Wn=at.join,$n=Vn(tt.keys,tt),Yn=rt.max,Jn=rt.min,Zn=Kr.now,Hn=t.parseInt,Kn=rt.random,Xn=at.reverse,Qn=La(t,"DataView"),re=La(t,"Map"),te=La(t,"Promise"),ne=La(t,"Set"),ee=La(t,"WeakMap"),ie=La(tt,"create"),ae=ee&&new ee,oe={},se=ho(Qn),ue=ho(re),le=ho(te),ce=ho(ne),fe=ho(ee),he=bt?bt.prototype:e,pe=he?he.valueOf:e,_e=he?he.toString:e;function ge(r){if(Ss(r)&&!ms(r)&&!(r instanceof me)){if(r instanceof ye)return r;if(ct.call(r,"__wrapped__"))return po(r)}return new ye(r)}var ve=function(){function r(){}return function(t){if(!Bs(t))return{};if(zt)return zt(t);r.prototype=t;var n=new r;return r.prototype=e,n}}();function de(){}function ye(r,t){this.__wrapped__=r,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=e}function me(r){this.__wrapped__=r,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=O,this.__views__=[]}function we(r){var t=-1,n=null==r?0:r.length;for(this.clear();++t<n;){var e=r[t];this.set(e[0],e[1])}}function be(r){var t=-1,n=null==r?0:r.length;for(this.clear();++t<n;){var e=r[t];this.set(e[0],e[1])}}function Ae(r){var t=-1,n=null==r?0:r.length;for(this.clear();++t<n;){var e=r[t];this.set(e[0],e[1])}}function je(r){var t=-1,n=null==r?0:r.length;for(this.__data__=new Ae;++t<n;)this.add(r[t])}function xe(r){var t=this.__data__=new be(r);this.size=t.size}function ke(r,t){var n=ms(r),e=!n&&ys(r),i=!n&&!e&&js(r),a=!n&&!e&&!i&&Ms(r),o=n||e||i||a,s=o?gn(r.length,et):[],u=s.length;for(var l in r)!t&&!ct.call(r,l)||o&&("length"==l||i&&("offset"==l||"parent"==l)||a&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||Ya(l,u))||s.push(l);return s}function Ee(r){var t=r.length;return t?r[ji(0,t-1)]:e}function Ve(r,t){return lo(ia(r),Oe(t,0,r.length))}function Ie(r){return lo(ia(r))}function Be(r,t,n){(n===e||gs(r[t],n))&&(n!==e||t in r)||Ue(r,t,n)}function Se(r,t,n){var i=r[t];ct.call(r,t)&&gs(i,n)&&(n!==e||t in r)||Ue(r,t,n)}function Te(r,t){for(var n=r.length;n--;)if(gs(r[n][0],t))return n;return-1}function Ne(r,t,n,e){return De(r,function(r,i,a){t(e,r,n(r),a)}),e}function ze(r,t){return r&&aa(t,ou(t),r)}function Ue(r,t,n){"__proto__"==t&&On?On(r,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):r[t]=n}function Re(r,t){for(var n=-1,i=t.length,a=Ur(i),o=null==r;++n<i;)a[n]=o?e:tu(r,t[n]);return a}function Oe(r,t,n){return r==r&&(n!==e&&(r=r<=n?r:n),t!==e&&(r=r>=t?r:t)),r}function Ce(r,t,n,i,a,o){var s,u=t&f,l=t&h,c=t&p;if(n&&(s=a?n(r,i,a,o):n(r)),s!==e)return s;if(!Bs(r))return r;var _=ms(r);if(_){if(s=function(r){var t=r.length,n=new r.constructor(t);return t&&"string"==typeof r[0]&&ct.call(r,"index")&&(n.index=r.index,n.input=r.input),n}(r),!u)return ia(r,s)}else{var g=Pa(r),v=g==Y||g==J;if(js(r))return Xi(r,u);if(g==X||g==L||v&&!a){if(s=l||v?{}:Wa(r),!u)return l?function(r,t){return aa(r,Fa(r),t)}(r,function(r,t){return r&&aa(t,su(t),r)}(s,r)):function(r,t){return aa(r,Da(r),t)}(r,ze(s,r))}else{if(!Et[g])return a?r:{};s=function(r,t,n){var e,i,a,o=r.constructor;switch(t){case sr:return Qi(r);case P:case G:return new o(+r);case ur:return function(r,t){var n=t?Qi(r.buffer):r.buffer;return new r.constructor(n,r.byteOffset,r.byteLength)}(r,n);case lr:case cr:case fr:case hr:case pr:case _r:case gr:case vr:case dr:return ra(r,n);case Z:return new o;case H:case nr:return new o(r);case rr:return(a=new(i=r).constructor(i.source,Fr.exec(i))).lastIndex=i.lastIndex,a;case tr:return new o;case er:return e=r,pe?tt(pe.call(e)):{}}}(r,g,u)}}o||(o=new xe);var d=o.get(r);if(d)return d;o.set(r,s),Rs(r)?r.forEach(function(e){s.add(Ce(e,t,n,e,r,o))}):Ts(r)&&r.forEach(function(e,i){s.set(i,Ce(e,t,n,i,r,o))});var y=_?e:(c?l?za:Na:l?su:ou)(r);return $t(y||r,function(e,i){y&&(e=r[i=e]),Se(s,i,Ce(e,t,n,i,r,o))}),s}function Me(r,t,n){var i=n.length;if(null==r)return!i;for(r=tt(r);i--;){var a=n[i],o=t[a],s=r[a];if(s===e&&!(a in r)||!o(s))return!1}return!0}function qe(r,t,n){if("function"!=typeof r)throw new it(o);return ao(function(){r.apply(e,n)},t)}function Le(r,t,n,e){var a=-1,o=Ht,s=!0,u=r.length,l=[],c=t.length;if(!u)return l;n&&(t=Xt(t,dn(n))),e?(o=Kt,s=!1):t.length>=i&&(o=mn,s=!1,t=new je(t));r:for(;++a<u;){var f=r[a],h=null==n?f:n(f);if(f=e||0!==f?f:0,s&&h==h){for(var p=c;p--;)if(t[p]===h)continue r;l.push(f)}else o(t,h,e)||l.push(f)}return l}ge.templateSettings={escape:kr,evaluate:Er,interpolate:Vr,variable:"",imports:{_:ge}},ge.prototype=de.prototype,ge.prototype.constructor=ge,ye.prototype=ve(de.prototype),ye.prototype.constructor=ye,me.prototype=ve(de.prototype),me.prototype.constructor=me,we.prototype.clear=function(){this.__data__=ie?ie(null):{},this.size=0},we.prototype.delete=function(r){var t=this.has(r)&&delete this.__data__[r];return this.size-=t?1:0,t},we.prototype.get=function(r){var t=this.__data__;if(ie){var n=t[r];return n===u?e:n}return ct.call(t,r)?t[r]:e},we.prototype.has=function(r){var t=this.__data__;return ie?t[r]!==e:ct.call(t,r)},we.prototype.set=function(r,t){var n=this.__data__;return this.size+=this.has(r)?0:1,n[r]=ie&&t===e?u:t,this},be.prototype.clear=function(){this.__data__=[],this.size=0},be.prototype.delete=function(r){var t=this.__data__,n=Te(t,r);return!(n<0||(n==t.length-1?t.pop():Ot.call(t,n,1),--this.size,0))},be.prototype.get=function(r){var t=this.__data__,n=Te(t,r);return n<0?e:t[n][1]},be.prototype.has=function(r){return Te(this.__data__,r)>-1},be.prototype.set=function(r,t){var n=this.__data__,e=Te(n,r);return e<0?(++this.size,n.push([r,t])):n[e][1]=t,this},Ae.prototype.clear=function(){this.size=0,this.__data__={hash:new we,map:new(re||be),string:new we}},Ae.prototype.delete=function(r){var t=Ma(this,r).delete(r);return this.size-=t?1:0,t},Ae.prototype.get=function(r){return Ma(this,r).get(r)},Ae.prototype.has=function(r){return Ma(this,r).has(r)},Ae.prototype.set=function(r,t){var n=Ma(this,r),e=n.size;return n.set(r,t),this.size+=n.size==e?0:1,this},je.prototype.add=je.prototype.push=function(r){return this.__data__.set(r,u),this},je.prototype.has=function(r){return this.__data__.has(r)},xe.prototype.clear=function(){this.__data__=new be,this.size=0},xe.prototype.delete=function(r){var t=this.__data__,n=t.delete(r);return this.size=t.size,n},xe.prototype.get=function(r){return this.__data__.get(r)},xe.prototype.has=function(r){return this.__data__.has(r)},xe.prototype.set=function(r,t){var n=this.__data__;if(n instanceof be){var e=n.__data__;if(!re||e.length<i-1)return e.push([r,t]),this.size=++n.size,this;n=this.__data__=new Ae(e)}return n.set(r,t),this.size=n.size,this};var De=ua(Ze),Fe=ua(He,!0);function Pe(r,t){var n=!0;return De(r,function(r,e,i){return n=!!t(r,e,i)}),n}function Ge(r,t,n){for(var i=-1,a=r.length;++i<a;){var o=r[i],s=t(o);if(null!=s&&(u===e?s==s&&!Cs(s):n(s,u)))var u=s,l=o}return l}function We(r,t){var n=[];return De(r,function(r,e,i){t(r,e,i)&&n.push(r)}),n}function $e(r,t,n,e,i){var a=-1,o=r.length;for(n||(n=$a),i||(i=[]);++a<o;){var s=r[a];t>0&&n(s)?t>1?$e(s,t-1,n,e,i):Qt(i,s):e||(i[i.length]=s)}return i}var Ye=la(),Je=la(!0);function Ze(r,t){return r&&Ye(r,t,ou)}function He(r,t){return r&&Je(r,t,ou)}function Ke(r,t){return Zt(t,function(t){return Es(r[t])})}function Xe(r,t){for(var n=0,i=(t=Ji(t,r)).length;null!=r&&n<i;)r=r[fo(t[n++])];return n&&n==i?r:e}function Qe(r,t,n){var e=t(r);return ms(r)?e:Qt(e,n(r))}function ri(r){return null==r?r===e?ir:K:hn&&hn in tt(r)?function(r){var t=ct.call(r,hn),n=r[hn];try{r[hn]=e;var i=!0}catch(r){}var a=pt.call(r);return i&&(t?r[hn]=n:delete r[hn]),a}(r):function(r){return pt.call(r)}(r)}function ti(r,t){return r>t}function ni(r,t){return null!=r&&ct.call(r,t)}function ei(r,t){return null!=r&&t in tt(r)}function ii(r,t,n){for(var i=n?Kt:Ht,a=r[0].length,o=r.length,s=o,u=Ur(o),l=1/0,c=[];s--;){var f=r[s];s&&t&&(f=Xt(f,dn(t))),l=Jn(f.length,l),u[s]=!n&&(t||a>=120&&f.length>=120)?new je(s&&f):e}f=r[0];var h=-1,p=u[0];r:for(;++h<a&&c.length<l;){var _=f[h],g=t?t(_):_;if(_=n||0!==_?_:0,!(p?mn(p,g):i(c,g,n))){for(s=o;--s;){var v=u[s];if(!(v?mn(v,g):i(r[s],g,n)))continue r}p&&p.push(g),c.push(_)}}return c}function ai(r,t,n){var i=null==(r=no(r,t=Ji(t,r)))?r:r[fo(ko(t))];return null==i?e:Gt(i,r,n)}function oi(r){return Ss(r)&&ri(r)==L}function si(r,t,n,i,a){return r===t||(null==r||null==t||!Ss(r)&&!Ss(t)?r!=r&&t!=t:function(r,t,n,i,a,o){var s=ms(r),u=ms(t),l=s?D:Pa(r),c=u?D:Pa(t),f=(l=l==L?X:l)==X,h=(c=c==L?X:c)==X,p=l==c;if(p&&js(r)){if(!js(t))return!1;s=!0,f=!1}if(p&&!f)return o||(o=new xe),s||Ms(r)?Sa(r,t,n,i,a,o):function(r,t,n,e,i,a,o){switch(n){case ur:if(r.byteLength!=t.byteLength||r.byteOffset!=t.byteOffset)return!1;r=r.buffer,t=t.buffer;case sr:return!(r.byteLength!=t.byteLength||!a(new Vt(r),new Vt(t)));case P:case G:case H:return gs(+r,+t);case $:return r.name==t.name&&r.message==t.message;case rr:case nr:return r==t+"";case Z:var s=En;case tr:var u=e&_;if(s||(s=Bn),r.size!=t.size&&!u)return!1;var l=o.get(r);if(l)return l==t;e|=g,o.set(r,t);var c=Sa(s(r),s(t),e,i,a,o);return o.delete(r),c;case er:if(pe)return pe.call(r)==pe.call(t)}return!1}(r,t,l,n,i,a,o);if(!(n&_)){var v=f&&ct.call(r,"__wrapped__"),d=h&&ct.call(t,"__wrapped__");if(v||d){var y=v?r.value():r,m=d?t.value():t;return o||(o=new xe),a(y,m,n,i,o)}}return!!p&&(o||(o=new xe),function(r,t,n,i,a,o){var s=n&_,u=Na(r),l=u.length,c=Na(t).length;if(l!=c&&!s)return!1;for(var f=l;f--;){var h=u[f];if(!(s?h in t:ct.call(t,h)))return!1}var p=o.get(r),g=o.get(t);if(p&&g)return p==t&&g==r;var v=!0;o.set(r,t),o.set(t,r);for(var d=s;++f<l;){h=u[f];var y=r[h],m=t[h];if(i)var w=s?i(m,y,h,t,r,o):i(y,m,h,r,t,o);if(!(w===e?y===m||a(y,m,n,i,o):w)){v=!1;break}d||(d="constructor"==h)}if(v&&!d){var b=r.constructor,A=t.constructor;b!=A&&"constructor"in r&&"constructor"in t&&!("function"==typeof b&&b instanceof b&&"function"==typeof A&&A instanceof A)&&(v=!1)}return o.delete(r),o.delete(t),v}(r,t,n,i,a,o))}(r,t,n,i,si,a))}function ui(r,t,n,i){var a=n.length,o=a,s=!i;if(null==r)return!o;for(r=tt(r);a--;){var u=n[a];if(s&&u[2]?u[1]!==r[u[0]]:!(u[0]in r))return!1}for(;++a<o;){var l=(u=n[a])[0],c=r[l],f=u[1];if(s&&u[2]){if(c===e&&!(l in r))return!1}else{var h=new xe;if(i)var p=i(c,f,l,r,t,h);if(!(p===e?si(f,c,_|g,i,h):p))return!1}}return!0}function li(r){return!(!Bs(r)||(t=r,ht&&ht in t))&&(Es(r)?vt:Wr).test(ho(r));var t}function ci(r){return"function"==typeof r?r:null==r?Nu:"object"==typeof r?ms(r)?vi(r[0],r[1]):gi(r):Du(r)}function fi(r){if(!Xa(r))return $n(r);var t=[];for(var n in tt(r))ct.call(r,n)&&"constructor"!=n&&t.push(n);return t}function hi(r){if(!Bs(r))return function(r){var t=[];if(null!=r)for(var n in tt(r))t.push(n);return t}(r);var t=Xa(r),n=[];for(var e in r)("constructor"!=e||!t&&ct.call(r,e))&&n.push(e);return n}function pi(r,t){return r<t}function _i(r,t){var n=-1,e=bs(r)?Ur(r.length):[];return De(r,function(r,i,a){e[++n]=t(r,i,a)}),e}function gi(r){var t=qa(r);return 1==t.length&&t[0][2]?ro(t[0][0],t[0][1]):function(n){return n===r||ui(n,r,t)}}function vi(r,t){return Za(r)&&Qa(t)?ro(fo(r),t):function(n){var i=tu(n,r);return i===e&&i===t?nu(n,r):si(t,i,_|g)}}function di(r,t,n,i,a){r!==t&&Ye(t,function(o,s){if(a||(a=new xe),Bs(o))!function(r,t,n,i,a,o,s){var u=eo(r,n),l=eo(t,n),c=s.get(l);if(c)Be(r,n,c);else{var f=o?o(u,l,n+"",r,t,s):e,h=f===e;if(h){var p=ms(l),_=!p&&js(l),g=!p&&!_&&Ms(l);f=l,p||_||g?ms(u)?f=u:As(u)?f=ia(u):_?(h=!1,f=Xi(l,!0)):g?(h=!1,f=ra(l,!0)):f=[]:zs(l)||ys(l)?(f=u,ys(u)?f=$s(u):Bs(u)&&!Es(u)||(f=Wa(l))):h=!1}h&&(s.set(l,f),a(f,l,i,o,s),s.delete(l)),Be(r,n,f)}}(r,t,s,n,di,i,a);else{var u=i?i(eo(r,s),o,s+"",r,t,a):e;u===e&&(u=o),Be(r,s,u)}},su)}function yi(r,t){var n=r.length;if(n)return Ya(t+=t<0?n:0,n)?r[t]:e}function mi(r,t,n){t=t.length?Xt(t,function(r){return ms(r)?function(t){return Xe(t,1===r.length?r[0]:r)}:r}):[Nu];var e=-1;return t=Xt(t,dn(Ca())),function(r,t){var n=r.length;for(r.sort(t);n--;)r[n]=r[n].value;return r}(_i(r,function(r,n,i){return{criteria:Xt(t,function(t){return t(r)}),index:++e,value:r}}),function(r,t){return function(r,t,n){for(var e=-1,i=r.criteria,a=t.criteria,o=i.length,s=n.length;++e<o;){var u=ta(i[e],a[e]);if(u){if(e>=s)return u;var l=n[e];return u*("desc"==l?-1:1)}}return r.index-t.index}(r,t,n)})}function wi(r,t,n){for(var e=-1,i=t.length,a={};++e<i;){var o=t[e],s=Xe(r,o);n(s,o)&&Ii(a,Ji(o,r),s)}return a}function bi(r,t,n,e){var i=e?un:sn,a=-1,o=t.length,s=r;for(r===t&&(t=ia(t)),n&&(s=Xt(r,dn(n)));++a<o;)for(var u=0,l=t[a],c=n?n(l):l;(u=i(s,c,u,e))>-1;)s!==r&&Ot.call(s,u,1),Ot.call(r,u,1);return r}function Ai(r,t){for(var n=r?t.length:0,e=n-1;n--;){var i=t[n];if(n==e||i!==a){var a=i;Ya(i)?Ot.call(r,i,1):Li(r,i)}}return r}function ji(r,t){return r+Dn(Kn()*(t-r+1))}function xi(r,t){var n="";if(!r||t<1||t>z)return n;do{t%2&&(n+=r),(t=Dn(t/2))&&(r+=r)}while(t);return n}function ki(r,t){return oo(to(r,t,Nu),r+"")}function Ei(r){return Ee(gu(r))}function Vi(r,t){var n=gu(r);return lo(n,Oe(t,0,n.length))}function Ii(r,t,n,i){if(!Bs(r))return r;for(var a=-1,o=(t=Ji(t,r)).length,s=o-1,u=r;null!=u&&++a<o;){var l=fo(t[a]),c=n;if("__proto__"===l||"constructor"===l||"prototype"===l)return r;if(a!=s){var f=u[l];(c=i?i(f,l,u):e)===e&&(c=Bs(f)?f:Ya(t[a+1])?[]:{})}Se(u,l,c),u=u[l]}return r}var Bi=ae?function(r,t){return ae.set(r,t),r}:Nu,Si=On?function(r,t){return On(r,"toString",{configurable:!0,enumerable:!1,value:Bu(t),writable:!0})}:Nu;function Ti(r){return lo(gu(r))}function Ni(r,t,n){var e=-1,i=r.length;t<0&&(t=-t>i?0:i+t),(n=n>i?i:n)<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var a=Ur(i);++e<i;)a[e]=r[e+t];return a}function zi(r,t){var n;return De(r,function(r,e,i){return!(n=t(r,e,i))}),!!n}function Ui(r,t,n){var e=0,i=null==r?e:r.length;if("number"==typeof t&&t==t&&i<=M){for(;e<i;){var a=e+i>>>1,o=r[a];null!==o&&!Cs(o)&&(n?o<=t:o<t)?e=a+1:i=a}return i}return Ri(r,t,Nu,n)}function Ri(r,t,n,i){var a=0,o=null==r?0:r.length;if(0===o)return 0;for(var s=(t=n(t))!=t,u=null===t,l=Cs(t),c=t===e;a<o;){var f=Dn((a+o)/2),h=n(r[f]),p=h!==e,_=null===h,g=h==h,v=Cs(h);if(s)var d=i||g;else d=c?g&&(i||p):u?g&&p&&(i||!_):l?g&&p&&!_&&(i||!v):!_&&!v&&(i?h<=t:h<t);d?a=f+1:o=f}return Jn(o,C)}function Oi(r,t){for(var n=-1,e=r.length,i=0,a=[];++n<e;){var o=r[n],s=t?t(o):o;if(!n||!gs(s,u)){var u=s;a[i++]=0===o?0:o}}return a}function Ci(r){return"number"==typeof r?r:Cs(r)?R:+r}function Mi(r){if("string"==typeof r)return r;if(ms(r))return Xt(r,Mi)+"";if(Cs(r))return _e?_e.call(r):"";var t=r+"";return"0"==t&&1/r==-N?"-0":t}function qi(r,t,n){var e=-1,a=Ht,o=r.length,s=!0,u=[],l=u;if(n)s=!1,a=Kt;else if(o>=i){var c=t?null:xa(r);if(c)return Bn(c);s=!1,a=mn,l=new je}else l=t?[]:u;r:for(;++e<o;){var f=r[e],h=t?t(f):f;if(f=n||0!==f?f:0,s&&h==h){for(var p=l.length;p--;)if(l[p]===h)continue r;t&&l.push(h),u.push(f)}else a(l,h,n)||(l!==u&&l.push(h),u.push(f))}return u}function Li(r,t){return null==(r=no(r,t=Ji(t,r)))||delete r[fo(ko(t))]}function Di(r,t,n,e){return Ii(r,t,n(Xe(r,t)),e)}function Fi(r,t,n,e){for(var i=r.length,a=e?i:-1;(e?a--:++a<i)&&t(r[a],a,r););return n?Ni(r,e?0:a,e?a+1:i):Ni(r,e?a+1:0,e?i:a)}function Pi(r,t){var n=r;return n instanceof me&&(n=n.value()),rn(t,function(r,t){return t.func.apply(t.thisArg,Qt([r],t.args))},n)}function Gi(r,t,n){var e=r.length;if(e<2)return e?qi(r[0]):[];for(var i=-1,a=Ur(e);++i<e;)for(var o=r[i],s=-1;++s<e;)s!=i&&(a[i]=Le(a[i]||o,r[s],t,n));return qi($e(a,1),t,n)}function Wi(r,t,n){for(var i=-1,a=r.length,o=t.length,s={};++i<a;){var u=i<o?t[i]:e;n(s,r[i],u)}return s}function $i(r){return As(r)?r:[]}function Yi(r){return"function"==typeof r?r:Nu}function Ji(r,t){return ms(r)?r:Za(r,t)?[r]:co(Ys(r))}var Zi=ki;function Hi(r,t,n){var i=r.length;return n=n===e?i:n,!t&&n>=i?r:Ni(r,t,n)}var Ki=Cn||function(r){return Nt.clearTimeout(r)};function Xi(r,t){if(t)return r.slice();var n=r.length,e=St?St(n):new r.constructor(n);return r.copy(e),e}function Qi(r){var t=new r.constructor(r.byteLength);return new Vt(t).set(new Vt(r)),t}function ra(r,t){var n=t?Qi(r.buffer):r.buffer;return new r.constructor(n,r.byteOffset,r.length)}function ta(r,t){if(r!==t){var n=r!==e,i=null===r,a=r==r,o=Cs(r),s=t!==e,u=null===t,l=t==t,c=Cs(t);if(!u&&!c&&!o&&r>t||o&&s&&l&&!u&&!c||i&&s&&l||!n&&l||!a)return 1;if(!i&&!o&&!c&&r<t||c&&n&&a&&!i&&!o||u&&n&&a||!s&&a||!l)return-1}return 0}function na(r,t,n,e){for(var i=-1,a=r.length,o=n.length,s=-1,u=t.length,l=Yn(a-o,0),c=Ur(u+l),f=!e;++s<u;)c[s]=t[s];for(;++i<o;)(f||i<a)&&(c[n[i]]=r[i]);for(;l--;)c[s++]=r[i++];return c}function ea(r,t,n,e){for(var i=-1,a=r.length,o=-1,s=n.length,u=-1,l=t.length,c=Yn(a-s,0),f=Ur(c+l),h=!e;++i<c;)f[i]=r[i];for(var p=i;++u<l;)f[p+u]=t[u];for(;++o<s;)(h||i<a)&&(f[p+n[o]]=r[i++]);return f}function ia(r,t){var n=-1,e=r.length;for(t||(t=Ur(e));++n<e;)t[n]=r[n];return t}function aa(r,t,n,i){var a=!n;n||(n={});for(var o=-1,s=t.length;++o<s;){var u=t[o],l=i?i(n[u],r[u],u,n,r):e;l===e&&(l=r[u]),a?Ue(n,u,l):Se(n,u,l)}return n}function oa(r,t){return function(n,e){var i=ms(n)?Wt:Ne,a=t?t():{};return i(n,r,Ca(e,2),a)}}function sa(r){return ki(function(t,n){var i=-1,a=n.length,o=a>1?n[a-1]:e,s=a>2?n[2]:e;for(o=r.length>3&&"function"==typeof o?(a--,o):e,s&&Ja(n[0],n[1],s)&&(o=a<3?e:o,a=1),t=tt(t);++i<a;){var u=n[i];u&&r(t,u,i,o)}return t})}function ua(r,t){return function(n,e){if(null==n)return n;if(!bs(n))return r(n,e);for(var i=n.length,a=t?i:-1,o=tt(n);(t?a--:++a<i)&&!1!==e(o[a],a,o););return n}}function la(r){return function(t,n,e){for(var i=-1,a=tt(t),o=e(t),s=o.length;s--;){var u=o[r?s:++i];if(!1===n(a[u],u,a))break}return t}}function ca(r){return function(t){var n=kn(t=Ys(t))?Nn(t):e,i=n?n[0]:t.charAt(0),a=n?Hi(n,1).join(""):t.slice(1);return i[r]()+a}}function fa(r){return function(t){return rn(Eu(yu(t).replace(dt,"")),r,"")}}function ha(r){return function(){var t=arguments;switch(t.length){case 0:return new r;case 1:return new r(t[0]);case 2:return new r(t[0],t[1]);case 3:return new r(t[0],t[1],t[2]);case 4:return new r(t[0],t[1],t[2],t[3]);case 5:return new r(t[0],t[1],t[2],t[3],t[4]);case 6:return new r(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new r(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=ve(r.prototype),e=r.apply(n,t);return Bs(e)?e:n}}function pa(r){return function(t,n,i){var a=tt(t);if(!bs(t)){var o=Ca(n,3);t=ou(t),n=function(r){return o(a[r],r,a)}}var s=r(t,n,i);return s>-1?a[o?t[s]:s]:e}}function _a(r){return Ta(function(t){var n=t.length,i=n,a=ye.prototype.thru;for(r&&t.reverse();i--;){var s=t[i];if("function"!=typeof s)throw new it(o);if(a&&!u&&"wrapper"==Ra(s))var u=new ye([],!0)}for(i=u?i:n;++i<n;){var l=Ra(s=t[i]),c="wrapper"==l?Ua(s):e;u=c&&Ha(c[0])&&c[1]==(j|m|b|x)&&!c[4].length&&1==c[9]?u[Ra(c[0])].apply(u,c[3]):1==s.length&&Ha(s)?u[l]():u.thru(s)}return function(){var r=arguments,e=r[0];if(u&&1==r.length&&ms(e))return u.plant(e).value();for(var i=0,a=n?t[i].apply(this,r):e;++i<n;)a=t[i].call(this,a);return a}})}function ga(r,t,n,i,a,o,s,u,l,c){var f=t&j,h=t&v,p=t&d,_=t&(m|w),g=t&k,y=p?e:ha(r);return function v(){for(var d=arguments.length,m=Ur(d),w=d;w--;)m[w]=arguments[w];if(_)var b=Oa(v),A=function(r,t){for(var n=r.length,e=0;n--;)r[n]===t&&++e;return e}(m,b);if(i&&(m=na(m,i,a,_)),o&&(m=ea(m,o,s,_)),d-=A,_&&d<c){var j=In(m,b);return Aa(r,t,ga,v.placeholder,n,m,j,u,l,c-d)}var x=h?n:this,k=p?x[r]:r;return d=m.length,u?m=function(r,t){for(var n=r.length,i=Jn(t.length,n),a=ia(r);i--;){var o=t[i];r[i]=Ya(o,n)?a[o]:e}return r}(m,u):g&&d>1&&m.reverse(),f&&l<d&&(m.length=l),this&&this!==Nt&&this instanceof v&&(k=y||ha(k)),k.apply(x,m)}}function va(r,t){return function(n,e){return function(r,t,n,e){return Ze(r,function(r,i,a){t(e,n(r),i,a)}),e}(n,r,t(e),{})}}function da(r,t){return function(n,i){var a;if(n===e&&i===e)return t;if(n!==e&&(a=n),i!==e){if(a===e)return i;"string"==typeof n||"string"==typeof i?(n=Mi(n),i=Mi(i)):(n=Ci(n),i=Ci(i)),a=r(n,i)}return a}}function ya(r){return Ta(function(t){return t=Xt(t,dn(Ca())),ki(function(n){var e=this;return r(t,function(r){return Gt(r,e,n)})})})}function ma(r,t){var n=(t=t===e?" ":Mi(t)).length;if(n<2)return n?xi(t,r):t;var i=xi(t,Ln(r/Tn(t)));return kn(t)?Hi(Nn(i),0,r).join(""):i.slice(0,r)}function wa(r){return function(t,n,i){return i&&"number"!=typeof i&&Ja(t,n,i)&&(n=i=e),t=Fs(t),n===e?(n=t,t=0):n=Fs(n),function(r,t,n,e){for(var i=-1,a=Yn(Ln((t-r)/(n||1)),0),o=Ur(a);a--;)o[e?a:++i]=r,r+=n;return o}(t,n,i=i===e?t<n?1:-1:Fs(i),r)}}function ba(r){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=Ws(t),n=Ws(n)),r(t,n)}}function Aa(r,t,n,i,a,o,s,u,l,c){var f=t&m;t|=f?b:A,(t&=~(f?A:b))&y||(t&=~(v|d));var h=[r,t,a,f?o:e,f?s:e,f?e:o,f?e:s,u,l,c],p=n.apply(e,h);return Ha(r)&&io(p,h),p.placeholder=i,so(p,r,t)}function ja(r){var t=rt[r];return function(r,n){if(r=Ws(r),(n=null==n?0:Jn(Ps(n),292))&&Gn(r)){var e=(Ys(r)+"e").split("e");return+((e=(Ys(t(e[0]+"e"+(+e[1]+n)))+"e").split("e"))[0]+"e"+(+e[1]-n))}return t(r)}}var xa=ne&&1/Bn(new ne([,-0]))[1]==N?function(r){return new ne(r)}:Cu;function ka(r){return function(t){var n=Pa(t);return n==Z?En(t):n==tr?Sn(t):function(r,t){return Xt(t,function(t){return[t,r[t]]})}(t,r(t))}}function Ea(r,t,n,i,a,s,u,l){var f=t&d;if(!f&&"function"!=typeof r)throw new it(o);var h=i?i.length:0;if(h||(t&=~(b|A),i=a=e),u=u===e?u:Yn(Ps(u),0),l=l===e?l:Ps(l),h-=a?a.length:0,t&A){var p=i,_=a;i=a=e}var g=f?e:Ua(r),k=[r,t,n,i,a,p,_,s,u,l];if(g&&function(r,t){var n=r[1],e=t[1],i=n|e,a=i<(v|d|j),o=e==j&&n==m||e==j&&n==x&&r[7].length<=t[8]||e==(j|x)&&t[7].length<=t[8]&&n==m;if(!a&&!o)return r;e&v&&(r[2]=t[2],i|=n&v?0:y);var s=t[3];if(s){var u=r[3];r[3]=u?na(u,s,t[4]):s,r[4]=u?In(r[3],c):t[4]}(s=t[5])&&(u=r[5],r[5]=u?ea(u,s,t[6]):s,r[6]=u?In(r[5],c):t[6]),(s=t[7])&&(r[7]=s),e&j&&(r[8]=null==r[8]?t[8]:Jn(r[8],t[8])),null==r[9]&&(r[9]=t[9]),r[0]=t[0],r[1]=i}(k,g),r=k[0],t=k[1],n=k[2],i=k[3],a=k[4],!(l=k[9]=k[9]===e?f?0:r.length:Yn(k[9]-h,0))&&t&(m|w)&&(t&=~(m|w)),t&&t!=v)E=t==m||t==w?function(r,t,n){var i=ha(r);return function a(){for(var o=arguments.length,s=Ur(o),u=o,l=Oa(a);u--;)s[u]=arguments[u];var c=o<3&&s[0]!==l&&s[o-1]!==l?[]:In(s,l);return(o-=c.length)<n?Aa(r,t,ga,a.placeholder,e,s,c,e,e,n-o):Gt(this&&this!==Nt&&this instanceof a?i:r,this,s)}}(r,t,l):t!=b&&t!=(v|b)||a.length?ga.apply(e,k):function(r,t,n,e){var i=t&v,a=ha(r);return function t(){for(var o=-1,s=arguments.length,u=-1,l=e.length,c=Ur(l+s),f=this&&this!==Nt&&this instanceof t?a:r;++u<l;)c[u]=e[u];for(;s--;)c[u++]=arguments[++o];return Gt(f,i?n:this,c)}}(r,t,n,i);else var E=function(r,t,n){var e=t&v,i=ha(r);return function t(){return(this&&this!==Nt&&this instanceof t?i:r).apply(e?n:this,arguments)}}(r,t,n);return so((g?Bi:io)(E,k),r,t)}function Va(r,t,n,i){return r===e||gs(r,st[n])&&!ct.call(i,n)?t:r}function Ia(r,t,n,i,a,o){return Bs(r)&&Bs(t)&&(o.set(t,r),di(r,t,e,Ia,o),o.delete(t)),r}function Ba(r){return zs(r)?e:r}function Sa(r,t,n,i,a,o){var s=n&_,u=r.length,l=t.length;if(u!=l&&!(s&&l>u))return!1;var c=o.get(r),f=o.get(t);if(c&&f)return c==t&&f==r;var h=-1,p=!0,v=n&g?new je:e;for(o.set(r,t),o.set(t,r);++h<u;){var d=r[h],y=t[h];if(i)var m=s?i(y,d,h,t,r,o):i(d,y,h,r,t,o);if(m!==e){if(m)continue;p=!1;break}if(v){if(!nn(t,function(r,t){if(!mn(v,t)&&(d===r||a(d,r,n,i,o)))return v.push(t)})){p=!1;break}}else if(d!==y&&!a(d,y,n,i,o)){p=!1;break}}return o.delete(r),o.delete(t),p}function Ta(r){return oo(to(r,e,wo),r+"")}function Na(r){return Qe(r,ou,Da)}function za(r){return Qe(r,su,Fa)}var Ua=ae?function(r){return ae.get(r)}:Cu;function Ra(r){for(var t=r.name+"",n=oe[t],e=ct.call(oe,t)?n.length:0;e--;){var i=n[e],a=i.func;if(null==a||a==r)return i.name}return t}function Oa(r){return(ct.call(ge,"placeholder")?ge:r).placeholder}function Ca(){var r=ge.iteratee||zu;return r=r===zu?ci:r,arguments.length?r(arguments[0],arguments[1]):r}function Ma(r,t){var n,e,i=r.__data__;return("string"==(e=typeof(n=t))||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==n:null===n)?i["string"==typeof t?"string":"hash"]:i.map}function qa(r){for(var t=ou(r),n=t.length;n--;){var e=t[n],i=r[e];t[n]=[e,i,Qa(i)]}return t}function La(r,t){var n=function(r,t){return null==r?e:r[t]}(r,t);return li(n)?n:e}var Da=Fn?function(r){return null==r?[]:(r=tt(r),Zt(Fn(r),function(t){return Ut.call(r,t)}))}:Gu,Fa=Fn?function(r){for(var t=[];r;)Qt(t,Da(r)),r=Tt(r);return t}:Gu,Pa=ri;function Ga(r,t,n){for(var e=-1,i=(t=Ji(t,r)).length,a=!1;++e<i;){var o=fo(t[e]);if(!(a=null!=r&&n(r,o)))break;r=r[o]}return a||++e!=i?a:!!(i=null==r?0:r.length)&&Is(i)&&Ya(o,i)&&(ms(r)||ys(r))}function Wa(r){return"function"!=typeof r.constructor||Xa(r)?{}:ve(Tt(r))}function $a(r){return ms(r)||ys(r)||!!(Ct&&r&&r[Ct])}function Ya(r,t){var n=typeof r;return!!(t=null==t?z:t)&&("number"==n||"symbol"!=n&&Yr.test(r))&&r>-1&&r%1==0&&r<t}function Ja(r,t,n){if(!Bs(n))return!1;var e=typeof t;return!!("number"==e?bs(n)&&Ya(t,n.length):"string"==e&&t in n)&&gs(n[t],r)}function Za(r,t){if(ms(r))return!1;var n=typeof r;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=r&&!Cs(r))||Br.test(r)||!Ir.test(r)||null!=t&&r in tt(t)}function Ha(r){var t=Ra(r),n=ge[t];if("function"!=typeof n||!(t in me.prototype))return!1;if(r===n)return!0;var e=Ua(n);return!!e&&r===e[0]}(Qn&&Pa(new Qn(new ArrayBuffer(1)))!=ur||re&&Pa(new re)!=Z||te&&"[object Promise]"!=Pa(te.resolve())||ne&&Pa(new ne)!=tr||ee&&Pa(new ee)!=ar)&&(Pa=function(r){var t=ri(r),n=t==X?r.constructor:e,i=n?ho(n):"";if(i)switch(i){case se:return ur;case ue:return Z;case le:return"[object Promise]";case ce:return tr;case fe:return ar}return t});var Ka=ut?Es:Wu;function Xa(r){var t=r&&r.constructor;return r===("function"==typeof t&&t.prototype||st)}function Qa(r){return r==r&&!Bs(r)}function ro(r,t){return function(n){return null!=n&&n[r]===t&&(t!==e||r in tt(n))}}function to(r,t,n){return t=Yn(t===e?r.length-1:t,0),function(){for(var e=arguments,i=-1,a=Yn(e.length-t,0),o=Ur(a);++i<a;)o[i]=e[t+i];i=-1;for(var s=Ur(t+1);++i<t;)s[i]=e[i];return s[t]=n(o),Gt(r,this,s)}}function no(r,t){return t.length<2?r:Xe(r,Ni(t,0,-1))}function eo(r,t){if(("constructor"!==t||"function"!=typeof r[t])&&"__proto__"!=t)return r[t]}var io=uo(Bi),ao=qn||function(r,t){return Nt.setTimeout(r,t)},oo=uo(Si);function so(r,t,n){var e=t+"";return oo(r,function(r,t){var n=t.length;if(!n)return r;var e=n-1;return t[e]=(n>1?"& ":"")+t[e],t=t.join(n>2?", ":" "),r.replace(Rr,"{\n/* [wrapped with "+t+"] */\n")}(e,function(r,t){return $t(q,function(n){var e="_."+n[0];t&n[1]&&!Ht(r,e)&&r.push(e)}),r.sort()}(function(r){var t=r.match(Or);return t?t[1].split(Cr):[]}(e),n)))}function uo(r){var t=0,n=0;return function(){var i=Zn(),a=B-(i-n);if(n=i,a>0){if(++t>=I)return arguments[0]}else t=0;return r.apply(e,arguments)}}function lo(r,t){var n=-1,i=r.length,a=i-1;for(t=t===e?i:t;++n<t;){var o=ji(n,a),s=r[o];r[o]=r[n],r[n]=s}return r.length=t,r}var co=function(r){var t=ls(r,function(r){return n.size===l&&n.clear(),r}),n=t.cache;return t}(function(r){var t=[];return 46===r.charCodeAt(0)&&t.push(""),r.replace(Sr,function(r,n,e,i){t.push(e?i.replace(Lr,"$1"):n||r)}),t});function fo(r){if("string"==typeof r||Cs(r))return r;var t=r+"";return"0"==t&&1/r==-N?"-0":t}function ho(r){if(null!=r){try{return lt.call(r)}catch(r){}try{return r+""}catch(r){}}return""}function po(r){if(r instanceof me)return r.clone();var t=new ye(r.__wrapped__,r.__chain__);return t.__actions__=ia(r.__actions__),t.__index__=r.__index__,t.__values__=r.__values__,t}var _o=ki(function(r,t){return As(r)?Le(r,$e(t,1,As,!0)):[]}),go=ki(function(r,t){var n=ko(t);return As(n)&&(n=e),As(r)?Le(r,$e(t,1,As,!0),Ca(n,2)):[]}),vo=ki(function(r,t){var n=ko(t);return As(n)&&(n=e),As(r)?Le(r,$e(t,1,As,!0),e,n):[]});function yo(r,t,n){var e=null==r?0:r.length;if(!e)return-1;var i=null==n?0:Ps(n);return i<0&&(i=Yn(e+i,0)),on(r,Ca(t,3),i)}function mo(r,t,n){var i=null==r?0:r.length;if(!i)return-1;var a=i-1;return n!==e&&(a=Ps(n),a=n<0?Yn(i+a,0):Jn(a,i-1)),on(r,Ca(t,3),a,!0)}function wo(r){return null!=r&&r.length?$e(r,1):[]}function bo(r){return r&&r.length?r[0]:e}var Ao=ki(function(r){var t=Xt(r,$i);return t.length&&t[0]===r[0]?ii(t):[]}),jo=ki(function(r){var t=ko(r),n=Xt(r,$i);return t===ko(n)?t=e:n.pop(),n.length&&n[0]===r[0]?ii(n,Ca(t,2)):[]}),xo=ki(function(r){var t=ko(r),n=Xt(r,$i);return(t="function"==typeof t?t:e)&&n.pop(),n.length&&n[0]===r[0]?ii(n,e,t):[]});function ko(r){var t=null==r?0:r.length;return t?r[t-1]:e}var Eo=ki(Vo);function Vo(r,t){return r&&r.length&&t&&t.length?bi(r,t):r}var Io=Ta(function(r,t){var n=null==r?0:r.length,e=Re(r,t);return Ai(r,Xt(t,function(r){return Ya(r,n)?+r:r}).sort(ta)),e});function Bo(r){return null==r?r:Xn.call(r)}var So=ki(function(r){return qi($e(r,1,As,!0))}),To=ki(function(r){var t=ko(r);return As(t)&&(t=e),qi($e(r,1,As,!0),Ca(t,2))}),No=ki(function(r){var t=ko(r);return t="function"==typeof t?t:e,qi($e(r,1,As,!0),e,t)});function zo(r){if(!r||!r.length)return[];var t=0;return r=Zt(r,function(r){if(As(r))return t=Yn(r.length,t),!0}),gn(t,function(t){return Xt(r,fn(t))})}function Uo(r,t){if(!r||!r.length)return[];var n=zo(r);return null==t?n:Xt(n,function(r){return Gt(t,e,r)})}var Ro=ki(function(r,t){return As(r)?Le(r,t):[]}),Oo=ki(function(r){return Gi(Zt(r,As))}),Co=ki(function(r){var t=ko(r);return As(t)&&(t=e),Gi(Zt(r,As),Ca(t,2))}),Mo=ki(function(r){var t=ko(r);return t="function"==typeof t?t:e,Gi(Zt(r,As),e,t)}),qo=ki(zo);var Lo=ki(function(r){var t=r.length,n=t>1?r[t-1]:e;return n="function"==typeof n?(r.pop(),n):e,Uo(r,n)});function Do(r){var t=ge(r);return t.__chain__=!0,t}function Fo(r,t){return t(r)}var Po=Ta(function(r){var t=r.length,n=t?r[0]:0,i=this.__wrapped__,a=function(t){return Re(t,r)};return!(t>1||this.__actions__.length)&&i instanceof me&&Ya(n)?((i=i.slice(n,+n+(t?1:0))).__actions__.push({func:Fo,args:[a],thisArg:e}),new ye(i,this.__chain__).thru(function(r){return t&&!r.length&&r.push(e),r})):this.thru(a)});var Go=oa(function(r,t,n){ct.call(r,n)?++r[n]:Ue(r,n,1)});var Wo=pa(yo),$o=pa(mo);function Yo(r,t){return(ms(r)?$t:De)(r,Ca(t,3))}function Jo(r,t){return(ms(r)?Yt:Fe)(r,Ca(t,3))}var Zo=oa(function(r,t,n){ct.call(r,n)?r[n].push(t):Ue(r,n,[t])});var Ho=ki(function(r,t,n){var e=-1,i="function"==typeof t,a=bs(r)?Ur(r.length):[];return De(r,function(r){a[++e]=i?Gt(t,r,n):ai(r,t,n)}),a}),Ko=oa(function(r,t,n){Ue(r,n,t)});function Xo(r,t){return(ms(r)?Xt:_i)(r,Ca(t,3))}var Qo=oa(function(r,t,n){r[n?0:1].push(t)},function(){return[[],[]]});var rs=ki(function(r,t){if(null==r)return[];var n=t.length;return n>1&&Ja(r,t[0],t[1])?t=[]:n>2&&Ja(t[0],t[1],t[2])&&(t=[t[0]]),mi(r,$e(t,1),[])}),ts=Mn||function(){return Nt.Date.now()};function ns(r,t,n){return t=n?e:t,t=r&&null==t?r.length:t,Ea(r,j,e,e,e,e,t)}function es(r,t){var n;if("function"!=typeof t)throw new it(o);return r=Ps(r),function(){return--r>0&&(n=t.apply(this,arguments)),r<=1&&(t=e),n}}var is=ki(function(r,t,n){var e=v;if(n.length){var i=In(n,Oa(is));e|=b}return Ea(r,e,t,n,i)}),as=ki(function(r,t,n){var e=v|d;if(n.length){var i=In(n,Oa(as));e|=b}return Ea(t,e,r,n,i)});function os(r,t,n){var i,a,s,u,l,c,f=0,h=!1,p=!1,_=!0;if("function"!=typeof r)throw new it(o);function g(t){var n=i,o=a;return i=a=e,f=t,u=r.apply(o,n)}function v(r){var n=r-c;return c===e||n>=t||n<0||p&&r-f>=s}function d(){var r=ts();if(v(r))return y(r);l=ao(d,function(r){var n=t-(r-c);return p?Jn(n,s-(r-f)):n}(r))}function y(r){return l=e,_&&i?g(r):(i=a=e,u)}function m(){var r=ts(),n=v(r);if(i=arguments,a=this,c=r,n){if(l===e)return function(r){return f=r,l=ao(d,t),h?g(r):u}(c);if(p)return Ki(l),l=ao(d,t),g(c)}return l===e&&(l=ao(d,t)),u}return t=Ws(t)||0,Bs(n)&&(h=!!n.leading,s=(p="maxWait"in n)?Yn(Ws(n.maxWait)||0,t):s,_="trailing"in n?!!n.trailing:_),m.cancel=function(){l!==e&&Ki(l),f=0,i=c=a=l=e},m.flush=function(){return l===e?u:y(ts())},m}var ss=ki(function(r,t){return qe(r,1,t)}),us=ki(function(r,t,n){return qe(r,Ws(t)||0,n)});function ls(r,t){if("function"!=typeof r||null!=t&&"function"!=typeof t)throw new it(o);var n=function(){var e=arguments,i=t?t.apply(this,e):e[0],a=n.cache;if(a.has(i))return a.get(i);var o=r.apply(this,e);return n.cache=a.set(i,o)||a,o};return n.cache=new(ls.Cache||Ae),n}function cs(r){if("function"!=typeof r)throw new it(o);return function(){var t=arguments;switch(t.length){case 0:return!r.call(this);case 1:return!r.call(this,t[0]);case 2:return!r.call(this,t[0],t[1]);case 3:return!r.call(this,t[0],t[1],t[2])}return!r.apply(this,t)}}ls.Cache=Ae;var fs=Zi(function(r,t){var n=(t=1==t.length&&ms(t[0])?Xt(t[0],dn(Ca())):Xt($e(t,1),dn(Ca()))).length;return ki(function(e){for(var i=-1,a=Jn(e.length,n);++i<a;)e[i]=t[i].call(this,e[i]);return Gt(r,this,e)})}),hs=ki(function(r,t){var n=In(t,Oa(hs));return Ea(r,b,e,t,n)}),ps=ki(function(r,t){var n=In(t,Oa(ps));return Ea(r,A,e,t,n)}),_s=Ta(function(r,t){return Ea(r,x,e,e,e,t)});function gs(r,t){return r===t||r!=r&&t!=t}var vs=ba(ti),ds=ba(function(r,t){return r>=t}),ys=oi(function(){return arguments}())?oi:function(r){return Ss(r)&&ct.call(r,"callee")&&!Ut.call(r,"callee")},ms=Ur.isArray,ws=Mt?dn(Mt):function(r){return Ss(r)&&ri(r)==sr};function bs(r){return null!=r&&Is(r.length)&&!Es(r)}function As(r){return Ss(r)&&bs(r)}var js=Pn||Wu,xs=qt?dn(qt):function(r){return Ss(r)&&ri(r)==G};function ks(r){if(!Ss(r))return!1;var t=ri(r);return t==$||t==W||"string"==typeof r.message&&"string"==typeof r.name&&!zs(r)}function Es(r){if(!Bs(r))return!1;var t=ri(r);return t==Y||t==J||t==F||t==Q}function Vs(r){return"number"==typeof r&&r==Ps(r)}function Is(r){return"number"==typeof r&&r>-1&&r%1==0&&r<=z}function Bs(r){var t=typeof r;return null!=r&&("object"==t||"function"==t)}function Ss(r){return null!=r&&"object"==typeof r}var Ts=Lt?dn(Lt):function(r){return Ss(r)&&Pa(r)==Z};function Ns(r){return"number"==typeof r||Ss(r)&&ri(r)==H}function zs(r){if(!Ss(r)||ri(r)!=X)return!1;var t=Tt(r);if(null===t)return!0;var n=ct.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&lt.call(n)==_t}var Us=Dt?dn(Dt):function(r){return Ss(r)&&ri(r)==rr};var Rs=Ft?dn(Ft):function(r){return Ss(r)&&Pa(r)==tr};function Os(r){return"string"==typeof r||!ms(r)&&Ss(r)&&ri(r)==nr}function Cs(r){return"symbol"==typeof r||Ss(r)&&ri(r)==er}var Ms=Pt?dn(Pt):function(r){return Ss(r)&&Is(r.length)&&!!kt[ri(r)]};var qs=ba(pi),Ls=ba(function(r,t){return r<=t});function Ds(r){if(!r)return[];if(bs(r))return Os(r)?Nn(r):ia(r);if(en&&r[en])return function(r){for(var t,n=[];!(t=r.next()).done;)n.push(t.value);return n}(r[en]());var t=Pa(r);return(t==Z?En:t==tr?Bn:gu)(r)}function Fs(r){return r?(r=Ws(r))===N||r===-N?(r<0?-1:1)*U:r==r?r:0:0===r?r:0}function Ps(r){var t=Fs(r),n=t%1;return t==t?n?t-n:t:0}function Gs(r){return r?Oe(Ps(r),0,O):0}function Ws(r){if("number"==typeof r)return r;if(Cs(r))return R;if(Bs(r)){var t="function"==typeof r.valueOf?r.valueOf():r;r=Bs(t)?t+"":t}if("string"!=typeof r)return 0===r?r:+r;r=vn(r);var n=Gr.test(r);return n||$r.test(r)?Bt(r.slice(2),n?2:8):Pr.test(r)?R:+r}function $s(r){return aa(r,su(r))}function Ys(r){return null==r?"":Mi(r)}var Js=sa(function(r,t){if(Xa(t)||bs(t))aa(t,ou(t),r);else for(var n in t)ct.call(t,n)&&Se(r,n,t[n])}),Zs=sa(function(r,t){aa(t,su(t),r)}),Hs=sa(function(r,t,n,e){aa(t,su(t),r,e)}),Ks=sa(function(r,t,n,e){aa(t,ou(t),r,e)}),Xs=Ta(Re);var Qs=ki(function(r,t){r=tt(r);var n=-1,i=t.length,a=i>2?t[2]:e;for(a&&Ja(t[0],t[1],a)&&(i=1);++n<i;)for(var o=t[n],s=su(o),u=-1,l=s.length;++u<l;){var c=s[u],f=r[c];(f===e||gs(f,st[c])&&!ct.call(r,c))&&(r[c]=o[c])}return r}),ru=ki(function(r){return r.push(e,Ia),Gt(lu,e,r)});function tu(r,t,n){var i=null==r?e:Xe(r,t);return i===e?n:i}function nu(r,t){return null!=r&&Ga(r,t,ei)}var eu=va(function(r,t,n){null!=t&&"function"!=typeof t.toString&&(t=pt.call(t)),r[t]=n},Bu(Nu)),iu=va(function(r,t,n){null!=t&&"function"!=typeof t.toString&&(t=pt.call(t)),ct.call(r,t)?r[t].push(n):r[t]=[n]},Ca),au=ki(ai);function ou(r){return bs(r)?ke(r):fi(r)}function su(r){return bs(r)?ke(r,!0):hi(r)}var uu=sa(function(r,t,n){di(r,t,n)}),lu=sa(function(r,t,n,e){di(r,t,n,e)}),cu=Ta(function(r,t){var n={};if(null==r)return n;var e=!1;t=Xt(t,function(t){return t=Ji(t,r),e||(e=t.length>1),t}),aa(r,za(r),n),e&&(n=Ce(n,f|h|p,Ba));for(var i=t.length;i--;)Li(n,t[i]);return n});var fu=Ta(function(r,t){return null==r?{}:function(r,t){return wi(r,t,function(t,n){return nu(r,n)})}(r,t)});function hu(r,t){if(null==r)return{};var n=Xt(za(r),function(r){return[r]});return t=Ca(t),wi(r,n,function(r,n){return t(r,n[0])})}var pu=ka(ou),_u=ka(su);function gu(r){return null==r?[]:yn(r,ou(r))}var vu=fa(function(r,t,n){return t=t.toLowerCase(),r+(n?du(t):t)});function du(r){return ku(Ys(r).toLowerCase())}function yu(r){return(r=Ys(r))&&r.replace(Jr,An).replace(yt,"")}var mu=fa(function(r,t,n){return r+(n?"-":"")+t.toLowerCase()}),wu=fa(function(r,t,n){return r+(n?" ":"")+t.toLowerCase()}),bu=ca("toLowerCase");var Au=fa(function(r,t,n){return r+(n?"_":"")+t.toLowerCase()});var ju=fa(function(r,t,n){return r+(n?" ":"")+ku(t)});var xu=fa(function(r,t,n){return r+(n?" ":"")+t.toUpperCase()}),ku=ca("toUpperCase");function Eu(r,t,n){return r=Ys(r),(t=n?e:t)===e?function(r){return At.test(r)}(r)?function(r){return r.match(wt)||[]}(r):function(r){return r.match(Mr)||[]}(r):r.match(t)||[]}var Vu=ki(function(r,t){try{return Gt(r,e,t)}catch(r){return ks(r)?r:new Xr(r)}}),Iu=Ta(function(r,t){return $t(t,function(t){t=fo(t),Ue(r,t,is(r[t],r))}),r});function Bu(r){return function(){return r}}var Su=_a(),Tu=_a(!0);function Nu(r){return r}function zu(r){return ci("function"==typeof r?r:Ce(r,f))}var Uu=ki(function(r,t){return function(n){return ai(n,r,t)}}),Ru=ki(function(r,t){return function(n){return ai(r,n,t)}});function Ou(r,t,n){var e=ou(t),i=Ke(t,e);null!=n||Bs(t)&&(i.length||!e.length)||(n=t,t=r,r=this,i=Ke(t,ou(t)));var a=!(Bs(n)&&"chain"in n&&!n.chain),o=Es(r);return $t(i,function(n){var e=t[n];r[n]=e,o&&(r.prototype[n]=function(){var t=this.__chain__;if(a||t){var n=r(this.__wrapped__);return(n.__actions__=ia(this.__actions__)).push({func:e,args:arguments,thisArg:r}),n.__chain__=t,n}return e.apply(r,Qt([this.value()],arguments))})}),r}function Cu(){}var Mu=ya(Xt),qu=ya(Jt),Lu=ya(nn);function Du(r){return Za(r)?fn(fo(r)):function(r){return function(t){return Xe(t,r)}}(r)}var Fu=wa(),Pu=wa(!0);function Gu(){return[]}function Wu(){return!1}var $u=da(function(r,t){return r+t},0),Yu=ja("ceil"),Ju=da(function(r,t){return r/t},1),Zu=ja("floor");var Hu,Ku=da(function(r,t){return r*t},1),Xu=ja("round"),Qu=da(function(r,t){return r-t},0);return ge.after=function(r,t){if("function"!=typeof t)throw new it(o);return r=Ps(r),function(){if(--r<1)return t.apply(this,arguments)}},ge.ary=ns,ge.assign=Js,ge.assignIn=Zs,ge.assignInWith=Hs,ge.assignWith=Ks,ge.at=Xs,ge.before=es,ge.bind=is,ge.bindAll=Iu,ge.bindKey=as,ge.castArray=function(){if(!arguments.length)return[];var r=arguments[0];return ms(r)?r:[r]},ge.chain=Do,ge.chunk=function(r,t,n){t=(n?Ja(r,t,n):t===e)?1:Yn(Ps(t),0);var i=null==r?0:r.length;if(!i||t<1)return[];for(var a=0,o=0,s=Ur(Ln(i/t));a<i;)s[o++]=Ni(r,a,a+=t);return s},ge.compact=function(r){for(var t=-1,n=null==r?0:r.length,e=0,i=[];++t<n;){var a=r[t];a&&(i[e++]=a)}return i},ge.concat=function(){var r=arguments.length;if(!r)return[];for(var t=Ur(r-1),n=arguments[0],e=r;e--;)t[e-1]=arguments[e];return Qt(ms(n)?ia(n):[n],$e(t,1))},ge.cond=function(r){var t=null==r?0:r.length,n=Ca();return r=t?Xt(r,function(r){if("function"!=typeof r[1])throw new it(o);return[n(r[0]),r[1]]}):[],ki(function(n){for(var e=-1;++e<t;){var i=r[e];if(Gt(i[0],this,n))return Gt(i[1],this,n)}})},ge.conforms=function(r){return function(r){var t=ou(r);return function(n){return Me(n,r,t)}}(Ce(r,f))},ge.constant=Bu,ge.countBy=Go,ge.create=function(r,t){var n=ve(r);return null==t?n:ze(n,t)},ge.curry=function r(t,n,i){var a=Ea(t,m,e,e,e,e,e,n=i?e:n);return a.placeholder=r.placeholder,a},ge.curryRight=function r(t,n,i){var a=Ea(t,w,e,e,e,e,e,n=i?e:n);return a.placeholder=r.placeholder,a},ge.debounce=os,ge.defaults=Qs,ge.defaultsDeep=ru,ge.defer=ss,ge.delay=us,ge.difference=_o,ge.differenceBy=go,ge.differenceWith=vo,ge.drop=function(r,t,n){var i=null==r?0:r.length;return i?Ni(r,(t=n||t===e?1:Ps(t))<0?0:t,i):[]},ge.dropRight=function(r,t,n){var i=null==r?0:r.length;return i?Ni(r,0,(t=i-(t=n||t===e?1:Ps(t)))<0?0:t):[]},ge.dropRightWhile=function(r,t){return r&&r.length?Fi(r,Ca(t,3),!0,!0):[]},ge.dropWhile=function(r,t){return r&&r.length?Fi(r,Ca(t,3),!0):[]},ge.fill=function(r,t,n,i){var a=null==r?0:r.length;return a?(n&&"number"!=typeof n&&Ja(r,t,n)&&(n=0,i=a),function(r,t,n,i){var a=r.length;for((n=Ps(n))<0&&(n=-n>a?0:a+n),(i=i===e||i>a?a:Ps(i))<0&&(i+=a),i=n>i?0:Gs(i);n<i;)r[n++]=t;return r}(r,t,n,i)):[]},ge.filter=function(r,t){return(ms(r)?Zt:We)(r,Ca(t,3))},ge.flatMap=function(r,t){return $e(Xo(r,t),1)},ge.flatMapDeep=function(r,t){return $e(Xo(r,t),N)},ge.flatMapDepth=function(r,t,n){return n=n===e?1:Ps(n),$e(Xo(r,t),n)},ge.flatten=wo,ge.flattenDeep=function(r){return null!=r&&r.length?$e(r,N):[]},ge.flattenDepth=function(r,t){return null!=r&&r.length?$e(r,t=t===e?1:Ps(t)):[]},ge.flip=function(r){return Ea(r,k)},ge.flow=Su,ge.flowRight=Tu,ge.fromPairs=function(r){for(var t=-1,n=null==r?0:r.length,e={};++t<n;){var i=r[t];e[i[0]]=i[1]}return e},ge.functions=function(r){return null==r?[]:Ke(r,ou(r))},ge.functionsIn=function(r){return null==r?[]:Ke(r,su(r))},ge.groupBy=Zo,ge.initial=function(r){return null!=r&&r.length?Ni(r,0,-1):[]},ge.intersection=Ao,ge.intersectionBy=jo,ge.intersectionWith=xo,ge.invert=eu,ge.invertBy=iu,ge.invokeMap=Ho,ge.iteratee=zu,ge.keyBy=Ko,ge.keys=ou,ge.keysIn=su,ge.map=Xo,ge.mapKeys=function(r,t){var n={};return t=Ca(t,3),Ze(r,function(r,e,i){Ue(n,t(r,e,i),r)}),n},ge.mapValues=function(r,t){var n={};return t=Ca(t,3),Ze(r,function(r,e,i){Ue(n,e,t(r,e,i))}),n},ge.matches=function(r){return gi(Ce(r,f))},ge.matchesProperty=function(r,t){return vi(r,Ce(t,f))},ge.memoize=ls,ge.merge=uu,ge.mergeWith=lu,ge.method=Uu,ge.methodOf=Ru,ge.mixin=Ou,ge.negate=cs,ge.nthArg=function(r){return r=Ps(r),ki(function(t){return yi(t,r)})},ge.omit=cu,ge.omitBy=function(r,t){return hu(r,cs(Ca(t)))},ge.once=function(r){return es(2,r)},ge.orderBy=function(r,t,n,i){return null==r?[]:(ms(t)||(t=null==t?[]:[t]),ms(n=i?e:n)||(n=null==n?[]:[n]),mi(r,t,n))},ge.over=Mu,ge.overArgs=fs,ge.overEvery=qu,ge.overSome=Lu,ge.partial=hs,ge.partialRight=ps,ge.partition=Qo,ge.pick=fu,ge.pickBy=hu,ge.property=Du,ge.propertyOf=function(r){return function(t){return null==r?e:Xe(r,t)}},ge.pull=Eo,ge.pullAll=Vo,ge.pullAllBy=function(r,t,n){return r&&r.length&&t&&t.length?bi(r,t,Ca(n,2)):r},ge.pullAllWith=function(r,t,n){return r&&r.length&&t&&t.length?bi(r,t,e,n):r},ge.pullAt=Io,ge.range=Fu,ge.rangeRight=Pu,ge.rearg=_s,ge.reject=function(r,t){return(ms(r)?Zt:We)(r,cs(Ca(t,3)))},ge.remove=function(r,t){var n=[];if(!r||!r.length)return n;var e=-1,i=[],a=r.length;for(t=Ca(t,3);++e<a;){var o=r[e];t(o,e,r)&&(n.push(o),i.push(e))}return Ai(r,i),n},ge.rest=function(r,t){if("function"!=typeof r)throw new it(o);return ki(r,t=t===e?t:Ps(t))},ge.reverse=Bo,ge.sampleSize=function(r,t,n){return t=(n?Ja(r,t,n):t===e)?1:Ps(t),(ms(r)?Ve:Vi)(r,t)},ge.set=function(r,t,n){return null==r?r:Ii(r,t,n)},ge.setWith=function(r,t,n,i){return i="function"==typeof i?i:e,null==r?r:Ii(r,t,n,i)},ge.shuffle=function(r){return(ms(r)?Ie:Ti)(r)},ge.slice=function(r,t,n){var i=null==r?0:r.length;return i?(n&&"number"!=typeof n&&Ja(r,t,n)?(t=0,n=i):(t=null==t?0:Ps(t),n=n===e?i:Ps(n)),Ni(r,t,n)):[]},ge.sortBy=rs,ge.sortedUniq=function(r){return r&&r.length?Oi(r):[]},ge.sortedUniqBy=function(r,t){return r&&r.length?Oi(r,Ca(t,2)):[]},ge.split=function(r,t,n){return n&&"number"!=typeof n&&Ja(r,t,n)&&(t=n=e),(n=n===e?O:n>>>0)?(r=Ys(r))&&("string"==typeof t||null!=t&&!Us(t))&&!(t=Mi(t))&&kn(r)?Hi(Nn(r),0,n):r.split(t,n):[]},ge.spread=function(r,t){if("function"!=typeof r)throw new it(o);return t=null==t?0:Yn(Ps(t),0),ki(function(n){var e=n[t],i=Hi(n,0,t);return e&&Qt(i,e),Gt(r,this,i)})},ge.tail=function(r){var t=null==r?0:r.length;return t?Ni(r,1,t):[]},ge.take=function(r,t,n){return r&&r.length?Ni(r,0,(t=n||t===e?1:Ps(t))<0?0:t):[]},ge.takeRight=function(r,t,n){var i=null==r?0:r.length;return i?Ni(r,(t=i-(t=n||t===e?1:Ps(t)))<0?0:t,i):[]},ge.takeRightWhile=function(r,t){return r&&r.length?Fi(r,Ca(t,3),!1,!0):[]},ge.takeWhile=function(r,t){return r&&r.length?Fi(r,Ca(t,3)):[]},ge.tap=function(r,t){return t(r),r},ge.throttle=function(r,t,n){var e=!0,i=!0;if("function"!=typeof r)throw new it(o);return Bs(n)&&(e="leading"in n?!!n.leading:e,i="trailing"in n?!!n.trailing:i),os(r,t,{leading:e,maxWait:t,trailing:i})},ge.thru=Fo,ge.toArray=Ds,ge.toPairs=pu,ge.toPairsIn=_u,ge.toPath=function(r){return ms(r)?Xt(r,fo):Cs(r)?[r]:ia(co(Ys(r)))},ge.toPlainObject=$s,ge.transform=function(r,t,n){var e=ms(r),i=e||js(r)||Ms(r);if(t=Ca(t,4),null==n){var a=r&&r.constructor;n=i?e?new a:[]:Bs(r)&&Es(a)?ve(Tt(r)):{}}return(i?$t:Ze)(r,function(r,e,i){return t(n,r,e,i)}),n},ge.unary=function(r){return ns(r,1)},ge.union=So,ge.unionBy=To,ge.unionWith=No,ge.uniq=function(r){return r&&r.length?qi(r):[]},ge.uniqBy=function(r,t){return r&&r.length?qi(r,Ca(t,2)):[]},ge.uniqWith=function(r,t){return t="function"==typeof t?t:e,r&&r.length?qi(r,e,t):[]},ge.unset=function(r,t){return null==r||Li(r,t)},ge.unzip=zo,ge.unzipWith=Uo,ge.update=function(r,t,n){return null==r?r:Di(r,t,Yi(n))},ge.updateWith=function(r,t,n,i){return i="function"==typeof i?i:e,null==r?r:Di(r,t,Yi(n),i)},ge.values=gu,ge.valuesIn=function(r){return null==r?[]:yn(r,su(r))},ge.without=Ro,ge.words=Eu,ge.wrap=function(r,t){return hs(Yi(t),r)},ge.xor=Oo,ge.xorBy=Co,ge.xorWith=Mo,ge.zip=qo,ge.zipObject=function(r,t){return Wi(r||[],t||[],Se)},ge.zipObjectDeep=function(r,t){return Wi(r||[],t||[],Ii)},ge.zipWith=Lo,ge.entries=pu,ge.entriesIn=_u,ge.extend=Zs,ge.extendWith=Hs,Ou(ge,ge),ge.add=$u,ge.attempt=Vu,ge.camelCase=vu,ge.capitalize=du,ge.ceil=Yu,ge.clamp=function(r,t,n){return n===e&&(n=t,t=e),n!==e&&(n=(n=Ws(n))==n?n:0),t!==e&&(t=(t=Ws(t))==t?t:0),Oe(Ws(r),t,n)},ge.clone=function(r){return Ce(r,p)},ge.cloneDeep=function(r){return Ce(r,f|p)},ge.cloneDeepWith=function(r,t){return Ce(r,f|p,t="function"==typeof t?t:e)},ge.cloneWith=function(r,t){return Ce(r,p,t="function"==typeof t?t:e)},ge.conformsTo=function(r,t){return null==t||Me(r,t,ou(t))},ge.deburr=yu,ge.defaultTo=function(r,t){return null==r||r!=r?t:r},ge.divide=Ju,ge.endsWith=function(r,t,n){r=Ys(r),t=Mi(t);var i=r.length,a=n=n===e?i:Oe(Ps(n),0,i);return(n-=t.length)>=0&&r.slice(n,a)==t},ge.eq=gs,ge.escape=function(r){return(r=Ys(r))&&xr.test(r)?r.replace(Ar,jn):r},ge.escapeRegExp=function(r){return(r=Ys(r))&&Nr.test(r)?r.replace(Tr,"\\$&"):r},ge.every=function(r,t,n){var i=ms(r)?Jt:Pe;return n&&Ja(r,t,n)&&(t=e),i(r,Ca(t,3))},ge.find=Wo,ge.findIndex=yo,ge.findKey=function(r,t){return an(r,Ca(t,3),Ze)},ge.findLast=$o,ge.findLastIndex=mo,ge.findLastKey=function(r,t){return an(r,Ca(t,3),He)},ge.floor=Zu,ge.forEach=Yo,ge.forEachRight=Jo,ge.forIn=function(r,t){return null==r?r:Ye(r,Ca(t,3),su)},ge.forInRight=function(r,t){return null==r?r:Je(r,Ca(t,3),su)},ge.forOwn=function(r,t){return r&&Ze(r,Ca(t,3))},ge.forOwnRight=function(r,t){return r&&He(r,Ca(t,3))},ge.get=tu,ge.gt=vs,ge.gte=ds,ge.has=function(r,t){return null!=r&&Ga(r,t,ni)},ge.hasIn=nu,ge.head=bo,ge.identity=Nu,ge.includes=function(r,t,n,e){r=bs(r)?r:gu(r),n=n&&!e?Ps(n):0;var i=r.length;return n<0&&(n=Yn(i+n,0)),Os(r)?n<=i&&r.indexOf(t,n)>-1:!!i&&sn(r,t,n)>-1},ge.indexOf=function(r,t,n){var e=null==r?0:r.length;if(!e)return-1;var i=null==n?0:Ps(n);return i<0&&(i=Yn(e+i,0)),sn(r,t,i)},ge.inRange=function(r,t,n){return t=Fs(t),n===e?(n=t,t=0):n=Fs(n),function(r,t,n){return r>=Jn(t,n)&&r<Yn(t,n)}(r=Ws(r),t,n)},ge.invoke=au,ge.isArguments=ys,ge.isArray=ms,ge.isArrayBuffer=ws,ge.isArrayLike=bs,ge.isArrayLikeObject=As,ge.isBoolean=function(r){return!0===r||!1===r||Ss(r)&&ri(r)==P},ge.isBuffer=js,ge.isDate=xs,ge.isElement=function(r){return Ss(r)&&1===r.nodeType&&!zs(r)},ge.isEmpty=function(r){if(null==r)return!0;if(bs(r)&&(ms(r)||"string"==typeof r||"function"==typeof r.splice||js(r)||Ms(r)||ys(r)))return!r.length;var t=Pa(r);if(t==Z||t==tr)return!r.size;if(Xa(r))return!fi(r).length;for(var n in r)if(ct.call(r,n))return!1;return!0},ge.isEqual=function(r,t){return si(r,t)},ge.isEqualWith=function(r,t,n){var i=(n="function"==typeof n?n:e)?n(r,t):e;return i===e?si(r,t,e,n):!!i},ge.isError=ks,ge.isFinite=function(r){return"number"==typeof r&&Gn(r)},ge.isFunction=Es,ge.isInteger=Vs,ge.isLength=Is,ge.isMap=Ts,ge.isMatch=function(r,t){return r===t||ui(r,t,qa(t))},ge.isMatchWith=function(r,t,n){return n="function"==typeof n?n:e,ui(r,t,qa(t),n)},ge.isNaN=function(r){return Ns(r)&&r!=+r},ge.isNative=function(r){if(Ka(r))throw new Xr(a);return li(r)},ge.isNil=function(r){return null==r},ge.isNull=function(r){return null===r},ge.isNumber=Ns,ge.isObject=Bs,ge.isObjectLike=Ss,ge.isPlainObject=zs,ge.isRegExp=Us,ge.isSafeInteger=function(r){return Vs(r)&&r>=-z&&r<=z},ge.isSet=Rs,ge.isString=Os,ge.isSymbol=Cs,ge.isTypedArray=Ms,ge.isUndefined=function(r){return r===e},ge.isWeakMap=function(r){return Ss(r)&&Pa(r)==ar},ge.isWeakSet=function(r){return Ss(r)&&ri(r)==or},ge.join=function(r,t){return null==r?"":Wn.call(r,t)},ge.kebabCase=mu,ge.last=ko,ge.lastIndexOf=function(r,t,n){var i=null==r?0:r.length;if(!i)return-1;var a=i;return n!==e&&(a=(a=Ps(n))<0?Yn(i+a,0):Jn(a,i-1)),t==t?function(r,t,n){for(var e=n+1;e--;)if(r[e]===t)return e;return e}(r,t,a):on(r,ln,a,!0)},ge.lowerCase=wu,ge.lowerFirst=bu,ge.lt=qs,ge.lte=Ls,ge.max=function(r){return r&&r.length?Ge(r,Nu,ti):e},ge.maxBy=function(r,t){return r&&r.length?Ge(r,Ca(t,2),ti):e},ge.mean=function(r){return cn(r,Nu)},ge.meanBy=function(r,t){return cn(r,Ca(t,2))},ge.min=function(r){return r&&r.length?Ge(r,Nu,pi):e},ge.minBy=function(r,t){return r&&r.length?Ge(r,Ca(t,2),pi):e},ge.stubArray=Gu,ge.stubFalse=Wu,ge.stubObject=function(){return{}},ge.stubString=function(){return""},ge.stubTrue=function(){return!0},ge.multiply=Ku,ge.nth=function(r,t){return r&&r.length?yi(r,Ps(t)):e},ge.noConflict=function(){return Nt._===this&&(Nt._=gt),this},ge.noop=Cu,ge.now=ts,ge.pad=function(r,t,n){r=Ys(r);var e=(t=Ps(t))?Tn(r):0;if(!t||e>=t)return r;var i=(t-e)/2;return ma(Dn(i),n)+r+ma(Ln(i),n)},ge.padEnd=function(r,t,n){r=Ys(r);var e=(t=Ps(t))?Tn(r):0;return t&&e<t?r+ma(t-e,n):r},ge.padStart=function(r,t,n){r=Ys(r);var e=(t=Ps(t))?Tn(r):0;return t&&e<t?ma(t-e,n)+r:r},ge.parseInt=function(r,t,n){return n||null==t?t=0:t&&(t=+t),Hn(Ys(r).replace(zr,""),t||0)},ge.random=function(r,t,n){if(n&&"boolean"!=typeof n&&Ja(r,t,n)&&(t=n=e),n===e&&("boolean"==typeof t?(n=t,t=e):"boolean"==typeof r&&(n=r,r=e)),r===e&&t===e?(r=0,t=1):(r=Fs(r),t===e?(t=r,r=0):t=Fs(t)),r>t){var i=r;r=t,t=i}if(n||r%1||t%1){var a=Kn();return Jn(r+a*(t-r+It("1e-"+((a+"").length-1))),t)}return ji(r,t)},ge.reduce=function(r,t,n){var e=ms(r)?rn:pn,i=arguments.length<3;return e(r,Ca(t,4),n,i,De)},ge.reduceRight=function(r,t,n){var e=ms(r)?tn:pn,i=arguments.length<3;return e(r,Ca(t,4),n,i,Fe)},ge.repeat=function(r,t,n){return t=(n?Ja(r,t,n):t===e)?1:Ps(t),xi(Ys(r),t)},ge.replace=function(){var r=arguments,t=Ys(r[0]);return r.length<3?t:t.replace(r[1],r[2])},ge.result=function(r,t,n){var i=-1,a=(t=Ji(t,r)).length;for(a||(a=1,r=e);++i<a;){var o=null==r?e:r[fo(t[i])];o===e&&(i=a,o=n),r=Es(o)?o.call(r):o}return r},ge.round=Xu,ge.runInContext=r,ge.sample=function(r){return(ms(r)?Ee:Ei)(r)},ge.size=function(r){if(null==r)return 0;if(bs(r))return Os(r)?Tn(r):r.length;var t=Pa(r);return t==Z||t==tr?r.size:fi(r).length},ge.snakeCase=Au,ge.some=function(r,t,n){var i=ms(r)?nn:zi;return n&&Ja(r,t,n)&&(t=e),i(r,Ca(t,3))},ge.sortedIndex=function(r,t){return Ui(r,t)},ge.sortedIndexBy=function(r,t,n){return Ri(r,t,Ca(n,2))},ge.sortedIndexOf=function(r,t){var n=null==r?0:r.length;if(n){var e=Ui(r,t);if(e<n&&gs(r[e],t))return e}return-1},ge.sortedLastIndex=function(r,t){return Ui(r,t,!0)},ge.sortedLastIndexBy=function(r,t,n){return Ri(r,t,Ca(n,2),!0)},ge.sortedLastIndexOf=function(r,t){if(null!=r&&r.length){var n=Ui(r,t,!0)-1;if(gs(r[n],t))return n}return-1},ge.startCase=ju,ge.startsWith=function(r,t,n){return r=Ys(r),n=null==n?0:Oe(Ps(n),0,r.length),t=Mi(t),r.slice(n,n+t.length)==t},ge.subtract=Qu,ge.sum=function(r){return r&&r.length?_n(r,Nu):0},ge.sumBy=function(r,t){return r&&r.length?_n(r,Ca(t,2)):0},ge.template=function(r,t,n){var i=ge.templateSettings;n&&Ja(r,t,n)&&(t=e),r=Ys(r),t=Hs({},t,i,Va);var a,o,u=Hs({},t.imports,i.imports,Va),l=ou(u),c=yn(u,l),f=0,h=t.interpolate||Zr,p="__p += '",_=nt((t.escape||Zr).source+"|"+h.source+"|"+(h===Vr?Dr:Zr).source+"|"+(t.evaluate||Zr).source+"|$","g"),g="//# sourceURL="+(ct.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++xt+"]")+"\n";r.replace(_,function(t,n,e,i,s,u){return e||(e=i),p+=r.slice(f,u).replace(Hr,xn),n&&(a=!0,p+="' +\n__e("+n+") +\n'"),s&&(o=!0,p+="';\n"+s+";\n__p += '"),e&&(p+="' +\n((__t = ("+e+")) == null ? '' : __t) +\n'"),f=u+t.length,t}),p+="';\n";var v=ct.call(t,"variable")&&t.variable;if(v){if(qr.test(v))throw new Xr(s)}else p="with (obj) {\n"+p+"\n}\n";p=(o?p.replace(yr,""):p).replace(mr,"$1").replace(wr,"$1;"),p="function("+(v||"obj")+") {\n"+(v?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(a?", __e = _.escape":"")+(o?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+p+"return __p\n}";var d=Vu(function(){return Qr(l,g+"return "+p).apply(e,c)});if(d.source=p,ks(d))throw d;return d},ge.times=function(r,t){if((r=Ps(r))<1||r>z)return[];var n=O,e=Jn(r,O);t=Ca(t),r-=O;for(var i=gn(e,t);++n<r;)t(n);return i},ge.toFinite=Fs,ge.toInteger=Ps,ge.toLength=Gs,ge.toLower=function(r){return Ys(r).toLowerCase()},ge.toNumber=Ws,ge.toSafeInteger=function(r){return r?Oe(Ps(r),-z,z):0===r?r:0},ge.toString=Ys,ge.toUpper=function(r){return Ys(r).toUpperCase()},ge.trim=function(r,t,n){if((r=Ys(r))&&(n||t===e))return vn(r);if(!r||!(t=Mi(t)))return r;var i=Nn(r),a=Nn(t);return Hi(i,wn(i,a),bn(i,a)+1).join("")},ge.trimEnd=function(r,t,n){if((r=Ys(r))&&(n||t===e))return r.slice(0,zn(r)+1);if(!r||!(t=Mi(t)))return r;var i=Nn(r);return Hi(i,0,bn(i,Nn(t))+1).join("")},ge.trimStart=function(r,t,n){if((r=Ys(r))&&(n||t===e))return r.replace(zr,"");if(!r||!(t=Mi(t)))return r;var i=Nn(r);return Hi(i,wn(i,Nn(t))).join("")},ge.truncate=function(r,t){var n=E,i=V;if(Bs(t)){var a="separator"in t?t.separator:a;n="length"in t?Ps(t.length):n,i="omission"in t?Mi(t.omission):i}var o=(r=Ys(r)).length;if(kn(r)){var s=Nn(r);o=s.length}if(n>=o)return r;var u=n-Tn(i);if(u<1)return i;var l=s?Hi(s,0,u).join(""):r.slice(0,u);if(a===e)return l+i;if(s&&(u+=l.length-u),Us(a)){if(r.slice(u).search(a)){var c,f=l;for(a.global||(a=nt(a.source,Ys(Fr.exec(a))+"g")),a.lastIndex=0;c=a.exec(f);)var h=c.index;l=l.slice(0,h===e?u:h)}}else if(r.indexOf(Mi(a),u)!=u){var p=l.lastIndexOf(a);p>-1&&(l=l.slice(0,p))}return l+i},ge.unescape=function(r){return(r=Ys(r))&&jr.test(r)?r.replace(br,Un):r},ge.uniqueId=function(r){var t=++ft;return Ys(r)+t},ge.upperCase=xu,ge.upperFirst=ku,ge.each=Yo,ge.eachRight=Jo,ge.first=bo,Ou(ge,(Hu={},Ze(ge,function(r,t){ct.call(ge.prototype,t)||(Hu[t]=r)}),Hu),{chain:!1}),ge.VERSION="4.17.21",$t(["bind","bindKey","curry","curryRight","partial","partialRight"],function(r){ge[r].placeholder=ge}),$t(["drop","take"],function(r,t){me.prototype[r]=function(n){n=n===e?1:Yn(Ps(n),0);var i=this.__filtered__&&!t?new me(this):this.clone();return i.__filtered__?i.__takeCount__=Jn(n,i.__takeCount__):i.__views__.push({size:Jn(n,O),type:r+(i.__dir__<0?"Right":"")}),i},me.prototype[r+"Right"]=function(t){return this.reverse()[r](t).reverse()}}),$t(["filter","map","takeWhile"],function(r,t){var n=t+1,e=n==S||3==n;me.prototype[r]=function(r){var t=this.clone();return t.__iteratees__.push({iteratee:Ca(r,3),type:n}),t.__filtered__=t.__filtered__||e,t}}),$t(["head","last"],function(r,t){var n="take"+(t?"Right":"");me.prototype[r]=function(){return this[n](1).value()[0]}}),$t(["initial","tail"],function(r,t){var n="drop"+(t?"":"Right");me.prototype[r]=function(){return this.__filtered__?new me(this):this[n](1)}}),me.prototype.compact=function(){return this.filter(Nu)},me.prototype.find=function(r){return this.filter(r).head()},me.prototype.findLast=function(r){return this.reverse().find(r)},me.prototype.invokeMap=ki(function(r,t){return"function"==typeof r?new me(this):this.map(function(n){return ai(n,r,t)})}),me.prototype.reject=function(r){return this.filter(cs(Ca(r)))},me.prototype.slice=function(r,t){r=Ps(r);var n=this;return n.__filtered__&&(r>0||t<0)?new me(n):(r<0?n=n.takeRight(-r):r&&(n=n.drop(r)),t!==e&&(n=(t=Ps(t))<0?n.dropRight(-t):n.take(t-r)),n)},me.prototype.takeRightWhile=function(r){return this.reverse().takeWhile(r).reverse()},me.prototype.toArray=function(){return this.take(O)},Ze(me.prototype,function(r,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),i=/^(?:head|last)$/.test(t),a=ge[i?"take"+("last"==t?"Right":""):t],o=i||/^find/.test(t);a&&(ge.prototype[t]=function(){var t=this.__wrapped__,s=i?[1]:arguments,u=t instanceof me,l=s[0],c=u||ms(t),f=function(r){var t=a.apply(ge,Qt([r],s));return i&&h?t[0]:t};c&&n&&"function"==typeof l&&1!=l.length&&(u=c=!1);var h=this.__chain__,p=!!this.__actions__.length,_=o&&!h,g=u&&!p;if(!o&&c){t=g?t:new me(this);var v=r.apply(t,s);return v.__actions__.push({func:Fo,args:[f],thisArg:e}),new ye(v,h)}return _&&g?r.apply(this,s):(v=this.thru(f),_?i?v.value()[0]:v.value():v)})}),$t(["pop","push","shift","sort","splice","unshift"],function(r){var t=at[r],n=/^(?:push|sort|unshift)$/.test(r)?"tap":"thru",e=/^(?:pop|shift)$/.test(r);ge.prototype[r]=function(){var r=arguments;if(e&&!this.__chain__){var i=this.value();return t.apply(ms(i)?i:[],r)}return this[n](function(n){return t.apply(ms(n)?n:[],r)})}}),Ze(me.prototype,function(r,t){var n=ge[t];if(n){var e=n.name+"";ct.call(oe,e)||(oe[e]=[]),oe[e].push({name:t,func:n})}}),oe[ga(e,d).name]=[{name:"wrapper",func:e}],me.prototype.clone=function(){var r=new me(this.__wrapped__);return r.__actions__=ia(this.__actions__),r.__dir__=this.__dir__,r.__filtered__=this.__filtered__,r.__iteratees__=ia(this.__iteratees__),r.__takeCount__=this.__takeCount__,r.__views__=ia(this.__views__),r},me.prototype.reverse=function(){if(this.__filtered__){var r=new me(this);r.__dir__=-1,r.__filtered__=!0}else(r=this.clone()).__dir__*=-1;return r},me.prototype.value=function(){var r=this.__wrapped__.value(),t=this.__dir__,n=ms(r),e=t<0,i=n?r.length:0,a=function(r,t,n){for(var e=-1,i=n.length;++e<i;){var a=n[e],o=a.size;switch(a.type){case"drop":r+=o;break;case"dropRight":t-=o;break;case"take":t=Jn(t,r+o);break;case"takeRight":r=Yn(r,t-o)}}return{start:r,end:t}}(0,i,this.__views__),o=a.start,s=a.end,u=s-o,l=e?s:o-1,c=this.__iteratees__,f=c.length,h=0,p=Jn(u,this.__takeCount__);if(!n||!e&&i==u&&p==u)return Pi(r,this.__actions__);var _=[];r:for(;u--&&h<p;){for(var g=-1,v=r[l+=t];++g<f;){var d=c[g],y=d.iteratee,m=d.type,w=y(v);if(m==T)v=w;else if(!w){if(m==S)continue r;break r}}_[h++]=v}return _},ge.prototype.at=Po,ge.prototype.chain=function(){return Do(this)},ge.prototype.commit=function(){return new ye(this.value(),this.__chain__)},ge.prototype.next=function(){this.__values__===e&&(this.__values__=Ds(this.value()));var r=this.__index__>=this.__values__.length;return{done:r,value:r?e:this.__values__[this.__index__++]}},ge.prototype.plant=function(r){for(var t,n=this;n instanceof de;){var i=po(n);i.__index__=0,i.__values__=e,t?a.__wrapped__=i:t=i;var a=i;n=n.__wrapped__}return a.__wrapped__=r,t},ge.prototype.reverse=function(){var r=this.__wrapped__;if(r instanceof me){var t=r;return this.__actions__.length&&(t=new me(this)),(t=t.reverse()).__actions__.push({func:Fo,args:[Bo],thisArg:e}),new ye(t,this.__chain__)}return this.thru(Bo)},ge.prototype.toJSON=ge.prototype.valueOf=ge.prototype.value=function(){return Pi(this.__wrapped__,this.__actions__)},ge.prototype.first=ge.prototype.head,en&&(ge.prototype[en]=function(){return this}),ge}();Ut?((Ut.exports=Rn)._=Rn,zt._=Rn):Nt._=Rn}).call(this)}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],14:[function(r,t,n){"use strict";var e=r("ndarray-ops"),i=r("ndarray"),a=r("typedarray-pool"),o=r("./lib/fft-matrix.js");t.exports=function(r,t,n){var s,u,l=t.shape,c=l.length,f=1,h=new Array(c),p=0;for(s=c-1;s>=0;--s)if(h[s]=f,f*=l[s],p=Math.max(p,o.scratchMemory(l[s])),t.shape[s]!==n.shape[s])throw new Error("Shape mismatch, real and imaginary arrays must have same size");var _,g=4*f+p;_="array"===t.dtype||"float64"===t.dtype||"custom"===t.dtype?a.mallocDouble(g):a.mallocFloat(g);var v,d,y,m,w=i(_,l.slice(0),h,0),b=i(_,l.slice(0),h.slice(0),f),A=i(_,l.slice(0),h.slice(0),2*f),j=i(_,l.slice(0),h.slice(0),3*f),x=4*f;for(e.assign(w,t),e.assign(b,n),s=c-1;s>=0&&(o(r,f/l[s],l[s],_,w.offset,b.offset,x),0!==s);--s){for(d=1,y=A.stride,m=j.stride,u=s-1;u<c;++u)m[u]=y[u]=d,d*=l[u];for(u=s-2;u>=0;--u)m[u]=y[u]=d,d*=l[u];e.assign(A,w),e.assign(j,b),v=w,w=A,A=v,v=b,b=j,j=v}e.assign(t,w),e.assign(n,b),a.free(_)}},{"./lib/fft-matrix.js":15,ndarray:19,"ndarray-ops":18,"typedarray-pool":43}],15:[function(r,t,n){var e=r("bit-twiddle");function i(r,t,n,i,a,o){var s,u,l,c,f,h,p,_,g,v,d,y,m,w,b,A,j,x,k,E,V,I,B,S;for(r|=0,t|=0,a|=0,o|=0,s=n|=0,u=e.log2(s),x=0;x<t;++x){for(p=s>>1,f=0,l=0;l<s-1;l++){for(l<f&&(m=i[a+l],i[a+l]=i[a+f],i[a+f]=m,m=i[o+l],i[o+l]=i[o+f],i[o+f]=m),h=p;h<=f;)f-=h,h>>=1;f+=h}for(d=-1,y=0,v=1,_=0;_<u;_++){for(g=v,v<<=1,A=1,j=0,f=0;f<g;f++){for(l=f;l<s;l+=v)k=i[a+(c=l+g)],E=i[o+c],V=i[a+l],I=i[o+l],w=(B=A*(k+E))-E*(A+j),b=B+(S=k*(j-A)),i[a+c]=V-w,i[o+c]=I-b,i[a+l]+=w,i[o+l]+=b;S=A*(y-d),A=(B=d*(A+j))-j*(d+y),j=B+S}y=Math.sqrt((1-d)/2),r<0&&(y=-y),d=Math.sqrt((1+d)/2)}if(r<0){var T=1/s;for(l=0;l<s;l++)i[a+l]*=T,i[o+l]*=T}a+=n,o+=n}}t.exports=function(r,t,n,a,o,s,u){r|=0,t|=0,n|=0,o|=0,s|=0,e.isPow2(n)?i(r,t,n,a,o,s):function(r,t,n,a,o,s,u){r|=0,t|=0,n|=0,o|=0,s|=0,u|=0;var l,c,f,h,p,_,g,v,d,y=e.nextPow2(2*n+1),m=u,w=m+n,b=w+n,A=b+y,j=A+y,x=j+y,k=-r*Math.PI/n;for(d=0;d<n;++d)c=k*(d*d%(2*n)),h=Math.cos(c),p=Math.sin(c),a[j+(y-d)]=a[j+d]=a[m+d]=h,a[x+(y-d)]=a[x+d]=a[w+d]=p;for(d=n;d<=y-n;++d)a[j+d]=0;for(d=n;d<=y-n;++d)a[x+d]=0;for(i(1,1,y,a,j,x),k=r<0?1/n:1,l=0;l<t;++l){for(d=0;d<n;++d)c=a[o+d],f=a[s+d],h=a[m+d],p=-a[w+d],_=h*(c+f),g=c*(p-h),v=f*(h+p),a[b+d]=_-v,a[A+d]=_+g;for(d=n;d<y;++d)a[b+d]=0;for(d=n;d<y;++d)a[A+d]=0;for(i(1,1,y,a,b,A),d=0;d<y;++d)c=a[b+d],f=a[A+d],h=a[j+d],p=a[x+d],_=h*(c+f),g=c*(p-h),v=f*(h+p),a[b+d]=_-v,a[A+d]=_+g;for(i(-1,1,y,a,b,A),d=0;d<n;++d)c=a[b+d],f=a[A+d],h=a[m+d],p=-a[w+d],_=h*(c+f),g=c*(p-h),v=f*(h+p),a[o+d]=k*(_-v),a[s+d]=k*(_+g);o+=n,s+=n}}(r,t,n,a,o,s,u)},t.exports.scratchMemory=function(r){return e.isPow2(r)?0:2*r+4*e.nextPow2(2*r+1)}},{"bit-twiddle":2}],16:[function(r,t,n){"use strict";t.exports=function(r,t,n,s,u){void 0===s&&(s=1);void 0===u&&(u=0);var l=1!==s,c=0!==u,f=a(r),h=a(t),p=a(n);!function(r,t,n){var e=i(r),a=i(t),o=i(n);if(e[0]!==a[0]||e[1]!==o[1]||a[1]!==o[0])throw new Error("Mismatched array shapes for matrix product")}(r,t,n);var _=[f,h,p,l,c].join(":"),g=o[_];g||(g=o[_]=e(f,h,p,l,c));return g(r,t,n,s,u)};var e=r("./lib/planner.js");function i(r){return Array.isArray(r)?[r.length,r[0].length]:r.shape}function a(r){if(Array.isArray(r)){if(Array.isArray(r))return["r","native"]}else if(r.shape&&2===r.shape.length)return r.order[0]?["r",r.dtype]:["c",r.dtype];throw new Error("Unrecognized data type")}var o={}},{"./lib/planner.js":17}],17:[function(r,t,n){"use strict";t.exports=function(r,t,n,l,c){var f=["gemm",r[0],r[1],"a",t[0],t[1],"b",n[0],n[1],l?"alpha":"",c?"beta":""].join(""),h=["function ",f,"(o,a,b,A,B){","var ",i("o",r),i("a",t),i("b",n),"i,j,k;"];"r"===t[0]&&"c"===n[0]?h.push.apply(h,function(r,t,n,e,i){var l=[],c="r"===r[0]?[1,0]:[0,1],f=[1,0],h=[0,1],p=["i","j"];l.push.apply(l,a(c,"o",r)),c[1]?(l.push("for(j=0;j<od1;++j){"),l.push("for(i=0;i<od0;++i){")):(l.push("for(i=0;i<od0;++i){"),l.push("for(j=0;j<od1;++j){"));l.push.apply(l,a(f,"a",t,"i")),l.push.apply(l,a(h,"b",n,void 0,"j")),l.push("var r=0.0;","for(k=0;k<ad1;++k){","r+=",u(f,"a",t,"i","k"),"*",u(h,"b",n,"k","j"),";"),l.push.apply(l,o(f,"a",t,0,"k")),l.push.apply(l,o(h,"b",n,0,"k")),l.push("}"),e&&l.push("r*=A;");i&&l.push("r+=B*",u(c,"o",r,"i","j"),";");return l.push.apply(l,s(c,"o",r,"i","j","r")),l.push.apply(l,o(c,"o",r,0,p[1])),l.push("}"),l.push.apply(l,o(c,"o",r,1,p[0])),l.push("}"),l}(r,t,n,l,c)):h.push.apply(h,function(r,t,n,i,l){var c=[],f=["od0","od1","ad1"],h=[1,0],p=[1,0],_=[0,1];c.push.apply(c,function(r,t){var n,e=[],i="r"===r[0]?[1,0]:[0,1];t&&e.push("if(B!==1.0){");e.push.apply(e,a(i,"o",r)),i[0]?(e.push("for(i=0;i<od0;++i){for(j=0;j<od1;++j){"),n=["i","j"]):(e.push("for(j=0;j<od1;++j){for(i=0;i<od0;++i){"),n=["j","i"]);t?e.push.apply(e,s(i,"o",r,"i","j","B*"+u(i,"o",r,"i","j"))):e.push.apply(e,s(i,"o",r,"i","j","0"));e.push.apply(e,o(i,"o",r,0,n[1])),e.push("}"),e.push.apply(e,o(i,"o",r,1,n[0])),e.push("}"),t&&e.push("}");return e}(r,l));for(var g=0;g<3;++g)c.push("for(var i",g,"=",f[g],";i",g,">0;){","var w",g,"=",e,";","if(i",g,"<",e,"){","w",g,"=i",g,";","i",g,"=0;","}else{","i",g,"-=",e,";","}");c.push.apply(c,a(h,"o",r,"i0","i1","w1")),c.push("for(i=0;i<w0;++i){for(j=0;j<w1;++j){var r=0.0;"),c.push.apply(c,a(p,"a",t,"(i0+i)","i2")),c.push.apply(c,a(_,"b",n,"i2","(i1+j)")),c.push("for(k=0;k<w2;++k){"),c.push("r+=",u(p,"a",t,"(i0+i)","(i2+k)"),"*",u(_,"b",n,"(i2+k)","(i1+j)"),";"),c.push.apply(c,o(p,"a",t,0,"(i2+k)")),c.push.apply(c,o(_,"b",n,0,"(i2+k)")),c.push("}");var v="r";i&&(v="A*r");return c.push.apply(c,s(h,"o",r,"(i0+i)","(i1+j)",v+"+"+u(h,"o",r,"(i0+i)","(i1+j)"))),c.push.apply(c,o(h,"o",r,0,"(i1+j)")),c.push("}"),c.push.apply(c,o(h,"o",r,1,"(i0+i)")),c.push("}}}}"),c}(r,t,n,l,c));return h.push("}return ",f),new Function(h.join(""))()};var e=32;function i(r,t){return"native"===t[1]?[r,"d0=",r,".length,",r,"d1=",r,"[0].length,"].join(""):[r,"d0=",r,".shape[0],",r,"d1=",r,".shape[1],",r,"s0=",r,".stride[0],",r,"s1=",r,".stride[1],",r,"o=",r,".offset,",r,"d=",r,".data,"].join("")}function a(r,t,n,e,i,a){var o=[];return"native"===n[1]?r[0]&&(e?o.push("var ",t,"p=",t,"[",e,"];"):o.push("var ",t,"p=",t,"[0];")):e&&i?a?o.push("var ",t,"t0=",t,"s",r[0],",",t,"t1=",t,"s",r[1],"-",t,"s",r[0],"*",a,",",t,"p=",t,"o+",e,"*",t,"s0+",i,"*",t,"s1;"):o.push("var ",t,"t0=",t,"s",r[0],",",t,"p=",t,"o+",e,"*",t,"s0+",i,"*",t,"s1;"):e?o.push("var ",t,"t0=",t,"s",r[0],",",t,"p=",t,"o+",e,"*",t,"s0;"):i?o.push("var ",t,"t0=",t,"s",r[0],",",t,"p=",t,"o+",i,"*",t,"s1;"):o.push("var ",t,"t0=",t,"s",r[0],",",t,"t1=",t,"s",r[1],"-",t,"s",r[0],"*",t,"d",r[0],",",t,"p=",t,"o;"),o}function o(r,t,n,e,i){var a=[];return"native"===n[1]?r[0]&&1===e&&a.push(t,"p=",t,"[",i,"+1]"):a.push(t,"p+=",t,"t",e,";"),a}function s(r,t,n,e,i,a){var o=[];return"native"===n[1]?r[0]?o.push(t,"p[",i,"]=",a,";"):o.push(t,"[",e,"][",i,"]=",a,";"):"generic"===n[1]?o.push(t,"d.set(",t,"p,",a,");"):o.push(t,"d[",t,"p]=",a,";"),o}function u(r,t,n,e,i){var a=[];return"native"===n[1]?r[0]?a.push(t,"p[",i,"]"):a.push(t,"[",e,"][",i,"]"):"generic"===n[1]?a.push(t,"d.get(",t,"p)"):a.push(t,"d[",t,"p]"),a.join("")}},{}],18:[function(r,t,n){"use strict";var e=r("cwise-compiler"),i={body:"",args:[],thisVars:[],localVars:[]};function a(r){if(!r)return i;for(var t=0;t<r.args.length;++t){var n=r.args[t];r.args[t]=0===t?{name:n,lvalue:!0,rvalue:!!r.rvalue,count:r.count||1}:{name:n,lvalue:!1,rvalue:!0,count:1}}return r.thisVars||(r.thisVars=[]),r.localVars||(r.localVars=[]),r}function o(r){for(var t=[],n=0;n<r.args.length;++n)t.push("a"+n);return new Function("P",["return function ",r.funcName,"_ndarrayops(",t.join(","),") {P(",t.join(","),");return a0}"].join(""))(function(r){return e({args:r.args,pre:a(r.pre),body:a(r.body),post:a(r.proc),funcName:r.funcName})}(r))}var s={add:"+",sub:"-",mul:"*",div:"/",mod:"%",band:"&",bor:"|",bxor:"^",lshift:"<<",rshift:">>",rrshift:">>>"};!function(){for(var r in s){var t=s[r];n[r]=o({args:["array","array","array"],body:{args:["a","b","c"],body:"a=b"+t+"c"},funcName:r}),n[r+"eq"]=o({args:["array","array"],body:{args:["a","b"],body:"a"+t+"=b"},rvalue:!0,funcName:r+"eq"}),n[r+"s"]=o({args:["array","array","scalar"],body:{args:["a","b","s"],body:"a=b"+t+"s"},funcName:r+"s"}),n[r+"seq"]=o({args:["array","scalar"],body:{args:["a","s"],body:"a"+t+"=s"},rvalue:!0,funcName:r+"seq"})}}();var u={not:"!",bnot:"~",neg:"-",recip:"1.0/"};!function(){for(var r in u){var t=u[r];n[r]=o({args:["array","array"],body:{args:["a","b"],body:"a="+t+"b"},funcName:r}),n[r+"eq"]=o({args:["array"],body:{args:["a"],body:"a="+t+"a"},rvalue:!0,count:2,funcName:r+"eq"})}}();var l={and:"&&",or:"||",eq:"===",neq:"!==",lt:"<",gt:">",leq:"<=",geq:">="};!function(){for(var r in l){var t=l[r];n[r]=o({args:["array","array","array"],body:{args:["a","b","c"],body:"a=b"+t+"c"},funcName:r}),n[r+"s"]=o({args:["array","array","scalar"],body:{args:["a","b","s"],body:"a=b"+t+"s"},funcName:r+"s"}),n[r+"eq"]=o({args:["array","array"],body:{args:["a","b"],body:"a=a"+t+"b"},rvalue:!0,count:2,funcName:r+"eq"}),n[r+"seq"]=o({args:["array","scalar"],body:{args:["a","s"],body:"a=a"+t+"s"},rvalue:!0,count:2,funcName:r+"seq"})}}();var c=["abs","acos","asin","atan","ceil","cos","exp","floor","log","round","sin","sqrt","tan"];!function(){for(var r=0;r<c.length;++r){var t=c[r];n[t]=o({args:["array","array"],pre:{args:[],body:"this_f=Math."+t,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(b)",thisVars:["this_f"]},funcName:t}),n[t+"eq"]=o({args:["array"],pre:{args:[],body:"this_f=Math."+t,thisVars:["this_f"]},body:{args:["a"],body:"a=this_f(a)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:t+"eq"})}}();var f=["max","min","atan2","pow"];!function(){for(var r=0;r<f.length;++r){var t=f[r];n[t]=o({args:["array","array","array"],pre:{args:[],body:"this_f=Math."+t,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(b,c)",thisVars:["this_f"]},funcName:t}),n[t+"s"]=o({args:["array","array","scalar"],pre:{args:[],body:"this_f=Math."+t,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(b,c)",thisVars:["this_f"]},funcName:t+"s"}),n[t+"eq"]=o({args:["array","array"],pre:{args:[],body:"this_f=Math."+t,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(a,b)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:t+"eq"}),n[t+"seq"]=o({args:["array","scalar"],pre:{args:[],body:"this_f=Math."+t,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(a,b)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:t+"seq"})}}();var h=["atan2","pow"];!function(){for(var r=0;r<h.length;++r){var t=h[r];n[t+"op"]=o({args:["array","array","array"],pre:{args:[],body:"this_f=Math."+t,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(c,b)",thisVars:["this_f"]},funcName:t+"op"}),n[t+"ops"]=o({args:["array","array","scalar"],pre:{args:[],body:"this_f=Math."+t,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(c,b)",thisVars:["this_f"]},funcName:t+"ops"}),n[t+"opeq"]=o({args:["array","array"],pre:{args:[],body:"this_f=Math."+t,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(b,a)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:t+"opeq"}),n[t+"opseq"]=o({args:["array","scalar"],pre:{args:[],body:"this_f=Math."+t,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(b,a)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:t+"opseq"})}}(),n.any=e({args:["array"],pre:i,body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:1}],body:"if(a){return true}",localVars:[],thisVars:[]},post:{args:[],localVars:[],thisVars:[],body:"return false"},funcName:"any"}),n.all=e({args:["array"],pre:i,body:{args:[{name:"x",lvalue:!1,rvalue:!0,count:1}],body:"if(!x){return false}",localVars:[],thisVars:[]},post:{args:[],localVars:[],thisVars:[],body:"return true"},funcName:"all"}),n.sum=e({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:1}],body:"this_s+=a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"sum"}),n.prod=e({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=1"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:1}],body:"this_s*=a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"prod"}),n.norm2squared=e({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:2}],body:"this_s+=a*a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"norm2squared"}),n.norm2=e({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:2}],body:"this_s+=a*a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return Math.sqrt(this_s)"},funcName:"norm2"}),n.norminf=e({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:4}],body:"if(-a>this_s){this_s=-a}else if(a>this_s){this_s=a}",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"norminf"}),n.norm1=e({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:3}],body:"this_s+=a<0?-a:a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"norm1"}),n.sup=e({args:["array"],pre:{body:"this_h=-Infinity",args:[],thisVars:["this_h"],localVars:[]},body:{body:"if(_inline_1_arg0_>this_h)this_h=_inline_1_arg0_",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_h"],localVars:[]},post:{body:"return this_h",args:[],thisVars:["this_h"],localVars:[]}}),n.inf=e({args:["array"],pre:{body:"this_h=Infinity",args:[],thisVars:["this_h"],localVars:[]},body:{body:"if(_inline_1_arg0_<this_h)this_h=_inline_1_arg0_",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_h"],localVars:[]},post:{body:"return this_h",args:[],thisVars:["this_h"],localVars:[]}}),n.argmin=e({args:["index","array","shape"],pre:{body:"{this_v=Infinity;this_i=_inline_0_arg2_.slice(0)}",args:[{name:"_inline_0_arg0_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg1_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg2_",lvalue:!1,rvalue:!0,count:1}],thisVars:["this_i","this_v"],localVars:[]},body:{body:"{if(_inline_1_arg1_<this_v){this_v=_inline_1_arg1_;for(var _inline_1_k=0;_inline_1_k<_inline_1_arg0_.length;++_inline_1_k){this_i[_inline_1_k]=_inline_1_arg0_[_inline_1_k]}}}",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2},{name:"_inline_1_arg1_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_i","this_v"],localVars:["_inline_1_k"]},post:{body:"{return this_i}",args:[],thisVars:["this_i"],localVars:[]}}),n.argmax=e({args:["index","array","shape"],pre:{body:"{this_v=-Infinity;this_i=_inline_0_arg2_.slice(0)}",args:[{name:"_inline_0_arg0_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg1_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg2_",lvalue:!1,rvalue:!0,count:1}],thisVars:["this_i","this_v"],localVars:[]},body:{body:"{if(_inline_1_arg1_>this_v){this_v=_inline_1_arg1_;for(var _inline_1_k=0;_inline_1_k<_inline_1_arg0_.length;++_inline_1_k){this_i[_inline_1_k]=_inline_1_arg0_[_inline_1_k]}}}",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2},{name:"_inline_1_arg1_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_i","this_v"],localVars:["_inline_1_k"]},post:{body:"{return this_i}",args:[],thisVars:["this_i"],localVars:[]}}),n.random=o({args:["array"],pre:{args:[],body:"this_f=Math.random",thisVars:["this_f"]},body:{args:["a"],body:"a=this_f()",thisVars:["this_f"]},funcName:"random"}),n.assign=o({args:["array","array"],body:{args:["a","b"],body:"a=b"},funcName:"assign"}),n.assigns=o({args:["array","scalar"],body:{args:["a","b"],body:"a=b"},funcName:"assigns"}),n.equals=e({args:["array","array"],pre:i,body:{args:[{name:"x",lvalue:!1,rvalue:!0,count:1},{name:"y",lvalue:!1,rvalue:!0,count:1}],body:"if(x!==y){return false}",localVars:[],thisVars:[]},post:{args:[],localVars:[],thisVars:[],body:"return true"},funcName:"equals"})},{"cwise-compiler":5}],19:[function(r,t,n){var e=r("iota-array"),i=r("is-buffer"),a="undefined"!=typeof Float64Array;function o(r,t){return r[0]-t[0]}function s(){var r,t=this.stride,n=new Array(t.length);for(r=0;r<n.length;++r)n[r]=[Math.abs(t[r]),r];n.sort(o);var e=new Array(n.length);for(r=0;r<e.length;++r)e[r]=n[r][1];return e}function u(r,t){var n=["View",t,"d",r].join("");t<0&&(n="View_Nil"+r);var i="generic"===r;if(-1===t){var a="function "+n+"(a){this.data=a;};var proto="+n+".prototype;proto.dtype='"+r+"';proto.index=function(){return -1};proto.size=0;proto.dimension=-1;proto.shape=proto.stride=proto.order=[];proto.lo=proto.hi=proto.transpose=proto.step=function(){return new "+n+"(this.data);};proto.get=proto.set=function(){};proto.pick=function(){return null};return function construct_"+n+"(a){return new "+n+"(a);}";return new Function(a)()}if(0===t){a="function "+n+"(a,d) {this.data = a;this.offset = d};var proto="+n+".prototype;proto.dtype='"+r+"';proto.index=function(){return this.offset};proto.dimension=0;proto.size=1;proto.shape=proto.stride=proto.order=[];proto.lo=proto.hi=proto.transpose=proto.step=function "+n+"_copy() {return new "+n+"(this.data,this.offset)};proto.pick=function "+n+"_pick(){return TrivialArray(this.data);};proto.valueOf=proto.get=function "+n+"_get(){return "+(i?"this.data.get(this.offset)":"this.data[this.offset]")+"};proto.set=function "+n+"_set(v){return "+(i?"this.data.set(this.offset,v)":"this.data[this.offset]=v")+"};return function construct_"+n+"(a,b,c,d){return new "+n+"(a,d)}";return new Function("TrivialArray",a)(l[r][0])}a=["'use strict'"];var o=e(t),u=o.map(function(r){return"i"+r}),c="this.offset+"+o.map(function(r){return"this.stride["+r+"]*i"+r}).join("+"),f=o.map(function(r){return"b"+r}).join(","),h=o.map(function(r){return"c"+r}).join(",");a.push("function "+n+"(a,"+f+","+h+",d){this.data=a","this.shape=["+f+"]","this.stride=["+h+"]","this.offset=d|0}","var proto="+n+".prototype","proto.dtype='"+r+"'","proto.dimension="+t),a.push("Object.defineProperty(proto,'size',{get:function "+n+"_size(){return "+o.map(function(r){return"this.shape["+r+"]"}).join("*"),"}})"),1===t?a.push("proto.order=[0]"):(a.push("Object.defineProperty(proto,'order',{get:"),t<4?(a.push("function "+n+"_order(){"),2===t?a.push("return (Math.abs(this.stride[0])>Math.abs(this.stride[1]))?[1,0]:[0,1]}})"):3===t&&a.push("var s0=Math.abs(this.stride[0]),s1=Math.abs(this.stride[1]),s2=Math.abs(this.stride[2]);if(s0>s1){if(s1>s2){return [2,1,0];}else if(s0>s2){return [1,2,0];}else{return [1,0,2];}}else if(s0>s2){return [2,0,1];}else if(s2>s1){return [0,1,2];}else{return [0,2,1];}}})")):a.push("ORDER})")),a.push("proto.set=function "+n+"_set("+u.join(",")+",v){"),i?a.push("return this.data.set("+c+",v)}"):a.push("return this.data["+c+"]=v}"),a.push("proto.get=function "+n+"_get("+u.join(",")+"){"),i?a.push("return this.data.get("+c+")}"):a.push("return this.data["+c+"]}"),a.push("proto.index=function "+n+"_index(",u.join(),"){return "+c+"}"),a.push("proto.hi=function "+n+"_hi("+u.join(",")+"){return new "+n+"(this.data,"+o.map(function(r){return["(typeof i",r,"!=='number'||i",r,"<0)?this.shape[",r,"]:i",r,"|0"].join("")}).join(",")+","+o.map(function(r){return"this.stride["+r+"]"}).join(",")+",this.offset)}");var p=o.map(function(r){return"a"+r+"=this.shape["+r+"]"}),_=o.map(function(r){return"c"+r+"=this.stride["+r+"]"});a.push("proto.lo=function "+n+"_lo("+u.join(",")+"){var b=this.offset,d=0,"+p.join(",")+","+_.join(","));for(var g=0;g<t;++g)a.push("if(typeof i"+g+"==='number'&&i"+g+">=0){d=i"+g+"|0;b+=c"+g+"*d;a"+g+"-=d}");a.push("return new "+n+"(this.data,"+o.map(function(r){return"a"+r}).join(",")+","+o.map(function(r){return"c"+r}).join(",")+",b)}"),a.push("proto.step=function "+n+"_step("+u.join(",")+"){var "+o.map(function(r){return"a"+r+"=this.shape["+r+"]"}).join(",")+","+o.map(function(r){return"b"+r+"=this.stride["+r+"]"}).join(",")+",c=this.offset,d=0,ceil=Math.ceil");for(g=0;g<t;++g)a.push("if(typeof i"+g+"==='number'){d=i"+g+"|0;if(d<0){c+=b"+g+"*(a"+g+"-1);a"+g+"=ceil(-a"+g+"/d)}else{a"+g+"=ceil(a"+g+"/d)}b"+g+"*=d}");a.push("return new "+n+"(this.data,"+o.map(function(r){return"a"+r}).join(",")+","+o.map(function(r){return"b"+r}).join(",")+",c)}");var v=new Array(t),d=new Array(t);for(g=0;g<t;++g)v[g]="a[i"+g+"]",d[g]="b[i"+g+"]";a.push("proto.transpose=function "+n+"_transpose("+u+"){"+u.map(function(r,t){return r+"=("+r+"===undefined?"+t+":"+r+"|0)"}).join(";"),"var a=this.shape,b=this.stride;return new "+n+"(this.data,"+v.join(",")+","+d.join(",")+",this.offset)}"),a.push("proto.pick=function "+n+"_pick("+u+"){var a=[],b=[],c=this.offset");for(g=0;g<t;++g)a.push("if(typeof i"+g+"==='number'&&i"+g+">=0){c=(c+this.stride["+g+"]*i"+g+")|0}else{a.push(this.shape["+g+"]);b.push(this.stride["+g+"])}");return a.push("var ctor=CTOR_LIST[a.length+1];return ctor(this.data,a,b,c)}"),a.push("return function construct_"+n+"(data,shape,stride,offset){return new "+n+"(data,"+o.map(function(r){return"shape["+r+"]"}).join(",")+","+o.map(function(r){return"stride["+r+"]"}).join(",")+",offset)}"),new Function("CTOR_LIST","ORDER",a.join("\n"))(l[r],s)}var l={float32:[],float64:[],int8:[],int16:[],int32:[],uint8:[],uint16:[],uint32:[],array:[],uint8_clamped:[],bigint64:[],biguint64:[],buffer:[],generic:[]};t.exports=function(r,t,n,e){if(void 0===r)return(0,l.array[0])([]);"number"==typeof r&&(r=[r]),void 0===t&&(t=[r.length]);var o=t.length;if(void 0===n){n=new Array(o);for(var s=o-1,c=1;s>=0;--s)n[s]=c,c*=t[s]}if(void 0===e)for(e=0,s=0;s<o;++s)n[s]<0&&(e-=(t[s]-1)*n[s]);for(var f=function(r){if(i(r))return"buffer";if(a)switch(Object.prototype.toString.call(r)){case"[object Float64Array]":return"float64";case"[object Float32Array]":return"float32";case"[object Int8Array]":return"int8";case"[object Int16Array]":return"int16";case"[object Int32Array]":return"int32";case"[object Uint8Array]":return"uint8";case"[object Uint16Array]":return"uint16";case"[object Uint32Array]":return"uint32";case"[object Uint8ClampedArray]":return"uint8_clamped";case"[object BigInt64Array]":return"bigint64";case"[object BigUint64Array]":return"biguint64"}return Array.isArray(r)?"array":"generic"}(r),h=l[f];h.length<=o+1;)h.push(u(f,h.length-1));return(0,h[o+1])(r,t,n,e)}},{"iota-array":11,"is-buffer":12}],20:[function(r,t,n){"use strict";t.exports={printThreshold:7,nFloatingValues:5}},{}],21:[function(r,t,n){"use strict";t.exports={int8:Int8Array,int16:Int16Array,int32:Int32Array,uint8:Uint8Array,uint16:Uint16Array,uint32:Uint32Array,float32:Float32Array,float64:Float64Array,array:Array}},{}],22:[function(r,t,n){"use strict";t.exports={ValueError:function(){var r=Error.apply(this,arguments);return r.name=this.constructor.name,r},ConfigError:function(){var r=Error.apply(this,arguments);return r.name=this.constructor.name,r},NotImplementedError:function(){var r=Error.apply(this,arguments);return r.name=this.constructor.name,r}}},{}],23:[function(r,t,n){"use strict";t.exports=function(r,t,n,e,i){var a=t-1,o=t+e-1,s=r-1,u=r+n-1;return 0!==t&&0!==r?i.selection.get(s,a)-i.selection.get(u,a)-i.selection.get(s,o)+i.selection.get(u,o):0===t&&0===r?i.selection.get(r+n-1,t+e-1):0===t?-i.selection.get(s,t+e-1)+i.selection.get(r+n-1,t+e-1):-i.selection.get(u,a)+i.selection.get(u,o)}},{}],24:[function(r,t,n){"use strict";var e=r("./area-sum");t.exports=function(r,t,n,i,a){return e(r,t,n,i,a)/(n*i)}},{"./area-sum":23}],25:[function(r,t,n){(function(n){(function(){"use strict";var e=r("path"),i=r("./read"),a=e.join(e.resolve(n),"../../data");function o(r){return i(e.join(a,r))}var s={};Object.defineProperty(s,"digit",{get:function(){return o("five.png")}}),Object.defineProperty(s,"five",{get:function(){return o("five.png")}}),Object.defineProperty(s,"node",{get:function(){return o("nodejs.png")}}),Object.defineProperty(s,"lena",{get:function(){return o("lenna.png")}}),Object.defineProperty(s,"lenna",{get:function(){return o("lenna.png")}}),Object.defineProperty(s,"moon",{get:function(){return o("moon.jpg")}}),t.exports=s}).call(this)}).call(this,"/node_modules/numjs/src/images")},{"./read":29,path:41}],26:[function(r,t,n){"use strict";var e=r("../ndarray");t.exports=function(r){return new e(r.selection.step(null,-1))}},{"../ndarray":39}],27:[function(r,t,n){"use strict";t.exports={data:r("./data"),read:r("./read"),save:r("./save"),resize:r("./resize"),sat:r("./sat"),ssat:r("./ssat"),sobel:r("./sobel"),scharr:r("./scharr"),areaSum:r("./area-sum"),areaValue:r("./area-value"),rgb2gray:r("./rgb2gray"),flip:r("./flip")}},{"./area-sum":23,"./area-value":24,"./data":25,"./flip":26,"./read":29,"./resize":30,"./rgb2gray":31,"./sat":32,"./save":33,"./scharr":34,"./sobel":35,"./ssat":36}],28:[function(r,t,n){"use strict";var e=r("../ndarray"),i=r("cwise/lib/wrapper")({args:["array","array","array"],pre:{body:"{this_isgray=!0}",args:[],thisVars:["this_isgray"],localVars:[]},body:{body:"{_inline_40_arg0_===_inline_40_arg1_&&_inline_40_arg1_===_inline_40_arg2_||(this_isgray=!1)}",args:[{name:"_inline_40_arg0_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_40_arg1_",lvalue:!1,rvalue:!0,count:2},{name:"_inline_40_arg2_",lvalue:!1,rvalue:!0,count:1}],thisVars:["this_isgray"],localVars:[]},post:{body:"{return this_isgray}",args:[],thisVars:["this_isgray"],localVars:[]},debug:!1,funcName:"doCheckIsGrayscaleCwise",blockSize:64});t.exports=function(r){r instanceof e&&(r=r.selection);var t=r.shape;return 1!==t.length&&(2===t.length||3===t.length&&1===t[2]||3===t.length&&(3===t[2]||4===t[2])&&i(r.pick(null,null,0),r.pick(null,null,1),r.pick(null,null,2)))}},{"../ndarray":39,"cwise/lib/wrapper":8}],29:[function(r,t,n){"use strict";var e=r("ndarray"),i=r("../ndarray"),a=r("../errors"),o=r("./is-grayscale");t.exports=function(r){if(r instanceof HTMLCanvasElement)return function(r){var t=r.getContext("2d").getImageData(0,0,r.width,r.height),n=[r.width,r.height,4],a=[4,4*r.width,1],s=e(new Uint8Array(t.data),n,a,0).transpose(1,0);o(s)&&(s=s.pick(null,null,0));return new i(s)}(r);if(r instanceof HTMLImageElement)return function(r){var t=document.createElement("canvas");t.width=r.width,t.height=r.height;var n=t.getContext("2d");n.drawImage(r,0,0);var a=n.getImageData(0,0,r.width,r.height),s=[r.width,r.height,4],u=[4,4*r.width,1],l=e(new Uint8Array(a.data),s,u,0).transpose(1,0);o(l)&&(l=l.pick(null,null,0));return new i(l)}(r);throw new a.ValueError("expect input to be either an HTML Canvas or a (loaded) Image")}},{"../errors":22,"../ndarray":39,"./is-grayscale":28,ndarray:19}],30:[function(r,t,n){"use strict";var e=r("./utils"),i=r("ndarray"),a=r("../ndarray");t.exports=function(r,t,n){var o=r.shape,s=o[0],u=o[1],l=o[2]||1,c=document.createElement("canvas");c.height=s,c.width=u;var f=c.getContext("2d"),h=f.createImageData(u,s),p=e.setRawData(r.selection,h.data);if(p)throw p;var _=s/t,g=u/n,v=Math.min(_,g),d=t*v,y=n*v,m=(s-v*t)/2,w=(u-v*n)/2;f.putImageData(h,0,0),f.drawImage(c,w,m,y,d,0,0,n,t);var b=f.getImageData(0,0,n,t),A=[0|n,0|t,4],j=[4,4*n|0,1],x=i(new Uint8Array(b.data),A,j,0).transpose(1,0);return 2===o.length?x=x.pick(null,null,0):3===o.length&&1===l&&(x=x.pick(null,null,0)),new a(x)}},{"../ndarray":39,"./utils":37,ndarray:19}],31:[function(r,t,n){"use strict";var e=r("../ndarray"),i=r("../utils"),a=r("cwise/lib/wrapper")({args:["array","array","array","array"],pre:{body:"{}",args:[],thisVars:[],localVars:[]},body:{body:"{_inline_34_arg0_=4899*_inline_34_arg1_+9617*_inline_34_arg2_+1868*_inline_34_arg3_+8192>>14}",args:[{name:"_inline_34_arg0_",lvalue:!0,rvalue:!1,count:1},{name:"_inline_34_arg1_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_34_arg2_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_34_arg3_",lvalue:!1,rvalue:!0,count:1}],thisVars:[],localVars:[]},post:{body:"{}",args:[],thisVars:[],localVars:[]},debug:!1,funcName:"rgb2grayCwise",blockSize:64});t.exports=function(r){r instanceof e||(r=new e(r));var t=r.shape,n=t[0],o=t[1];if(1===(t[2]||1))return r;var s=[n,o],u=new e(new Uint8Array(i.shapeSize(s)),s),l=r.selection.pick(null,null,0),c=r.selection.pick(null,null,1),f=r.selection.pick(null,null,2);return a(u.selection,l,c,f),u}},{"../ndarray":39,"../utils":40,"cwise/lib/wrapper":8}],32:[function(r,t,n){"use strict";var e=r("../ndarray"),i=r("./rgb2gray"),a=r("cwise/lib/wrapper")({args:["array","array","index",{offset:[-1,-1],array:0},{offset:[-1,0],array:0},{offset:[0,-1],array:0}],pre:{body:"{}",args:[],thisVars:[],localVars:[]},body:{body:"{_inline_31_arg0_=0!==_inline_31_arg2_[0]&&0!==_inline_31_arg2_[1]?_inline_31_arg1_+_inline_31_arg4_+_inline_31_arg5_-_inline_31_arg3_:0===_inline_31_arg2_[0]&&0===_inline_31_arg2_[1]?_inline_31_arg1_:0===_inline_31_arg2_[0]?_inline_31_arg1_+_inline_31_arg5_:_inline_31_arg1_+_inline_31_arg4_}",args:[{name:"_inline_31_arg0_",lvalue:!0,rvalue:!1,count:1},{name:"_inline_31_arg1_",lvalue:!1,rvalue:!0,count:4},{name:"_inline_31_arg2_",lvalue:!1,rvalue:!0,count:5},{name:"_inline_31_arg3_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_31_arg4_",lvalue:!1,rvalue:!0,count:2},{name:"_inline_31_arg5_",lvalue:!1,rvalue:!0,count:2}],thisVars:[],localVars:[]},post:{body:"{}",args:[],thisVars:[],localVars:[]},debug:!1,funcName:"doIntegrateBody",blockSize:64});t.exports=function(r){var t=i(r),n=t.shape,o=n[0],s=n[1],u=new e(new Uint32Array(o*s),[o,s]);return a(u.selection,t.selection),u}},{"../ndarray":39,"./rgb2gray":31,"cwise/lib/wrapper":8}],33:[function(r,t,n){"use strict";var e=r("./utils"),i=r("../errors");t.exports=function(r,t){var n=r.shape,a=n[0],o=n[1];if(!(t instanceof HTMLCanvasElement))throw new i.ValueError("expect input to be either an HTML Canvas or a (loaded) Image");var s=document.createElement("canvas");s.height=a,s.width=o;var u=s.getContext("2d"),l=u.createImageData(o,a),c=e.setRawData(r.selection,l.data);if(c)throw c;u.putImageData(l,0,0),u.drawImage(s,o,a),t.getContext("2d").drawImage(s,0,0,o,a,0,0,t.width,t.height)}},{"../errors":22,"./utils":37}],34:[function(r,t,n){"use strict";var e=r("ndarray-ops"),i=r("../ndarray"),a=r("../utils"),o=r("./rgb2gray"),s=r("cwise/lib/wrapper")({args:["array","array",{offset:[-1,-1],array:1},{offset:[-1,0],array:1},{offset:[-1,1],array:1},{offset:[0,-1],array:1},{offset:[0,1],array:1},{offset:[1,-1],array:1},{offset:[1,0],array:1},{offset:[1,1],array:1}],pre:{body:"{}",args:[],thisVars:[],localVars:[]},body:{body:"{var _inline_37_q=3*_inline_37_arg2_+10*_inline_37_arg3_+3*_inline_37_arg4_-3*_inline_37_arg7_-10*_inline_37_arg8_-3*_inline_37_arg9_,_inline_37_s=3*_inline_37_arg2_-3*_inline_37_arg4_+10*_inline_37_arg5_-10*_inline_37_arg6_+3*_inline_37_arg7_-3*_inline_37_arg9_;_inline_37_arg0_=Math.sqrt(_inline_37_s*_inline_37_s+_inline_37_q*_inline_37_q)}",args:[{name:"_inline_37_arg0_",lvalue:!0,rvalue:!1,count:1},{name:"_inline_37_arg1_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_37_arg2_",lvalue:!1,rvalue:!0,count:2},{name:"_inline_37_arg3_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_37_arg4_",lvalue:!1,rvalue:!0,count:2},{name:"_inline_37_arg5_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_37_arg6_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_37_arg7_",lvalue:!1,rvalue:!0,count:2},{name:"_inline_37_arg8_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_37_arg9_",lvalue:!1,rvalue:!0,count:2}],thisVars:[],localVars:["_inline_37_q","_inline_37_s"]},post:{body:"{}",args:[],thisVars:[],localVars:[]},debug:!1,funcName:"doSobelBody",blockSize:64});t.exports=function(r){var t=o(r),n=t.shape,u=n[0],l=n[1],c=new i(new Float32Array(a.shapeSize(n)),n);return s(c.selection,t.selection),e.assigns(c.selection.pick(0,null),0),e.assigns(c.selection.pick(null,0),0),e.assigns(c.selection.pick(u-1,null),0),e.assigns(c.selection.pick(null,l-1),0),c.divide(16*Math.sqrt(2),!1)}},{"../ndarray":39,"../utils":40,"./rgb2gray":31,"cwise/lib/wrapper":8,"ndarray-ops":18}],35:[function(r,t,n){"use strict";var e=r("ndarray-ops"),i=r("../ndarray"),a=r("../utils"),o=r("./rgb2gray"),s=r("cwise/lib/wrapper")({args:["array","array",{offset:[-1,-1],array:1},{offset:[-1,0],array:1},{offset:[-1,1],array:1},{offset:[0,-1],array:1},{offset:[0,1],array:1},{offset:[1,-1],array:1},{offset:[1,0],array:1},{offset:[1,1],array:1}],pre:{body:"{}",args:[],thisVars:[],localVars:[]},body:{body:"{var _inline_25_q=_inline_25_arg2_+2*_inline_25_arg3_+_inline_25_arg4_-_inline_25_arg7_-2*_inline_25_arg8_-_inline_25_arg9_,_inline_25_s=_inline_25_arg2_-_inline_25_arg4_+2*_inline_25_arg5_-2*_inline_25_arg6_+_inline_25_arg7_-_inline_25_arg9_;_inline_25_arg0_=Math.sqrt(_inline_25_s*_inline_25_s+_inline_25_q*_inline_25_q)}",args:[{name:"_inline_25_arg0_",lvalue:!0,rvalue:!1,count:1},{name:"_inline_25_arg1_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_25_arg2_",lvalue:!1,rvalue:!0,count:2},{name:"_inline_25_arg3_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_25_arg4_",lvalue:!1,rvalue:!0,count:2},{name:"_inline_25_arg5_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_25_arg6_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_25_arg7_",lvalue:!1,rvalue:!0,count:2},{name:"_inline_25_arg8_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_25_arg9_",lvalue:!1,rvalue:!0,count:2}],thisVars:[],localVars:["_inline_25_q","_inline_25_s"]},post:{body:"{}",args:[],thisVars:[],localVars:[]},debug:!1,funcName:"doSobelBody",blockSize:64});t.exports=function(r){var t=o(r),n=t.shape,u=n[0],l=n[1],c=new i(new Float32Array(a.shapeSize(n)),n);return s(c.selection,t.selection),e.assigns(c.selection.pick(0,null),0),e.assigns(c.selection.pick(null,0),0),e.assigns(c.selection.pick(u-1,null),0),e.assigns(c.selection.pick(null,l-1),0),c.divide(4*Math.sqrt(2),!1)}},{"../ndarray":39,"../utils":40,"./rgb2gray":31,"cwise/lib/wrapper":8,"ndarray-ops":18}],36:[function(r,t,n){"use strict";var e=r("../ndarray"),i=r("./rgb2gray"),a=r("cwise/lib/wrapper")({args:["array","array","index",{offset:[-1,-1],array:0},{offset:[-1,0],array:0},{offset:[0,-1],array:0}],pre:{body:"{}",args:[],thisVars:[],localVars:[]},body:{body:"{_inline_28_arg0_=0!==_inline_28_arg2_[0]&&0!==_inline_28_arg2_[1]?_inline_28_arg1_*_inline_28_arg1_+_inline_28_arg4_+_inline_28_arg5_-_inline_28_arg3_:0===_inline_28_arg2_[0]&&0===_inline_28_arg2_[1]?_inline_28_arg1_*_inline_28_arg1_:0===_inline_28_arg2_[0]?_inline_28_arg1_*_inline_28_arg1_+_inline_28_arg5_:_inline_28_arg1_*_inline_28_arg1_+_inline_28_arg4_}",args:[{name:"_inline_28_arg0_",lvalue:!0,rvalue:!1,count:1},{name:"_inline_28_arg1_",lvalue:!1,rvalue:!0,count:8},{name:"_inline_28_arg2_",lvalue:!1,rvalue:!0,count:5},{name:"_inline_28_arg3_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_28_arg4_",lvalue:!1,rvalue:!0,count:2},{name:"_inline_28_arg5_",lvalue:!1,rvalue:!0,count:2}],thisVars:[],localVars:[]},post:{body:"{}",args:[],thisVars:[],localVars:[]},debug:!1,funcName:"doIntegrateBody",blockSize:64});t.exports=function(r){var t=i(r),n=t.shape,o=n[0],s=n[1],u=new e(new Uint32Array(o*s),[o,s]);return a(u.selection,t.selection),u}},{"../ndarray":39,"./rgb2gray":31,"cwise/lib/wrapper":8}],37:[function(r,t,n){"use strict";var e=r("../ndarray");t.exports.getRawData=function(r){var t,n;r instanceof e&&(r=r.selection);var i=0,a=r.shape,o=a[0],s=a[1],u=a[2]||1,l=new Uint8Array(o*s*u);if(3===r.shape.length)if(3===u)for(t=0;t<o;++t)for(n=0;n<s;++n)l[i++]=r.get(t,n,0),l[i++]=r.get(t,n,1),l[i++]=r.get(t,n,2);else if(4===u)for(t=0;t<o;++t)for(n=0;n<s;++n)l[i++]=r.get(t,n,0),l[i++]=r.get(t,n,1),l[i++]=r.get(t,n,2),l[i++]=r.get(t,n,3);else{if(1!==u)return new Error("Incompatible array shape");for(t=0;t<o;++t)for(n=0;n<s;++n)l[i++]=r.get(t,n,0)}else{if(2!==r.shape.length)return new Error("Invalid image");for(t=0;t<o;++t)for(n=0;n<s;++n)l[i++]=r.get(t,n)}return l},t.exports.setRawData=function(r,t){var n,e,i,a=0,o=r.shape[0],s=r.shape[1],u=r.shape[2]||1;if(3===r.shape.length)if(3===u)for(n=0;n<o;++n)for(e=0;e<s;++e)t[a++]=r.get(n,e,0),t[a++]=r.get(n,e,1),t[a++]=r.get(n,e,2),t[a++]=255;else if(4===u)for(n=0;n<o;++n)for(e=0;e<s;++e)t[a++]=r.get(n,e,0),t[a++]=r.get(n,e,1),t[a++]=r.get(n,e,2),t[a++]=r.get(n,e,3);else{if(1!==u)return new Error("Incompatible array shape");for(n=0;n<o;++n)for(e=0;e<s;++e)i=r.get(n,e,0),t[a++]=i,t[a++]=i,t[a++]=i,t[a++]=255}else{if(2!==r.shape.length)return new Error("Invalid image");for(n=0;n<o;++n)for(e=0;e<s;++e)i=r.get(n,e),t[a++]=i,t[a++]=i,t[a++]=i,t[a++]=255}}},{"../ndarray":39}],38:[function(r,t,n){"use strict";var e=r("ndarray"),i=r("ndarray-ops"),a=r("ndarray-fft"),o=r("./config"),s=r("./dtypes"),u=r("./ndarray"),l=r("./utils"),c=r("./errors");function f(r,t){return u.new(r).mod(t)}function h(r,t){return u.new(r).transpose(t)}function p(r,t,n,e){if(1===arguments.length)return p(0,r,1,void 0);if(2===arguments.length&&l.isNumber(t))return p(r,t,1,void 0);if(2===arguments.length)return p(0,r,1,t);if(3===arguments.length&&!l.isNumber(n))return p(r,t,1,n);for(var i=[],a=0;r<t;)i[a++]=r,r+=n;return u.new(i,e)}function _(r,t){l.isNumber(r)&&r>=0&&(r=[r]);var n=l.shapeSize(r),e=l.getType(t),a=new u(new e(n),r);return"array"===a.dtype&&i.assigns(a.selection,0),a}function g(r,t){l.isNumber(r)&&r>=0&&(r=[r]);var n=l.shapeSize(r),e=l.getType(t),a=new u(new e(n),r);return i.assigns(a.selection,1),a}var v=r("cwise/lib/wrapper")({args:["array","scalar"],pre:{body:"{}",args:[],thisVars:[],localVars:[]},body:{body:"{_inline_1_arg0_=_inline_1_arg0_<-30?0:_inline_1_arg0_>30?1:1/(1+Math.exp(-1*_inline_1_arg1_*_inline_1_arg0_))}",args:[{name:"_inline_1_arg0_",lvalue:!0,rvalue:!0,count:4},{name:"_inline_1_arg1_",lvalue:!1,rvalue:!0,count:1}],thisVars:[],localVars:[]},post:{body:"{}",args:[],thisVars:[],localVars:[]},debug:!1,funcName:"sigmoidCwise",blockSize:64});var d=r("cwise/lib/wrapper")({args:["array","scalar","scalar"],pre:{body:"{}",args:[],thisVars:[],localVars:[]},body:{body:"{_inline_4_arg0_=Math.min(Math.max(_inline_4_arg1_,_inline_4_arg0_),_inline_4_arg2_)}",args:[{name:"_inline_4_arg0_",lvalue:!0,rvalue:!0,count:2},{name:"_inline_4_arg1_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_4_arg2_",lvalue:!1,rvalue:!0,count:1}],thisVars:[],localVars:[]},post:{body:"{}",args:[],thisVars:[],localVars:[]},debug:!1,funcName:"clipCwise",blockSize:64});var y=r("cwise/lib/wrapper")({args:["array","scalar"],pre:{body:"{}",args:[],thisVars:[],localVars:[]},body:{body:"{_inline_7_arg0_=Math.max(_inline_7_arg1_*_inline_7_arg0_,_inline_7_arg0_)}",args:[{name:"_inline_7_arg0_",lvalue:!0,rvalue:!0,count:3},{name:"_inline_7_arg1_",lvalue:!1,rvalue:!0,count:1}],thisVars:[],localVars:[]},post:{body:"{}",args:[],thisVars:[],localVars:[]},debug:!1,funcName:"leakyReluCwise",blockSize:64});var m=r("cwise/lib/wrapper")({args:["array"],pre:{body:"{}",args:[],thisVars:[],localVars:[]},body:{body:"{_inline_10_arg0_=(Math.exp(2*_inline_10_arg0_)-1)/(Math.exp(2*_inline_10_arg0_)+1)}",args:[{name:"_inline_10_arg0_",lvalue:!0,rvalue:!0,count:3}],thisVars:[],localVars:[]},post:{body:"{}",args:[],thisVars:[],localVars:[]},debug:!1,funcName:"tanhCwise",blockSize:64});function w(r){var t=r instanceof u?r.clone():u.new(r);return i.abseq(t.selection),t}function b(r){var t,n;for(arguments.length>1&&(r=[].slice.call(arguments)),t=0;t<r.length;t++)n=r[t],r[t]=n instanceof u?n.tolist():l.isNumber(n)?[n]:n;var e=r[0];for(t=1;t<r.length;t++){n=r[t];var i=l.getShape(e),a=l.getShape(n);if(i.length!==a.length)throw new c.ValueError("all the input arrays must have same number of dimensions");if(1===i.length&&1===a.length)e=e.concat(n);else if(2===i.length&&2===a.length&&i[0]===a[0]||1===i.length&&2===a.length&&i[0]===a[0]||2===i.length&&1===a.length&&i[0]===a[0])for(var o=0;o<i[0];o++)e[o]=e[o].concat(n[o]);else{if(!(3===i.length&&3===a.length&&i[0]===a[0]&&i[1]===a[1]||2===i.length&&3===a.length&&i[0]===a[0]&&i[1]===a[1]||3===i.length&&2===a.length&&i[0]===a[0]&&i[1]===a[1]))throw new c.ValueError('cannot concatenate  "'+i+'" with "'+a+'"');for(var s=0;s<i[0];s++){for(var f=new Array(i[1]),h=0;h<i[1];h++)f[h]=e[s][h].concat(n[s][h]);e[s]=f}}}return u.new(e,r[0].dtype)}function A(r,t){for(var n=g((r=u.new(r)).ndim).tolist(),e=t;e<0;)e+=r.ndim;if(void 0===n[e])throw new c.ValueError("axis="+t+"invalid for the "+r.ndim+"-dimensional input array");return n[e]=-1,r.step.apply(r,n)}t.exports={config:o,dtypes:s,NdArray:u,ndarray:e,array:u.new,arange:p,reshape:function(r,t){return u.new(r).reshape(t)},zeros:_,ones:g,empty:function(r,t){l.isNumber(r)&&r>=0&&(r=[r]);var n=l.shapeSize(r),e=l.getType(t);return new u(new e(n),r)},flatten:function(r){return u.new(r).flatten()},flip:A,random:function(r){if(0===arguments.length)return u.new(Math.random());r=1===arguments.length?l.isNumber(r)?[0|r]:r:[].slice.call(arguments);var t=l.shapeSize(r),n=new u(new Float64Array(t),r);return i.random(n.selection),n},softmax:function(r){var t=u.new(r).exp(),n=t.sum();return i.divseq(t.selection,n),t},sigmoid:function(r,t){return r=u.new(r).clone(),t=t||1,v(r.selection,t),r},leakyRelu:function(r,t){t=t||.001;var n=r instanceof u?r.clone():u.new(r);return y(n.selection,t),n},abs:w,arccos:function(r){var t=r instanceof u?r.clone():u.new(r);return i.acoseq(t.selection),t},arcsin:function(r){var t=r instanceof u?r.clone():u.new(r);return i.asineq(t.selection),t},arctan:function(r){var t=r instanceof u?r.clone():u.new(r);return i.ataneq(t.selection),t},cos:function(r){var t=r instanceof u?r.clone():u.new(r);return i.coseq(t.selection),t},sin:function(r){var t=r instanceof u?r.clone():u.new(r);return i.sineq(t.selection),t},tan:function(r){var t=r instanceof u?r.clone():u.new(r);return i.taneq(t.selection),t},tanh:function(r){var t=r instanceof u?r.clone():u.new(r);return m(t.selection),t},clip:function(r,t,n){1===arguments.length?(t=0,n=1):2===arguments.length&&(n=1);var e=r instanceof u?r.clone():u.new(r);return d(e.selection,t,n),e},exp:function(r){return u.new(r).exp()},log:function(r){return u.new(r).log()},sqrt:function(r){return u.new(r).sqrt()},power:function(r,t){return u.new(r).pow(t)},sum:function(r){return u.new(r).sum()},mean:function(r){return u.new(r).mean()},std:function(r,t){return u.new(r).std(t)},dot:function(r,t){return u.new(r).dot(t)},add:function(r,t){return u.new(r).add(t)},subtract:function(r,t){return u.new(r).subtract(t)},multiply:function(r,t){return u.new(r).multiply(t)},divide:function(r,t){return u.new(r).divide(t)},negative:function(r){return u.new(r).negative()},equal:function(r,t){return u.new(r).equal(t)},max:function(r){return u.new(r).max()},min:function(r){return u.new(r).min()},mod:f,remainder:f,concatenate:b,transpose:h,errors:c,broadcast:function(r,t){if(0!==r.length&&0!==t.length){for(var n=r.slice().reverse(),e=t.slice().reverse(),i=Math.max(r.length,t.length),a=new Array(i),o=0;o<i;o++)if(n[o]&&1!==n[o])if(e[o]&&1!==e[o]){if(n[o]!==e[o])return;a[o]=n[o]}else a[o]=n[o];else a[o]=e[o];return a.reverse()}},round:function(r){return u.new(r).round()},convolve:function(r,t){return u.new(r).convolve(t)},fftconvolve:function(r,t){return u.new(r).fftconvolve(t)},fft:function(r){var t=(r=r instanceof u?r.clone():u.new(r)).shape,n=t.length;if(2!==t[n-1])throw new c.ValueError("expect last dimension of the array to have 2 values (for both real and imaginary part)");var e=new Array(n),i=new Array(n);return e[n-1]=0,i[n-1]=1,a(1,r.selection.pick.apply(r.selection,e),r.selection.pick.apply(r.selection,i)),r},ifft:function(r){var t=(r=r instanceof u?r.clone():u.new(r)).shape,n=t.length;if(2!==t[n-1])throw new c.ValueError("expect last dimension of the array to have 2 values (for both real and imaginary part)");var e=new Array(n),i=new Array(n);return e[n-1]=0,i[n-1]=1,a(-1,r.selection.pick.apply(r.selection,e),r.selection.pick.apply(r.selection,i)),r},diag:function(r){return u.new(r).diag()},identity:function(r,t){for(var n=_([r,r],t),e=0;e<r;e++)n.set(e,e,1);return n},stack:function(r,t){if(t=t||0,!r||0===r.length)throw new c.ValueError("need at least one array to stack");for(var n,e=(r=r.map(function(r){return l.isNumber(r)?r:u.new(r)}))[0].shape||[],i=1;i<r.length;i++)for(var a=r[i].shape||[],o=Math.max(e.length,a.length),s=0;s<o;s++)if(e[s]!==a[s])throw new c.ValueError("all input arrays must have the same shape");if(0===e.length)n=b(r);else for(n=_([r.length].concat(e)),i=0;i<r.length;i++)n.pick(i).assign(r[i],!1);if(t){t<0&&(t=n.ndim+t);var f=n.ndim,h=new Array(f);for(i=0;i<f;i++)h[i]=i<t?i+1:i===t?0:i;return n.transpose(h)}return n},rot90:function(r,t,n){for(t=t||1;t<0;)t+=4;if(t%=4,r=u.new(r),1!==(n=u.new(n||[0,1])).shape.length||2!==n.shape[0])throw new c.ValueError("len(axes) must be 2");if((n=n.tolist())[0]===n[1]||w(n[0]-n[1])===r.ndim)throw new c.ValueError("Axes must be different.");if(0===t)return r;if(2===t)return A(A(r,n[0]),n[1]);var e=p(r.ndim).tolist(),i=e[n[0]];return e[n[0]]=e[n[1]],e[n[1]]=i,1===t?h(A(r,n[1]),e):A(h(r,e),n[1])},int8:function(r){return u.new(r,"int8")},uint8:function(r){return u.new(r,"uint8")},int16:function(r){return u.new(r,"int16")},uint16:function(r){return u.new(r,"uint16")},int32:function(r){return u.new(r,"int32")},uint32:function(r){return u.new(r,"uint32")},float32:function(r){return u.new(r,"float32")},float64:function(r){return u.new(r,"float64")},images:r("./images")}},{"./config":20,"./dtypes":21,"./errors":22,"./images":27,"./ndarray":39,"./utils":40,"cwise/lib/wrapper":8,ndarray:19,"ndarray-fft":14,"ndarray-ops":18}],39:[function(r,t,n){"use strict";var e=r("ndarray"),i=r("ndarray-ops"),a=r("ndarray-gemm"),o=r("ndarray-fft"),s=r("typedarray-pool"),u=r("./config"),l=r("./errors"),c=r("./utils"),f=function(){if(1===arguments.length)this.selection=arguments[0];else{if(0===arguments.length)throw new l.ValueError("Required argument 'data' not found");this.selection=e.apply(null,arguments)}Object.defineProperty(this,"size",{get:function(){return this.selection.size}.bind(this)}),Object.defineProperty(this,"shape",{get:function(){return this.selection.shape}.bind(this)}),Object.defineProperty(this,"ndim",{get:function(){return this.selection.shape.length}.bind(this)}),Object.defineProperty(this,"dtype",{get:function(){return this.selection.dtype}.bind(this),set:function(r){var t=c.getType(r);t!==c.getType(this.dtype)&&(this.selection=e(new t(this.selection.data),this.selection.shape,this.selection.stride,this.selection.offset))}.bind(this)}),Object.defineProperty(this,"T",{get:function(){return this.transpose()}.bind(this)})};f.prototype.get=function(){for(var r=arguments.length,t=0;t<r;t++)arguments[t]<0&&(arguments[t]+=this.shape[t]);return this.selection.get.apply(this.selection,arguments)},f.prototype.set=function(){return this.selection.set.apply(this.selection,arguments)},f.prototype.slice=function(){for(var r=this.ndim,t=new Array(r),n=new Array(r),e=new Array(r),i=this.shape,a=0;a<r;a++){var o=arguments[a];if(void 0===o)break;if(null!==o)if(c.isNumber(o))n[a]=o<0?o+i[a]:o,t[a]=null,e[a]=1;else if(4===o.length&&null===o[1]&&null===o[2]){var s=o[0]<0?o[0]+i[a]:o[0];n[a]=s,t[a]=null,e[a]=o[3]||1}else{var u=o[0]<0?o[0]+i[a]:o[0],l=o[1]<0?o[1]+i[a]:o[1];n[a]=l?u:0,t[a]=l?l-u:u,e[a]=o[2]||1}}var h=this.selection.lo.apply(this.selection,n),p=h.hi.apply(h,t),_=p.step.apply(p,e);return new f(_)},f.prototype.pick=function(r){return new f(this.selection.pick.apply(this.selection,arguments))},f.prototype.lo=function(){return new f(this.selection.lo.apply(this.selection,arguments))},f.prototype.hi=function(){return new f(this.selection.hi.apply(this.selection,arguments))},f.prototype.step=function(){return new f(this.selection.step.apply(this.selection,arguments))},f.prototype.flatten=function(){if(1===this.ndim)return new f(this.selection);var r=c.getType(this.dtype),t=c.flatten(this.tolist(),!0);return t instanceof r||(t=new r(t)),new f(t,[this.size])},f.prototype.reshape=function(r){if(0===arguments.length)throw new l.ValueError("function takes at least one argument (0 given)");if(1===arguments.length&&c.isNumber(r)&&-1===r&&(r=[c.shapeSize(this.shape)]),1===arguments.length&&c.isNumber(r)&&(r=[r]),arguments.length>1&&(r=[].slice.call(arguments)),r.filter(function(r){return-1===r}).length>1)throw new l.ValueError("can only specify one unknown dimension");var t=c.shapeSize(r);if(r=r.map(function(r){return-1===r?-1*this.size/t:r}.bind(this)),this.size!==c.shapeSize(r))throw new l.ValueError("total size of new array must be unchanged");var n,e,i,a,o=this.selection.shape,s=this.selection.offset,u=this.selection.stride,h=o.length,p=r.length;if(h===p){var _=!0;for(i=0;i<p;++i)if(o[i]!==r[i]){_=!1;break}if(_)return new f(this.selection.data,o,u,s)}else if(1===h){for(n=new Array(p),i=p-1,a=1;i>=0;--i)n[i]=a,a*=r[i];for(e=s,i=0;i<p;++i)n[i]<0&&(e-=(r[i]-1)*n[i]);return new f(this.selection.data,r,n,e)}var g=Math.min(h,p),v=!0;for(i=0;i<g;i++)if(o[i]!==r[i]){v=!1;break}if(v){for(n=new Array(p),i=0;i<p;i++)n[i]=u[i]||1;return e=s,new f(this.selection.data,r,n,e)}return this.flatten().reshape(r)},f.prototype.transpose=function(r){if(0===arguments.length){var t=this.ndim;r=new Array(t);for(var n=0;n<t;n++)r[n]=t-n-1}else arguments.length>1&&(r=arguments);return new f(this.selection.transpose.apply(this.selection,r))},f.prototype.dot=function(r){r=r instanceof f?r:g(r,this.dtype);var t=this.shape,n=r.shape;if(2===t.length&&2===n.length&&t[1]===n[0]){var e=c.getType(this.dtype),i=new f(new e(t[0]*n[1]),[t[0],n[1]]);return a(i.selection,this.selection,r.selection),i}if(1===t.length&&2===n.length&&t[0]===n[0])return this.reshape([t[0],1]).T.dot(r).reshape(n[1]);if(2===t.length&&1===n.length&&t[1]===n[0])return this.dot(r.reshape([n[0],1])).reshape(t[0]);if(1===t.length&&1===n.length&&t[0]===n[0])return this.reshape([t[0],1]).T.dot(r.reshape([n[0],1])).reshape([1]);throw new l.ValueError("cannot compute the matrix product of given arrays")},f.prototype.assign=function(r,t){1===arguments.length&&(t=!0);var n=t?this.clone():this;return c.isNumber(r)?(i.assigns(n.selection,r),n):(r=g(r,this.dtype),i.assign(n.selection,r.selection),n)},f.prototype.add=function(r,t){1===arguments.length&&(t=!0);var n=t?this.clone():this;return c.isNumber(r)?(i.addseq(n.selection,r),n):(r=g(r,this.dtype),i.addeq(n.selection,r.selection),n)},f.prototype.subtract=function(r,t){1===arguments.length&&(t=!0);var n=t?this.clone():this;return c.isNumber(r)?(i.subseq(n.selection,r),n):(r=g(r,this.dtype),i.subeq(n.selection,r.selection),n)},f.prototype.multiply=function(r,t){1===arguments.length&&(t=!0);var n=t?this.clone():this;return c.isNumber(r)?(i.mulseq(n.selection,r),n):(r=g(r,this.dtype),i.muleq(n.selection,r.selection),n)},f.prototype.divide=function(r,t){1===arguments.length&&(t=!0);var n=t?this.clone():this;return c.isNumber(r)?(i.divseq(n.selection,r),n):(r=g(r,this.dtype),i.diveq(n.selection,r.selection),n)},f.prototype.pow=function(r,t){1===arguments.length&&(t=!0);var n=t?this.clone():this;return c.isNumber(r)?(i.powseq(n.selection,r),n):(r=g(r,this.dtype),i.poweq(n.selection,r.selection),n)},f.prototype.exp=function(r){0===arguments.length&&(r=!0);var t=r?this.clone():this;return i.expeq(t.selection),t},f.prototype.log=function(r){0===arguments.length&&(r=!0);var t=r?this.clone():this;return i.logeq(t.selection),t},f.prototype.sqrt=function(r){0===arguments.length&&(r=!0);var t=r?this.clone():this;return i.sqrteq(t.selection),t},f.prototype.max=function(){return 0===this.selection.size?null:i.sup(this.selection)},f.prototype.min=function(){return 0===this.selection.size?null:i.inf(this.selection)},f.prototype.sum=function(){return i.sum(this.selection)},f.prototype.std=function(r){r=c.defaults(r,{ddof:0});var t=this.clone();i.powseq(t.selection,2);var n=this.mean(),e=c.shapeSize(this.shape),a=i.sum(t.selection)/(e-r.ddof)-n*n*e/(e-r.ddof);return a>0?Math.sqrt(Math.abs(a)):0},f.prototype.mean=function(){return i.sum(this.selection)/c.shapeSize(this.shape)},f.prototype.mod=function(r,t){1===arguments.length&&(t=!0);var n=t?this.clone():this;return c.isNumber(r)?(i.modseq(n.selection,r),n):(r=g(r,this.dtype),i.modeq(n.selection,r.selection),n)},f.prototype.tolist=function(){return d(this.selection)},f.prototype.valueOf=function(){return this.tolist()},f.prototype.toString=function(){var r=y(this.max()).length,t=/\[\s+\[/g;var n=JSON.stringify(this.tolist(),function t(n,e){if(c.isString(e))return e;if(c.isNumber(e)){var i=y(e);return new Array(Math.max(0,r-i.length+2)).join(" ")+i}var a;n=n||0;var o=u.printThreshold,s=o/2|0;return a=e.length>o?[].concat(e.slice(0,s),[" ..."],e.slice(e.length-s)):e,new Array(n+1).join(" ")+"["+a.map(function(r,e){return t(0===e&&0===n?1:n+1,r)}).join(",")+"]"}).replace(/\]\,(\s*)\[/g,"],\n$1      [").replace(t,"[[").replace(t,"[[").replace(/\]\,(\s+)...\,(\s+)\[/g,"],\n$2       ...\n$2      [").slice(2,-1);switch(this.dtype){case"array":return"array(["+n+")";default:return"array(["+n+", dtype="+this.dtype+")"}},f.prototype.inspect=f.prototype.toString,f.prototype.toJSON=function(){return JSON.stringify(this.tolist())},f.prototype.clone=function(){var r=this.selection;return void 0===r.data.slice?new f(e([].slice.apply(r.data),r.shape,r.stride,r.offset)):new f(e(r.data.slice(),r.shape,r.stride,r.offset))},f.prototype.equal=function(r){if(r=g(r),this.size!==r.size||this.ndim!==r.ndim)return!1;for(var t=this.ndim,n=0;n<t;n++)if(this.shape[n]!==r.shape[n])return!1;return i.equals(this.selection,r.selection)},f.prototype.round=function(r){0===arguments.length&&(r=!0);var t=r?this.clone():this;return i.roundeq(t.selection),t},f.prototype.negative=function(){var r=this.clone();return i.neg(r.selection,this.selection),r},f.prototype.diag=function(){var r=this.ndim;if(1===r){var t=c.getType(this.dtype),n=[this.shape[0],this.shape[0]],e=new f(new t(c.shapeSize(n)),n);"array"===e.dtype&&i.assigns(e.selection,0);for(var a=0;a<this.shape[0];a++)e.set(a,a,this.get(a));return e}var o=this.shape,s=this.selection.stride,u=1<<30,l=0;for(a=0;a<r;++a)u=0|Math.min(u,o[a]),l+=s[a];return new f(this.selection.data,[u],[l],this.selection.offset)},f.prototype.iteraxis=function(r,t){var n=this.shape;if(-1===r&&(r=n.length-1),r<0||r>n.length-1)throw new l.ValueError("invalid axis");for(var e=0;e<n[r];e++){for(var i=new Array(r+1),a=0;a<r+1;a++)i[a]=a===r?e:null;t(g(d(this.selection.pick.apply(this.selection,i)),this.dtype),e)}};var h=r("cwise/lib/wrapper")({args:["array","array","array","array"],pre:{body:"{}",args:[],thisVars:[],localVars:[]},body:{body:"{var _inline_13_c=_inline_13_arg2_,_inline_13_f=_inline_13_arg3_,_inline_13_i=_inline_13_arg0_,_inline_13_o=_inline_13_arg1_,_inline_13_t=_inline_13_i*(_inline_13_c+_inline_13_f);_inline_13_arg0_=_inline_13_t-_inline_13_f*(_inline_13_i+_inline_13_o),_inline_13_arg1_=_inline_13_t+_inline_13_c*(_inline_13_o-_inline_13_i)}",args:[{name:"_inline_13_arg0_",lvalue:!0,rvalue:!0,count:2},{name:"_inline_13_arg1_",lvalue:!0,rvalue:!0,count:2},{name:"_inline_13_arg2_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_13_arg3_",lvalue:!1,rvalue:!0,count:1}],thisVars:[],localVars:["_inline_13_c","_inline_13_f","_inline_13_i","_inline_13_o","_inline_13_t"]},post:{body:"{}",args:[],thisVars:[],localVars:[]},debug:!1,funcName:"cwise",blockSize:64}),p=r("cwise/lib/wrapper")({args:["array","array","scalar","scalar","scalar","scalar","scalar","scalar","scalar","scalar","scalar",{offset:[-1,-1],array:1},{offset:[-1,0],array:1},{offset:[-1,1],array:1},{offset:[0,-1],array:1},{offset:[0,1],array:1},{offset:[1,-1],array:1},{offset:[1,0],array:1},{offset:[1,1],array:1}],pre:{body:"{}",args:[],thisVars:[],localVars:[]},body:{body:"{_inline_16_arg0_=_inline_16_arg11_*_inline_16_arg10_+_inline_16_arg12_*_inline_16_arg9_+_inline_16_arg13_*_inline_16_arg8_+_inline_16_arg14_*_inline_16_arg7_+_inline_16_arg1_*_inline_16_arg6_+_inline_16_arg15_*_inline_16_arg5_+_inline_16_arg16_*_inline_16_arg4_+_inline_16_arg17_*_inline_16_arg3_+_inline_16_arg18_*_inline_16_arg2_}",args:[{name:"_inline_16_arg0_",lvalue:!0,rvalue:!1,count:1},{name:"_inline_16_arg1_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_16_arg2_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_16_arg3_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_16_arg4_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_16_arg5_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_16_arg6_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_16_arg7_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_16_arg8_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_16_arg9_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_16_arg10_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_16_arg11_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_16_arg12_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_16_arg13_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_16_arg14_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_16_arg15_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_16_arg16_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_16_arg17_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_16_arg18_",lvalue:!1,rvalue:!0,count:1}],thisVars:[],localVars:[]},post:{body:"{}",args:[],thisVars:[],localVars:[]},debug:!1,funcName:"cwise",blockSize:64}),_=r("cwise/lib/wrapper")({args:["index","array","array","scalar","scalar","scalar","scalar","scalar","scalar","scalar","scalar","scalar","scalar","scalar","scalar","scalar","scalar","scalar","scalar","scalar","scalar","scalar","scalar","scalar","scalar","scalar","scalar","scalar",{offset:[-2,-2],array:1},{offset:[-2,-1],array:1},{offset:[-2,0],array:1},{offset:[-2,1],array:1},{offset:[-2,2],array:1},{offset:[-1,-2],array:1},{offset:[-1,-1],array:1},{offset:[-1,0],array:1},{offset:[-1,1],array:1},{offset:[-1,2],array:1},{offset:[0,-2],array:1},{offset:[0,-1],array:1},{offset:[0,1],array:1},{offset:[0,2],array:1},{offset:[1,-2],array:1},{offset:[1,-1],array:1},{offset:[1,0],array:1},{offset:[1,1],array:1},{offset:[1,2],array:1},{offset:[2,-2],array:1},{offset:[2,-1],array:1},{offset:[2,0],array:1},{offset:[2,1],array:1},{offset:[2,2],array:1}],pre:{body:"{}",args:[],thisVars:[],localVars:[]},body:{body:"{_inline_19_arg1_=_inline_19_arg0_[0]<2||_inline_19_arg0_[1]<2?0:_inline_19_arg28_*_inline_19_arg27_+_inline_19_arg29_*_inline_19_arg26_+_inline_19_arg30_*_inline_19_arg25_+_inline_19_arg31_*_inline_19_arg24_+_inline_19_arg32_*_inline_19_arg23_+_inline_19_arg33_*_inline_19_arg22_+_inline_19_arg34_*_inline_19_arg21_+_inline_19_arg35_*_inline_19_arg20_+_inline_19_arg36_*_inline_19_arg19_+_inline_19_arg37_*_inline_19_arg18_+_inline_19_arg38_*_inline_19_arg17_+_inline_19_arg39_*_inline_19_arg16_+_inline_19_arg2_*_inline_19_arg15_+_inline_19_arg40_*_inline_19_arg14_+_inline_19_arg41_*_inline_19_arg13_+_inline_19_arg42_*_inline_19_arg12_+_inline_19_arg43_*_inline_19_arg11_+_inline_19_arg44_*_inline_19_arg10_+_inline_19_arg45_*_inline_19_arg9_+_inline_19_arg46_*_inline_19_arg8_+_inline_19_arg47_*_inline_19_arg7_+_inline_19_arg48_*_inline_19_arg6_+_inline_19_arg49_*_inline_19_arg5_+_inline_19_arg50_*_inline_19_arg4_+_inline_19_arg51_*_inline_19_arg3_}",args:[{name:"_inline_19_arg0_",lvalue:!1,rvalue:!0,count:2},{name:"_inline_19_arg1_",lvalue:!0,rvalue:!1,count:1},{name:"_inline_19_arg2_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_19_arg3_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_19_arg4_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_19_arg5_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_19_arg6_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_19_arg7_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_19_arg8_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_19_arg9_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_19_arg10_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_19_arg11_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_19_arg12_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_19_arg13_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_19_arg14_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_19_arg15_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_19_arg16_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_19_arg17_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_19_arg18_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_19_arg19_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_19_arg20_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_19_arg21_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_19_arg22_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_19_arg23_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_19_arg24_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_19_arg25_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_19_arg26_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_19_arg27_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_19_arg28_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_19_arg29_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_19_arg30_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_19_arg31_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_19_arg32_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_19_arg33_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_19_arg34_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_19_arg35_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_19_arg36_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_19_arg37_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_19_arg38_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_19_arg39_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_19_arg40_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_19_arg41_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_19_arg42_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_19_arg43_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_19_arg44_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_19_arg45_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_19_arg46_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_19_arg47_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_19_arg48_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_19_arg49_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_19_arg50_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_19_arg51_",lvalue:!1,rvalue:!0,count:1}],thisVars:[],localVars:[]},post:{body:"{}",args:[],thisVars:[],localVars:[]},debug:!1,funcName:"cwise",blockSize:64});function g(r,t){if(r instanceof f)return r;var n=c.getType(t);if(c.isNumber(r))return n!==Array?new f(new n([r]),[1]):new f([r],[1]);var e=c.getShape(r);return e.length>1&&(r=c.flatten(r,!0)),r instanceof n||(r=new n(r)),new f(r,e)}f.prototype.convolve=function(r){r=f.new(r);var t=this.ndim;if(t!==r.ndim)throw new l.ValueError("arrays must have the same dimensions");for(var n=new Array(t),e=new Array(t),i=this.selection,a=this.shape,o=r.selection,s=r.shape,u=0;u<t;u++){var h=a[u]-s[u]+1;if(h<0)throw new l.ValueError("filter cannot be greater than the array");n[u]=h,e[u]=-1}if(2===t&&3===s[0]&&3===s[1]){var g=new f(new Float32Array(c.shapeSize(a)),a);return p(g.selection,i,o.get(0,0),o.get(0,1),o.get(0,2),o.get(1,0),o.get(1,1),o.get(1,2),o.get(2,0),o.get(2,1),o.get(2,2)),g.lo(1,1).hi(n[0],n[1])}if(3===t&&1===s[2]&&1===a[2]&&3===s[0]&&3===s[1]){var v=new f(new Float32Array(c.shapeSize(a)),a);return p(v.selection.pick(null,null,0),i.pick(null,null,0),o.get(0,0,0),o.get(0,1,0),o.get(0,2,0),o.get(1,0,0),o.get(1,1,0),o.get(1,2,0),o.get(2,0,0),o.get(2,1,0),o.get(2,2,0)),v.lo(1,1).hi(n[0],n[1])}if(2===t&&5===s[0]&&5===s[1]){var d=new f(new Float32Array(c.shapeSize(a)),a);return _(d.selection,i,o.get(0,0),o.get(0,1),o.get(0,2),o.get(0,3),o.get(0,4),o.get(1,0),o.get(1,1),o.get(1,2),o.get(1,3),o.get(1,4),o.get(2,0),o.get(2,1),o.get(2,2),o.get(2,3),o.get(2,4),o.get(3,0),o.get(3,1),o.get(3,2),o.get(3,3),o.get(3,4),o.get(4,0),o.get(4,1),o.get(4,2),o.get(4,3),o.get(4,4)),d.lo(2,2).hi(n[0],n[1])}if(3===t&&1===s[2]&&1===a[2]&&5===s[0]&&5===s[1]){var y=new f(new Float32Array(c.shapeSize(a)),a);return _(y.selection,i,o.get(0,0,0),o.get(0,1,0),o.get(0,2,0),o.get(0,3,0),o.get(0,4,0),o.get(1,0,0),o.get(1,1,0),o.get(1,2,0),o.get(1,3,0),o.get(1,4,0),o.get(2,0,0),o.get(2,1,0),o.get(2,2,0),o.get(2,3,0),o.get(2,4,0),o.get(3,0,0),o.get(3,1,0),o.get(3,2,0),o.get(3,3,0),o.get(3,4,0),o.get(4,0,0),o.get(4,1,0),o.get(4,2,0),o.get(4,3,0),o.get(4,4,0)),y.lo(2,2).hi(n[0],n[1])}return this.fftconvolve(r)},f.prototype.fftconvolve=function(r){if(r=f.new(r),this.ndim!==r.ndim)throw new l.ValueError("arrays must have the same dimensions");var t,n=this.selection,a=r.selection,u=this.ndim,p=1,_=new Array(u),g=new Array(u),v=new Array(u);for(t=u-1;t>=0;--t)g[t]=n.shape[t],_[t]=p,p*=g[t],v[t]=n.shape[t]-a.shape[t]+1;var d=c.getType(n.dtype),y=new f(new d(c.shapeSize(v)),v),m=y.selection,w=s.mallocDouble(p),b=e(w,g,_,0);i.assigns(b,0),i.assign(b.hi.apply(b,n.shape),n);var A=s.mallocDouble(p),j=e(A,g,_,0);i.assigns(j,0),o(1,b,j);var x=s.mallocDouble(p),k=e(x,g,_,0);i.assigns(k,0),i.assign(k.hi.apply(k,a.shape),a);var E=s.mallocDouble(p),V=e(E,g,_,0);i.assigns(V,0),o(1,k,V),h(b,j,k,V),o(-1,b,j);var I,B=new Array(u),S=new Array(u),T=!1;for(t=0;t<u;++t)m.shape[t]>g[t]&&(T=!0),S[t]=a.shape[t]-1,B[t]=Math.min(m.shape[t],g[t]-S[t]);return T&&i.assign(m,0),I=(I=b.lo.apply(b,S)).hi.apply(I,B),i.assign(m.hi.apply(m,B),I),s.freeDouble(w),s.freeDouble(A),s.freeDouble(x),s.freeDouble(E),y},f.new=g,t.exports=f;var v=r("cwise/lib/wrapper")({args:["array","scalar","index"],pre:{body:"{}",args:[],thisVars:[],localVars:[]},body:{body:"{var _inline_22_a,_inline_22_e=_inline_22_arg1_;for(_inline_22_a=0;_inline_22_a<_inline_22_arg2_.length-1;++_inline_22_a)_inline_22_e=_inline_22_e[_inline_22_arg2_[_inline_22_a]];_inline_22_e[_inline_22_arg2_[_inline_22_arg2_.length-1]]=_inline_22_arg0_}",args:[{name:"_inline_22_arg0_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_22_arg1_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_22_arg2_",lvalue:!1,rvalue:!0,count:4}],thisVars:[],localVars:["_inline_22_a","_inline_22_e"]},post:{body:"{}",args:[],thisVars:[],localVars:[]},debug:!1,funcName:"unpackCwise",blockSize:64});function d(r){var t=function r(t,n){var e=0|t[n=n||0];if(e<=0)return[];var i,a=new Array(e);if(n===t.length-1)for(i=0;i<e;++i)a[i]=0;else for(i=0;i<e;++i)a[i]=r(t,n+1);return a}(r.shape,0);return v(r,t),t}function y(r){return String(Number((r||0).toFixed(u.nFloatingValues)))}},{"./config":20,"./errors":22,"./utils":40,"cwise/lib/wrapper":8,ndarray:19,"ndarray-fft":14,"ndarray-gemm":16,"ndarray-ops":18,"typedarray-pool":43}],40:[function(r,t,n){"use strict";var e=r("./dtypes"),i=r("lodash");function a(r){return"number"==typeof r}function o(r){return"function"==typeof r}t.exports={isNumber:a,isString:function(r){return"string"==typeof r},isFunction:o,flatten:function r(t,n,e){e=e||[];for(var i=-1,o=t.length;++i<o;){var s=t[i];a(s)?e[e.length]=s:n?r(s,n,e):e.push(s)}return e},shapeSize:function(r){for(var t=1,n=0;n<r.length;n++)t*=r[n];return t},getType:function(r){return o(r)?r:e[r]||Array},getShape:function(r){var t;return"object"==typeof r?"object"==typeof(t=r[0])?"object"==typeof t[0]?function(r){for(var t=[];"object"==typeof r;)t.push(r.length),r=r[0];return t}(r):[r.length,t.length]:[r.length]:[]},defaults:i.defaults}},{"./dtypes":21,lodash:13}],41:[function(r,t,n){(function(r){(function(){"use strict";function n(r){if("string"!=typeof r)throw new TypeError("Path must be a string. Received "+JSON.stringify(r))}function e(r,t){for(var n,e="",i=0,a=-1,o=0,s=0;s<=r.length;++s){if(s<r.length)n=r.charCodeAt(s);else{if(47===n)break;n=47}if(47===n){if(a===s-1||1===o);else if(a!==s-1&&2===o){if(e.length<2||2!==i||46!==e.charCodeAt(e.length-1)||46!==e.charCodeAt(e.length-2))if(e.length>2){var u=e.lastIndexOf("/");if(u!==e.length-1){-1===u?(e="",i=0):i=(e=e.slice(0,u)).length-1-e.lastIndexOf("/"),a=s,o=0;continue}}else if(2===e.length||1===e.length){e="",i=0,a=s,o=0;continue}t&&(e.length>0?e+="/..":e="..",i=2)}else e.length>0?e+="/"+r.slice(a+1,s):e=r.slice(a+1,s),i=s-a-1;a=s,o=0}else 46===n&&-1!==o?++o:o=-1}return e}var i={resolve:function(){for(var t,i="",a=!1,o=arguments.length-1;o>=-1&&!a;o--){var s;o>=0?s=arguments[o]:(void 0===t&&(t=r.cwd()),s=t),n(s),0!==s.length&&(i=s+"/"+i,a=47===s.charCodeAt(0))}return i=e(i,!a),a?i.length>0?"/"+i:"/":i.length>0?i:"."},normalize:function(r){if(n(r),0===r.length)return".";var t=47===r.charCodeAt(0),i=47===r.charCodeAt(r.length-1);return 0!==(r=e(r,!t)).length||t||(r="."),r.length>0&&i&&(r+="/"),t?"/"+r:r},isAbsolute:function(r){return n(r),r.length>0&&47===r.charCodeAt(0)},join:function(){if(0===arguments.length)return".";for(var r,t=0;t<arguments.length;++t){var e=arguments[t];n(e),e.length>0&&(void 0===r?r=e:r+="/"+e)}return void 0===r?".":i.normalize(r)},relative:function(r,t){if(n(r),n(t),r===t)return"";if((r=i.resolve(r))===(t=i.resolve(t)))return"";for(var e=1;e<r.length&&47===r.charCodeAt(e);++e);for(var a=r.length,o=a-e,s=1;s<t.length&&47===t.charCodeAt(s);++s);for(var u=t.length-s,l=o<u?o:u,c=-1,f=0;f<=l;++f){if(f===l){if(u>l){if(47===t.charCodeAt(s+f))return t.slice(s+f+1);if(0===f)return t.slice(s+f)}else o>l&&(47===r.charCodeAt(e+f)?c=f:0===f&&(c=0));break}var h=r.charCodeAt(e+f);if(h!==t.charCodeAt(s+f))break;47===h&&(c=f)}var p="";for(f=e+c+1;f<=a;++f)f!==a&&47!==r.charCodeAt(f)||(0===p.length?p+="..":p+="/..");return p.length>0?p+t.slice(s+c):(s+=c,47===t.charCodeAt(s)&&++s,t.slice(s))},_makeLong:function(r){return r},dirname:function(r){if(n(r),0===r.length)return".";for(var t=r.charCodeAt(0),e=47===t,i=-1,a=!0,o=r.length-1;o>=1;--o)if(47===(t=r.charCodeAt(o))){if(!a){i=o;break}}else a=!1;return-1===i?e?"/":".":e&&1===i?"//":r.slice(0,i)},basename:function(r,t){if(void 0!==t&&"string"!=typeof t)throw new TypeError('"ext" argument must be a string');n(r);var e,i=0,a=-1,o=!0;if(void 0!==t&&t.length>0&&t.length<=r.length){if(t.length===r.length&&t===r)return"";var s=t.length-1,u=-1;for(e=r.length-1;e>=0;--e){var l=r.charCodeAt(e);if(47===l){if(!o){i=e+1;break}}else-1===u&&(o=!1,u=e+1),s>=0&&(l===t.charCodeAt(s)?-1==--s&&(a=e):(s=-1,a=u))}return i===a?a=u:-1===a&&(a=r.length),r.slice(i,a)}for(e=r.length-1;e>=0;--e)if(47===r.charCodeAt(e)){if(!o){i=e+1;break}}else-1===a&&(o=!1,a=e+1);return-1===a?"":r.slice(i,a)},extname:function(r){n(r);for(var t=-1,e=0,i=-1,a=!0,o=0,s=r.length-1;s>=0;--s){var u=r.charCodeAt(s);if(47!==u)-1===i&&(a=!1,i=s+1),46===u?-1===t?t=s:1!==o&&(o=1):-1!==t&&(o=-1);else if(!a){e=s+1;break}}return-1===t||-1===i||0===o||1===o&&t===i-1&&t===e+1?"":r.slice(t,i)},format:function(r){if(null===r||"object"!=typeof r)throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof r);return function(r,t){var n=t.dir||t.root,e=t.base||(t.name||"")+(t.ext||"");return n?n===t.root?n+e:n+r+e:e}("/",r)},parse:function(r){n(r);var t={root:"",dir:"",base:"",ext:"",name:""};if(0===r.length)return t;var e,i=r.charCodeAt(0),a=47===i;a?(t.root="/",e=1):e=0;for(var o=-1,s=0,u=-1,l=!0,c=r.length-1,f=0;c>=e;--c)if(47!==(i=r.charCodeAt(c)))-1===u&&(l=!1,u=c+1),46===i?-1===o?o=c:1!==f&&(f=1):-1!==o&&(f=-1);else if(!l){s=c+1;break}return-1===o||-1===u||0===f||1===f&&o===u-1&&o===s+1?-1!==u&&(t.base=t.name=0===s&&a?r.slice(1,u):r.slice(s,u)):(0===s&&a?(t.name=r.slice(1,o),t.base=r.slice(1,u)):(t.name=r.slice(s,o),t.base=r.slice(s,u)),t.ext=r.slice(o,u)),s>0?t.dir=r.slice(0,s-1):a&&(t.dir="/"),t},sep:"/",delimiter:":",win32:null,posix:null};i.posix=i,t.exports=i}).call(this)}).call(this,r("_process"))},{_process:42}],42:[function(r,t,n){var e,i,a=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function u(r){if(e===setTimeout)return setTimeout(r,0);if((e===o||!e)&&setTimeout)return e=setTimeout,setTimeout(r,0);try{return e(r,0)}catch(t){try{return e.call(null,r,0)}catch(t){return e.call(this,r,0)}}}!function(){try{e="function"==typeof setTimeout?setTimeout:o}catch(r){e=o}try{i="function"==typeof clearTimeout?clearTimeout:s}catch(r){i=s}}();var l,c=[],f=!1,h=-1;function p(){f&&l&&(f=!1,l.length?c=l.concat(c):h=-1,c.length&&_())}function _(){if(!f){var r=u(p);f=!0;for(var t=c.length;t;){for(l=c,c=[];++h<t;)l&&l[h].run();h=-1,t=c.length}l=null,f=!1,function(r){if(i===clearTimeout)return clearTimeout(r);if((i===s||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(r);try{i(r)}catch(t){try{return i.call(null,r)}catch(t){return i.call(this,r)}}}(r)}}function g(r,t){this.fun=r,this.array=t}function v(){}a.nextTick=function(r){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new g(r,t)),1!==c.length||f||u(_)},g.prototype.run=function(){this.fun.apply(null,this.array)},a.title="browser",a.browser=!0,a.env={},a.argv=[],a.version="",a.versions={},a.on=v,a.addListener=v,a.once=v,a.off=v,a.removeListener=v,a.removeAllListeners=v,a.emit=v,a.prependListener=v,a.prependOnceListener=v,a.listeners=function(r){return[]},a.binding=function(r){throw new Error("process.binding is not supported")},a.cwd=function(){return"/"},a.chdir=function(r){throw new Error("process.chdir is not supported")},a.umask=function(){return 0}},{}],43:[function(r,t,n){(function(t){(function(){"use strict";var e=r("bit-twiddle"),i=r("dup"),a=r("buffer").Buffer;t.__TYPEDARRAY_POOL||(t.__TYPEDARRAY_POOL={UINT8:i([32,0]),UINT16:i([32,0]),UINT32:i([32,0]),BIGUINT64:i([32,0]),INT8:i([32,0]),INT16:i([32,0]),INT32:i([32,0]),BIGINT64:i([32,0]),FLOAT:i([32,0]),DOUBLE:i([32,0]),DATA:i([32,0]),UINT8C:i([32,0]),BUFFER:i([32,0])});var o="undefined"!=typeof Uint8ClampedArray,s="undefined"!=typeof BigUint64Array,u="undefined"!=typeof BigInt64Array,l=t.__TYPEDARRAY_POOL;l.UINT8C||(l.UINT8C=i([32,0])),l.BIGUINT64||(l.BIGUINT64=i([32,0])),l.BIGINT64||(l.BIGINT64=i([32,0])),l.BUFFER||(l.BUFFER=i([32,0]));var c=l.DATA,f=l.BUFFER;function h(r){if(r){var t=r.length||r.byteLength,n=e.log2(t);c[n].push(r)}}function p(r){r=e.nextPow2(r);var t=e.log2(r),n=c[t];return n.length>0?n.pop():new ArrayBuffer(r)}function _(r){return new Uint8Array(p(r),0,r)}function g(r){return new Uint16Array(p(2*r),0,r)}function v(r){return new Uint32Array(p(4*r),0,r)}function d(r){return new Int8Array(p(r),0,r)}function y(r){return new Int16Array(p(2*r),0,r)}function m(r){return new Int32Array(p(4*r),0,r)}function w(r){return new Float32Array(p(4*r),0,r)}function b(r){return new Float64Array(p(8*r),0,r)}function A(r){return o?new Uint8ClampedArray(p(r),0,r):_(r)}function j(r){return s?new BigUint64Array(p(8*r),0,r):null}function x(r){return u?new BigInt64Array(p(8*r),0,r):null}function k(r){return new DataView(p(r),0,r)}function E(r){r=e.nextPow2(r);var t=e.log2(r),n=f[t];return n.length>0?n.pop():new a(r)}n.free=function(r){if(a.isBuffer(r))f[e.log2(r.length)].push(r);else{if("[object ArrayBuffer]"!==Object.prototype.toString.call(r)&&(r=r.buffer),!r)return;var t=r.length||r.byteLength,n=0|e.log2(t);c[n].push(r)}},n.freeUint8=n.freeUint16=n.freeUint32=n.freeBigUint64=n.freeInt8=n.freeInt16=n.freeInt32=n.freeBigInt64=n.freeFloat32=n.freeFloat=n.freeFloat64=n.freeDouble=n.freeUint8Clamped=n.freeDataView=function(r){h(r.buffer)},n.freeArrayBuffer=h,n.freeBuffer=function(r){f[e.log2(r.length)].push(r)},n.malloc=function(r,t){if(void 0===t||"arraybuffer"===t)return p(r);switch(t){case"uint8":return _(r);case"uint16":return g(r);case"uint32":return v(r);case"int8":return d(r);case"int16":return y(r);case"int32":return m(r);case"float":case"float32":return w(r);case"double":case"float64":return b(r);case"uint8_clamped":return A(r);case"bigint64":return x(r);case"biguint64":return j(r);case"buffer":return E(r);case"data":case"dataview":return k(r);default:return null}return null},n.mallocArrayBuffer=p,n.mallocUint8=_,n.mallocUint16=g,n.mallocUint32=v,n.mallocInt8=d,n.mallocInt16=y,n.mallocInt32=m,n.mallocFloat32=n.mallocFloat=w,n.mallocFloat64=n.mallocDouble=b,n.mallocUint8Clamped=A,n.mallocBigUint64=j,n.mallocBigInt64=x,n.mallocDataView=k,n.mallocBuffer=E,n.clearCache=function(){for(var r=0;r<32;++r)l.UINT8[r].length=0,l.UINT16[r].length=0,l.UINT32[r].length=0,l.INT8[r].length=0,l.INT16[r].length=0,l.INT32[r].length=0,l.FLOAT[r].length=0,l.DOUBLE[r].length=0,l.BIGUINT64[r].length=0,l.BIGINT64[r].length=0,l.UINT8C[r].length=0,c[r].length=0,f[r].length=0}}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"bit-twiddle":2,buffer:4,dup:9}],44:[function(r,t,n){"use strict";t.exports=function(r,t,n){return 0===r.length?r:t?(n||r.sort(t),function(r,t){for(var n=1,e=r.length,i=r[0],a=r[0],o=1;o<e;++o)if(a=i,t(i=r[o],a)){if(o===n){n++;continue}r[n++]=i}return r.length=n,r}(r,t)):(n||r.sort(),function(r){for(var t=1,n=r.length,e=r[0],i=r[0],a=1;a<n;++a,i=e)if(i=e,(e=r[a])!==i){if(a===t){t++;continue}r[t++]=e}return r.length=t,r}(r))}},{}],45:[function(r,t,n){"use strict";var e=r("fs"),i=r("numjs"),a=r("./tensor.js"),o=r("./utils");t.exports={Linear:class{constructor(r,t,n=!1){this.inDim=r,this.outDim=t,this.useBias=n;var e=i.random([t,r]).subtract(.5);this.weight=a.tensor(e,{label:"Linear: weight"}),this.useBias&&(this.bias=a.zeros([t,1],{label:"Linear: bias"}))}forward(r){return r=this.weight.dot(r),this.useBias&&(r=r.add(this.bias)),r}parameters(){return this.useBias?[this.weight,this.bias]:[this.weight]}},RNN:class{constructor(r,t,n=!1){this.inDim=r,this.outDim=t,this.useBias=n,this.useBias&&(this.bias=a.zeros([t,1],{label:"RNN: bias"}));var e=i.random([t,r]).multiply(.01),o=i.random([t,t]).multiply(.01);this.weight=a.tensor(e,{label:"RNN: weight"}),this.hiddenWeight=a.tensor(o,{label:"RNN: hidden weight"}),this.prevOutput=a.zeros([1,t],{label:"RNN: prev"})}forward(r){r=this.weight.dot(r);var t=this.hiddenWeight.dot(this.prevOutput);return r=r.add(t),this.useBias&&(r=r.add(this.bias)),r=a.tanh(r),this.prevOutput=r.identity(),this.prevOutput.label="prev",this.prevOutput.detach(),r}parameters(){return this.useBias?[this.weight,this.hiddenWeight,this.bias]:[this.weight,this.hiddenWeight]}resetPrev(){this.prevOutput=a.zeros([1,this.outDim]),this.hiddenWeight.parents=[]}},GRU:class{constructor(r,t){this.inDim=r,this.outDim=t,this.one=a.ones([1]);var n=i.random([t,r]).subtract(.5),e=i.random([t,t]).subtract(.5),o=i.random([t,r]).subtract(.5),s=i.random([t,t]).subtract(.5),u=i.random([t,r]).subtract(.5),l=i.random([t,t]).subtract(.5),c=i.random([t,t]).subtract(.5);this.wz=a.tensor(n,{label:"GRU: wz"}),this.uz=a.tensor(e,{label:"GRU: uz"}),this.wr=a.tensor(o,{label:"GRU: wr"}),this.ur=a.tensor(s,{label:"GRU: ur"}),this.wh=a.tensor(u,{label:"GRU: wh"}),this.uh=a.tensor(l,{label:"GRU: uh"}),this.wy=a.tensor(c,{label:"GRU: wy"}),this.prev=a.zeros([1,t],{label:"GRU: prev"})}forward(r){var t=a.sigmoid(this.wz.dot(r).add(this.uz.dot(this.prev))),n=a.sigmoid(this.wr.dot(r).add(this.ur.dot(this.prev))).mul(this.prev),e=a.tanh(this.wh.dot(r).add(this.uh.dot(n))),i=t.negative().add(this.one),o=t.mul(this.prev).add(i.mul(e)),s=this.wy.dot(o);return s=a.sigmoid(s),this.prev=s.identity(),this.prev="prev",this.prev.detach(),s}parameters(){return[this.wz,this.uz,this.wr,this.uz,this.wh,this.uz,this.wy]}resetPrev(){this.prev=a.zeros([1,this.outDim]),this.wz.parents=[],this.uz.parents=[],this.wr.parents=[],this.uz.parents=[],this.wh.parents=[],this.uz.parents=[],this.wy.parents=[]}},Module:class{constructor(){this.train=!0}parameters(){var r=[];for(var t of this.layers)for(var n of t.parameters())r.push(n);return r}train(){this.train=!0}eval(){this.train=!1}save(r){var t=this.parameters(),n=[];for(var i of t)n.push(i.selection.tolist());e.writeFileSync(r,JSON.stringify(n))}load(r){var t=this.parameters();const n=e.readFileSync(r),a=JSON.parse(n);for(let r=0;r<t.length;r++)t[r].selection=i.array(a[r])}},MSE:class{constructor(){this.power=new a.tensor([2],{requiresGrad:!1})}compute(r,t){return r.sub(t).pow(this.power)}},MAE:class{constructor(){this.power=new a.tensor([2],{requiresGrad:!1}),this.half=new a.tensor([.5],{requiresGrad:!1})}compute(r,t){return r.sub(t).pow(this.power).pow(this.half)}},NLLLoss:class{constructor(r,t=!1){this.reduction=t;var n=i.ones([1,r]),e=i.multiply(n,-1);this.negaitveOnes=new a.tensor(e,{requiresGrad:!1})}compute(r,t){var n=t.mul(this.negaitveOnes),e=r.mul(n);return this.reduction&&(e=e.sum()),e}},CrossEntropyLoss:class{constructor(){this.one=a.tensor([1],{requiresGrad:!1})}compute(r,t){var n=r.dot(t.log()),e=r.negative().add(this.one),i=t.negative().add(this.one).log();return n.add(e.dot(i)).negative()}},ClipGradients:class{constructor(r,t=-5,n=5){this.params=r,this.min=t,this.max=n}clip(){for(var r of this.params){var t=r.grad;t=o._iterator(t,r=>Math.min(r,this.max)),t=o._iterator(t,r=>Math.max(r,this.min)),r.grad=t}}}}},{"./tensor.js":48,"./utils":49,fs:3,numjs:38}],46:[function(r,t,n){"use strict";var e=r("numjs"),i=r("./utils");t.exports={MatMul:class{forward(r,t){return e.dot(t,r.T)}backward(r,t,n){var i=e.dot(n,r.selection);return[e.dot(t.selection.T,n),i]}},Multiply:class{forward(r,t){return e.multiply(r,t)}backward(r,t,n){var i=e.multiply(n,r.selection);return[e.multiply(n,t.selection),i]}},Add:class{forward(r,t){return 1==t.shape&&(t=t.get(0)),e.add(r,t)}backward(r,t,n){return[n,n]}},Sub:class{forward(r,t){return e.subtract(r,t)}backward(r,t,n){return[n,e.negative(n)]}},Pow:class{forward(r,t){return t=t.get(0),r.pow(t)}backward(r,t,n){t=t.selection.get(0);var i=e.multiply(r.selection.pow(t-1),t);return i=i.reshape(n.shape),[i=e.multiply(i,n)]}},Max:class{forward(r){return e.max(r)}backward(r,t){var n=e.max(r.selection);return[i._iterator(r.selection,(r,t,n)=>(r==t)*n,n,t.get(0))]}},Min:class{forward(r){return e.min(r)}backward(r,t){var n=e.min(r.selection);return[i._iterator(r.selection,(r,t,n)=>(r==t)*n,n,t.get(0))]}},Sum:class{forward(r){return e.sum(r)}backward(r,t){var n=e.ones(r.selection.shape);return n.assign(t.flatten().get(0),!1),[n]}},Exp:class{forward(r){return e.exp(r)}backward(r,t){return[e.exp(r.selection)]}},Negative:class{forward(r){return e.negative(r)}backward(r,t){return[e.negative(t)]}},Log:class{forward(r){return e.divide(e.log(r),2.303)}backward(r,t){var n=r.pow(-1);return[e.multiply(n,t)]}},Transpose:class{forward(r){return r.T}backward(r,t){return[r.selection.T]}},Identity:class{forward(r){return r}backward(r,t){return[t]}},ReLU:class{forward(r){return i._iterator(r,r=>(r>0)*r)}backward(r,t){var n=r.selection;return[i._iterator(n,(r,t)=>(r>=0)*t,t.get(0))]}},ReLU6:class{forward(r){return i._iterator(r,r=>Math.min((r>0)*r,6))}backward(r,t){var n=r.selection;return[i._iterator(n,(r,t)=>(r>=0)*t,t.get(0))]}},LeakyReLU:class{constructor(r=.01){this.ns=r,this.func=(r=>(r>0?1:this.ns)*r),this.funcBackwards=((r,t)=>(r>=0?1:this.ns)*t)}forward(r){return i._iterator(r,this.func)}backward(r,t){var n=r.selection;return[i._iterator(n,this.funcBackwards,t.get(0))]}},Sigmoid:class{forward(r){return e.sigmoid(r)}backward(r,t){var n=e.add(e.negative(e.sigmoid(r.selection)),1),i=e.multiply(e.sigmoid(r.selection),n);return[i=e.multiply(i,t)]}},Tanh:class{forward(r){return e.tanh(r)}backward(r,t){var n=e.tanh(r.selection).pow(2),i=e.add(e.negative(n),1);return[i=e.multiply(i,t)]}},SELU:class{constructor(r=1.6733,t=1.0507){this.alpha=r,this.lambda=t,this.lamAlp=this.lambda*this.alpha,this.func=(r=>this.lambda*(r>=0)?r:this.alpha*Math.exp(r)-this.alpha),this.funcBackwards=((r,t)=>(r>0?this.lambda:r+this.lamAlp)*t)}forward(r){return i._iterator(r,this.func)}backward(r,t){var n=r.selection;return[i._iterator(n,this.funcBackwards,t.get(0))]}},Softmax:class{constructor(){this.out=null}forward(r){var t=r.exp().transpose().sum();t=t**-1;var n=r.exp().transpose().dot(t);return this.out=n,n=n.reshape([1,n.shape[0]])}backward(r,t){r=this.out.flatten();var n=i.diagFlat(r);r=r.reshape([r.shape[0],1]);var a=e.dot(r,r.T),o=e.subtract(n,a);return[o=e.dot(t,o)]}}}},{"./utils":49,numjs:38}],47:[function(r,t,n){"use strict";var e=r("numjs");class i{constructor(r){this.params=r}zeroGrad(){for(var r of this.params)r.grad=null}}t.exports={SGD:class extends i{constructor(r,t=.01,n=1){super(r),this.lr=t,this.bs=n}step(){for(var r of this.params){var t=e.divide(r.grad,this.bs),n=e.multiply(t,this.lr);r.selection=e.subtract(r.selection,n.T)}}},Adam:class extends i{constructor(r,t=.001,n=1,i=.9,a=.999,o=1e-8){for(var s of(super(r),this.lr=t,this.bs=n,this.b1=i,this.b2=a,this.eps=o,this.t=0,this.m=[],this.v=[],r))this.m.push(e.zeros(s.shape)),this.v.push(e.zeros(s.shape))}step(){this.t+=1;var r=this.lr*(1-this.b2**this.t)**.5/(1-this.b1**this.t);for(let o=0;o<this.params.length;o++){var t=this.params[o].grad,n=(t=e.divide(t,this.bs)).multiply(1-this.b1),i=t.multiply(t).multiply(1-this.b2);this.m[o]=this.m[o].multiply(this.b1).add(n.T),this.v[o]=this.v[o].multiply(this.b2).add(i.T);var a=this.m[o].divide(this.v[o].sqrt().add(this.eps)).multiply(r);this.params[o].selection=e.subtract(this.params[o].selection,a)}}},StepLR:class{constructor(r,t=30,n=.1,e=-1){this.opt=r,this.stepSize=t,this.gamma=n,this.lastEpoch=e}step(){this.lastEpoch+=1,this.lastEpoch%this.stepSize==0&&0!=this.lastEpoch&&(this.opt.lr*=this.gamma)}}}},{numjs:38}],48:[function(r,t,n){"use strict";var e=r("numjs"),i=r("./ops.js"),a=r("fs"),o=0,s=function(r,t={op:null,parents:[],requiresGrad:!1,label:null}){this.selection=e.array(r),this[Symbol.for("nodejs.util.inspect.custom")]=(()=>this.selection),this.grad=null,this.shape=this.selection.shape,this.tensorID=o,o+=1,this.op=t.op?t.op:null,this.parents=t.parents?[...t.parents]:[],this.requiresGrad=!!t.requiresGrad&&t.requiresGrad,this.label=t.label?t.label:null};s.prototype.grad=this.grad,s.prototype.shape=this.shape,s.prototype.constructDAG=function(r={nodes:[],edges:[]}){var t=this.tensorID,n=this.op?this.op.constructor.name:"None";if(r.nodes.some(r=>r.id==t)||r.nodes.push({id:t,op:n,label:this.label,shape:this.shape,requiresGrad:this.requiresGrad}),0!=this.parents.length)for(var e of this.parents)r.edges.push({from:e.tensorID,to:t}),r=e.constructDAG(r);return r},s.prototype.findAllNodes=function(r){if(!r.includes(this)&&(r.push(this),0!=this.parents.length))for(var t of this.parents)r=t.findAllNodes(r);return r},s.prototype.backward=function(){var r=this.findAllNodes([]);for(var t of r)if(null==t.grad&&(t.grad=e.ones(t.selection.shape)),0!=t.parents.length){var n=t.op.backward(...t.parents,t.grad);console.assert(Array.isArray(n),"Error: an op.backward() is not returning an Array");for(let r=0;r<n.length;r++)t.parents[r].grad?t.parents[r].grad=e.add(t.parents[r].grad,n[r]):t.parents[r].grad=n[r]}for(var t of r)0==t.requiresGrad&&(t.grad=null)},s.prototype.tolist=function(){return this.selection.tolist()},s.prototype.dot=function(r){var t=new i.MatMul;return new s(t.forward(this.selection,r.selection),{op:t,parents:[this,r]})},s.prototype.mul=function(r){var t=new i.Multiply;return new s(t.forward(this.selection,r.selection),{op:t,parents:[this,r]})},s.prototype.add=function(r){var t=new i.Add;return new s(t.forward(this.selection,r.selection),{op:t,parents:[this,r]})},s.prototype.sub=function(r){var t=new i.Sub;return new s(t.forward(this.selection,r.selection),{op:t,parents:[this,r]})},s.prototype.pow=function(r){var t=new i.Pow;return new s(t.forward(this.selection,r.selection),{op:t,parents:[this,r]})},s.prototype.max=function(){var r=new i.Max;return new s(r.forward(this.selection),{op:r,parents:[this]})},s.prototype.min=function(){var r=new i.Min;return new s(r.forward(this.selection),{op:r,parents:[this]})},s.prototype.sum=function(){var r=new i.Sum;return new s(r.forward(this.selection),{op:r,parents:[this]})},s.prototype.exp=function(){var r=new i.Exp;return new s(r.forward(this.selection),{op:r,parents:[this]})},s.prototype.negative=function(){var r=new i.Negative;return new s(r.forward(this.selection),{op:r,parents:[this]})},s.prototype.log=function(){var r=new i.Log;return new s(r.forward(this.selection),{op:r,parents:[this]})},s.prototype.transpose=function(){var r=new i.Transpose;return new s(r.forward(this.selection),{op:r,parents:[this]})},s.prototype.identity=function(){var r=new i.Identity;return new s(r.forward(this.selection),{op:r,parents:[this]})},s.prototype.reshape=function(...r){this.selection=this.selection.reshape(...r),this.shape=this.selection.shape},s.prototype.retainGrad=function(){this.requiresGrad=!0},s.prototype.detach=function(){this.parents=[]};class u{constructor(r){this.params=r}zeroGrad(){for(var r of this.params)r.grad=null}}t.exports={tensor:function(r,t={}){return Object.assign(t,{requiresGrad:!0}),new s(r,t)},ones:function(r,t={}){return Object.assign(t,{requiresGrad:!0}),new s(e.ones(r),t)},zeros:function(r,t={}){return Object.assign(t,{requiresGrad:!0}),new s(e.zeros(r),t)},randn:function(r,t={}){return Object.assign(t,{requiresGrad:!0}),new s(e.random(r),t)},arange:function(r,t={}){return Object.assign(t,{requiresGrad:!0}),new s(e.arange(...r),t)},eye:function(r,t={}){return Object.assign(t,{requiresGrad:!0}),new s(e.identity(r),t)},relu:function(r){var t=new i.ReLU;return new s(t.forward(r.selection),{op:t,parents:[r]})},relu6:function(r){var t=new i.ReLU6;return new s(t.forward(r.selection),{op:t,parents:[r]})},leakyRelu:function(r,t){var n=new i.LeakyReLU(t);return new s(n.forward(r.selection),{op:n,parents:[r]})},sigmoid:function(r){var t=new i.Sigmoid;return new s(t.forward(r.selection),{op:t,parents:[r]})},tanh:function(r){var t=new i.Tanh;return new s(t.forward(r.selection),{op:t,parents:[r]})},selu:function(r,t,n){var e=new i.SELU(t,n);return new s(e.forward(r.selection),{op:e,parents:[r]})},softmax:function(r){var t=new i.Softmax;return new s(t.forward(r.selection),{op:t,parents:[r]})},SGD:class extends u{constructor(r,t=.01,n=1){super(r),this.lr=t,this.bs=n}step(){for(var r of this.params){var t=e.divide(r.grad,this.bs),n=e.multiply(t,this.lr);r.selection=e.subtract(r.selection,n.T)}}},Adam:class extends u{constructor(r,t=.001,n=1,i=.9,a=.999,o=1e-8){for(var s of(super(r),this.lr=t,this.bs=n,this.b1=i,this.b2=a,this.eps=o,this.t=0,this.m=[],this.v=[],r))this.m.push(e.zeros(s.shape)),this.v.push(e.zeros(s.shape))}step(){this.t+=1;var r=this.lr*(1-this.b2**this.t)**.5/(1-this.b1**this.t);for(let o=0;o<this.params.length;o++){var t=this.params[o].grad,n=(t=e.divide(t,this.bs)).multiply(1-this.b1),i=t.multiply(t).multiply(1-this.b2);this.m[o]=this.m[o].multiply(this.b1).add(n.T),this.v[o]=this.v[o].multiply(this.b2).add(i.T);var a=this.m[o].divide(this.v[o].sqrt().add(this.eps)).multiply(r);this.params[o].selection=e.subtract(this.params[o].selection,a)}}},StepLR:class{constructor(r,t=30,n=.1,e=-1){this.opt=r,this.stepSize=t,this.gamma=n,this.lastEpoch=e}step(){this.lastEpoch+=1,this.lastEpoch%this.stepSize==0&&0!=this.lastEpoch&&(this.opt.lr*=this.gamma)}},Linear:class{constructor(r,t,n=!1){this.inDim=r,this.outDim=t,this.useBias=n;var i=e.random([t,r]).subtract(.5);this.weight=onegrad.tensor(i,{label:"Linear: weight"}),this.useBias&&(this.bias=onegrad.zeros([t,1],{label:"Linear: bias"}))}forward(r){return r=this.weight.dot(r),this.useBias&&(r=r.add(this.bias)),r}parameters(){return this.useBias?[this.weight,this.bias]:[this.weight]}},RNN:class{constructor(r,t,n=!1){this.inDim=r,this.outDim=t,this.useBias=n,this.useBias&&(this.bias=onegrad.zeros([t,1],{label:"RNN: bias"}));var i=e.random([t,r]).multiply(.01),a=e.random([t,t]).multiply(.01);this.weight=onegrad.tensor(i,{label:"RNN: weight"}),this.hiddenWeight=onegrad.tensor(a,{label:"RNN: hidden weight"}),this.prevOutput=onegrad.zeros([1,t],{label:"RNN: prev"})}forward(r){r=this.weight.dot(r);var t=this.hiddenWeight.dot(this.prevOutput);return r=r.add(t),this.useBias&&(r=r.add(this.bias)),r=onegrad.tanh(r),this.prevOutput=r.identity(),this.prevOutput.label="prev",this.prevOutput.detach(),r}parameters(){return this.useBias?[this.weight,this.hiddenWeight,this.bias]:[this.weight,this.hiddenWeight]}resetPrev(){this.prevOutput=onegrad.zeros([1,this.outDim]),this.hiddenWeight.parents=[]}},GRU:class{constructor(r,t){this.inDim=r,this.outDim=t,this.one=onegrad.ones([1]);var n=e.random([t,r]).subtract(.5),i=e.random([t,t]).subtract(.5),a=e.random([t,r]).subtract(.5),o=e.random([t,t]).subtract(.5),s=e.random([t,r]).subtract(.5),u=e.random([t,t]).subtract(.5),l=e.random([t,t]).subtract(.5);this.wz=onegrad.tensor(n,{label:"GRU: wz"}),this.uz=onegrad.tensor(i,{label:"GRU: uz"}),this.wr=onegrad.tensor(a,{label:"GRU: wr"}),this.ur=onegrad.tensor(o,{label:"GRU: ur"}),this.wh=onegrad.tensor(s,{label:"GRU: wh"}),this.uh=onegrad.tensor(u,{label:"GRU: uh"}),this.wy=onegrad.tensor(l,{label:"GRU: wy"}),this.prev=onegrad.zeros([1,t],{label:"GRU: prev"})}forward(r){var t=onegrad.sigmoid(this.wz.dot(r).add(this.uz.dot(this.prev))),n=onegrad.sigmoid(this.wr.dot(r).add(this.ur.dot(this.prev))).mul(this.prev),e=onegrad.tanh(this.wh.dot(r).add(this.uh.dot(n))),i=t.negative().add(this.one),a=t.mul(this.prev).add(i.mul(e)),o=this.wy.dot(a);return o=onegrad.sigmoid(o),this.prev=o.identity(),this.prev="prev",this.prev.detach(),o}parameters(){return[this.wz,this.uz,this.wr,this.uz,this.wh,this.uz,this.wy]}resetPrev(){this.prev=onegrad.zeros([1,this.outDim]),this.wz.parents=[],this.uz.parents=[],this.wr.parents=[],this.uz.parents=[],this.wh.parents=[],this.uz.parents=[],this.wy.parents=[]}},Module:class{constructor(){this.train=!0}parameters(){var r=[];for(var t of this.layers)for(var n of t.parameters())r.push(n);return r}train(){this.train=!0}eval(){this.train=!1}save(r){var t=this.parameters(),n=[];for(var e of t)n.push(e.selection.tolist());a.writeFileSync(r,JSON.stringify(n))}load(r){var t=this.parameters();const n=a.readFileSync(r),i=JSON.parse(n);for(let r=0;r<t.length;r++)t[r].selection=e.array(i[r])}loadFromJson(r){var t=this.parameters();for(let n=0;n<t.length;n++)t[n].selection=e.array(r[n])}},MSE:class{constructor(){this.power=new onegrad.tensor([2],{requiresGrad:!1})}compute(r,t){return r.sub(t).pow(this.power)}},MAE:class{constructor(){this.power=new onegrad.tensor([2],{requiresGrad:!1}),this.half=new onegrad.tensor([.5],{requiresGrad:!1})}compute(r,t){return r.sub(t).pow(this.power).pow(this.half)}},NLLLoss:class{constructor(r,t=!1){this.reduction=t;var n=e.ones([1,r]),i=e.multiply(n,-1);this.negaitveOnes=new onegrad.tensor(i,{requiresGrad:!1})}compute(r,t){var n=t.mul(this.negaitveOnes),e=r.mul(n);return this.reduction&&(e=e.sum()),e}},CrossEntropyLoss:class{constructor(){this.one=onegrad.tensor([1],{requiresGrad:!1})}compute(r,t){var n=r.dot(t.log()),e=r.negative().add(this.one),i=t.negative().add(this.one).log();return n.add(e.dot(i)).negative()}},ClipGradients:class{constructor(r,t=-5,n=5){this.params=r,this.min=t,this.max=n}clip(){for(var r of this.params){var t=r.grad;t=utils._iterator(t,r=>Math.min(r,this.max)),t=utils._iterator(t,r=>Math.max(r,this.min)),r.grad=t}}}}},{"./ops.js":46,fs:3,numjs:38}],49:[function(r,t,n){var e=r("numjs");t.exports={OnehotEncoder:class{constructor(r,t){this.vocabSize=r,this.mapping=t}encode(r){var t=new Array(this.vocabSize).fill(0);return t[this.mapping[r]]=1,t}},randomChoice:function(r,t,n=1){return Array.from(Array(n),function(r,t){var n=t.reduce((r,t)=>r+t)*Math.random();return r[t.findIndex(r=>(n-=r)<0)]}.bind(null,r,t))},diagFlat:function(r){r=r.flatten();var t=e.identity(r.shape[0]),n=e.stack(Array(r.shape[0]).fill(r));return e.multiply(n,t)},_iterator:function(r,t,...n){var i=r.flatten().tolist();for(let r=0;r<i.length;r++)i[r]=t(i[r],...n)+0;return e.array(i).reshape(r.shape)}}},{numjs:38}]},{},[45,47,48])(48)});